{"version":3,"sources":["i18n.ts","components/analytics/GoogleAnalyticsReporter.tsx","assets/svg/Aqua.svg","assets/images/menu.svg","state/application/actions.ts","connectors/Fortmatic.ts","connectors/NetworkConnector.ts","connectors/index.ts","constants/index.ts","hooks/index.ts","state/application/hooks.ts","state/user/actions.ts","state/user/hooks.tsx","theme/components.tsx","theme/index.tsx","components/Menu/index.tsx","hooks/useOnClickOutside.tsx","components/Row/index.tsx","state/tokens/actions.ts","apollo/client.ts","data/tokens/poolsForToken.ts","data/tokens/chartData.ts","utils/queries.ts","hooks/useBlocksFromTimestamps.ts","data/tokens/priceData.ts","utils/index.ts","state/tokens/hooks.ts","utils/data.ts","hooks/useEthPrices.ts","utils/tokens.ts","data/tokens/tokenData.ts","state/pools/actions.ts","data/pools/chartData.ts","types/index.ts","data/pools/transactions.ts","state/pools/hooks.ts","data/search/index.ts","components/Column/index.tsx","components/Logo/index.tsx","components/CurrencyLogo/index.tsx","utils/numbers.ts","components/DoubleLogo/index.tsx","components/Card/index.tsx","hooks/useTheme.ts","components/Button/index.tsx","components/Popover/index.tsx","hooks/useInterval.ts","components/Tooltip/index.tsx","components/HoverInlineText/index.tsx","components/Search/index.tsx","components/Header/index.tsx","components/Header/URLWarning.tsx","state/lists/actions.ts","utils/listVersionLabel.ts","components/Popups/ListUpdatePopup.tsx","components/Popups/TransactionPopup.tsx","components/Popups/PopupItem.tsx","components/Popups/index.tsx","theme/DarkModeQueryParamReader.tsx","components/LineChart/alt.tsx","state/protocol/actions.ts","state/protocol/hooks.ts","components/Percent/index.tsx","assets/images/whitev3.svg","components/Loader/index.tsx","components/Text/index.ts","components/shared/index.tsx","components/pools/PoolTable.tsx","pages/styled.ts","utils/date.ts","components/BarChart/alt.tsx","components/TransactionsTable/index.tsx","pages/Home/index.tsx","pages/Protocol/index.tsx","pages/Pool/PoolsOverview.tsx","components/tokens/TokenTable.tsx","components/tokens/TopTokenMovers.tsx","pages/Token/TokensOverview.tsx","components/Header/Polling.tsx","components/Header/TopBar.tsx","hooks/useColor.ts","components/Toggle/index.tsx","components/CandleChart/index.tsx","pages/Token/TokenPage.tsx","constants/intervals.ts","pages/Token/redirects.tsx","data/pools/tickData.ts","components/DensityChart/CurrentPriceLabel.tsx","components/DensityChart/CustomToolTip.tsx","components/DensityChart/index.tsx","pages/Pool/PoolPage.tsx","pages/App.tsx","state/application/reducer.ts","state/global/actions.ts","state/user/reducer.ts","constants/lists.ts","state/lists/reducer.ts","state/multicall/actions.ts","state/multicall/reducer.ts","state/protocol/reducer.ts","state/tokens/reducer.ts","state/pools/reducer.ts","state/index.ts","state/user/updater.tsx","data/protocol/overview.ts","data/protocol/chart.ts","data/protocol/transactions.ts","state/protocol/updater.ts","data/tokens/topTokens.ts","state/tokens/updater.ts","data/pools/topPools.ts","data/pools/poolData.ts","state/pools/updater.ts","data/application/index.ts","state/application/updater.ts","index.tsx"],"names":["i18next","use","XHR","LanguageDetector","initReactI18next","init","backend","loadPath","react","useSuspense","fallbackLng","preload","keySeparator","interpolation","escapeValue","GoogleAnalyticsReporter","location","pathname","search","useEffect","ReactGA","pageview","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","SvgMenu","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","ForwardRef","ApplicationModal","updateBlockNumber","createAction","setOpenModal","addPopup","removePopup","updateSubgraphStatus","CHAIN_ID_NETWORK_ARGUMENT","ChainId","MAINNET","undefined","ROPSTEN","RINKEBY","KOVAN","FortmaticConnector","a","fortmatic","Fortmatic","default","apiKey","chainId","Error","provider","getProvider","pollForOverlayReady","Promise","resolve","interval","setInterval","overlayReady","clearInterval","emit","all","enable","then","accounts","account","FortmaticConnectorCore","RequestError","message","code","data","MiniRpcProvider","url","batchWaitTimeMs","isMetaMask","host","path","nextId","batchTimeoutId","batch","clearBatch","console","debug","fetch","method","headers","accept","body","JSON","stringify","map","item","request","response","forEach","reject","ok","status","statusText","json","byKey","reduce","memo","current","result","error","sendAsync","callback","params","jsonrpc","catch","toString","promise","push","setTimeout","parsed","URL","NetworkConnector","urls","defaultChainId","invariant","supportedChainIds","k","Number","providers","currentChainId","accumulator","AbstractConnector","NETWORK_URL","process","FORMATIC_KEY","REACT_APP_FORTMATIC_KEY","PORTIS_ID","REACT_APP_PORTIS_ID","NETWORK_CHAIN_ID","parseInt","InjectedConnector","WalletConnectConnector","rpc","1","bridge","qrcode","pollingInterval","PortisConnector","dAppId","networks","WalletLinkConnector","appName","appLogoUrl","MAX_UINT128","BigNumber","from","pow","sub","WETH_ADDRESS","DAI","Token","USDC","USDT","COMP","MKR","AMPL","WBTC","UNI_ADDRESS","WETH_ONLY","GÃ–RLI","WETH9","TOKEN_HIDE","address","POOL_HIDE","BIPS_BASE","JSBI","BigInt","Percent","exponentiate","useActiveWeb3React","context","useWeb3ReactCore","contextNetwork","active","useModalOpen","modal","useSelector","state","application","openModal","useToggleModal","open","dispatch","useDispatch","useCallback","useRemovePopup","useSubgraphStatus","subgraphStatus","available","syncedBlock","updateMatchesDarkMode","updateUserDarkMode","addSerializedToken","removeSerializedToken","addSavedToken","changeProtocol","addSavedPool","addSerializedPair","removeSerializedPair","toggleURLWarning","useSavedTokens","savedTokens","user","useSavedPools","savedPools","useURLWarningVisible","URLWarningVisible","StyledInternalLink","styled","button","attrs","warning","theme","backgroundColor","red1","primary1","white","darken","bg1","text4","X","div","size","marginRight","marginLeft","blue1","disabled","text2","Link","fontSize","StyledLink","rotateImg","LinkIconFeather","Trash","text3","keyframes","img","ExternalLink","href","rel","rest","handleClick","event","ctrlKey","metaKey","outboundLink","label","preventDefault","window","onClick","rotate","Spinner","text1","span","mediaWidth","upToMedium","HideMedium","HideSmall","upToSmall","HideExtraSmall","upToExtraSmall","ExtraSmallOnly","MEDIA_WIDTHS","upToLarge","mediaWidthTemplates","b","c","css","colors","darkMode","black","text5","bg0","bg2","bg3","bg4","bg5","modalBG","advancedBG","primary2","primary3","primary4","primary5","primaryText1","secondary1","secondary2","secondary3","pink1","red2","red3","green1","yellow1","yellow2","yellow3","blue2","ThemeProvider","children","matchesDarkMode","userDarkMode","shallowEqual","useIsDarkMode","themeObject","useMemo","grids","sm","md","lg","shadow1","flexColumnNoWrap","flexRowNoWrap","TextWrapper","Text","color","TYPE","fontWeight","FixedGlobalStyle","createGlobalStyle","ThemedGlobalStyle","StyledMenuIcon","MenuIcon","StyledMenuButton","StyledMenu","MenuFlyout","MenuItem","Menu","node","useRef","MENU","toggle","handler","handlerRef","handleClickOutside","e","contains","document","addEventListener","removeEventListener","useOnClickOutside","Row","Box","align","justify","padding","border","borderRadius","RowBetween","RowFlat","AutoRow","gap","RowFixed","ResponsiveRow","updateTokenData","addTokenKeys","addPoolAddresses","updateChartData","updateTransactions","updatePriceData","client","ApolloClient","uri","cache","InMemoryCache","queryDeduplication","defaultOptions","watchQuery","fetchPolicy","query","errorPolicy","healthClient","blockClient","POOLS_FOR_TOKEN","gql","fetchPoolsForToken","variables","loading","Boolean","addresses","formattedData","asToken0","concat","asToken1","p","dayjs","extend","utc","weekOfYear","ONE_DAY_UNIX","TOKEN_CHART","fetchTokenChartData","startTimestamp","endTimestamp","unix","skip","allFound","startTime","chartResData","tokenDayDatas","formattedExisting","accum","dayData","date","toFixed","volumeUSD","parseFloat","totalValueLockedUSD","firstEntry","timestamp","latestTvl","nextDay","currentDayIndex","includes","dateMap","splitQuery","vars","values","skipCount","fetchedData","end","sliced","slice","log","useDeltaTimestamps","utcCurrentTime","subtract","startOf","GET_BLOCKS","timestamps","queryString","useBlocksFromTimestamps","useState","blocks","setBlocks","setError","results","fetchData","formatted","t","split","number","getBlocksFromTimestamps","PRICE_CHART","fetchTokenPriceData","time","priceData","errors","tokenHourDatas","formattedHistory","periodStartUnix","close","high","low","isAddress","value","getAddress","ETHERSCAN_PREFIXES","3","4","5","42","getEtherscanLink","type","prefix","currentTimestamp","Date","getTime","shortenAddress","chars","substring","Fraction","escapeRegExp","string","replace","feeTierPercent","fee","toPrecision","notEmpty","useAllTokenData","tokens","byAddress","useAddTokenKeys","tokenAddresses","useTokenDatas","allTokenData","filter","getPercentChange","valueNow","value24HoursAgo","change","isFinite","ETH_PRICES","fetchEthPrices","block24","block48","blockWeek","ethPriceUSD","oneDay","twoDay","week","oneWeek","useEthPrices","prices","setPrices","blockError","formattedBlocks","formatTokenSymbol","symbol","formatTokenName","name","TOKENS_BULK","block","tokenString","useFetchedTokenDatas","ethPrices","useQuery","loading24","error24","data24","loading48","error48","data48","loadingWeek","errorWeek","dataWeek","anyError","anyLoading","poolData","parsed24","parsed48","parsedWeek","value48HoursAgo","currentChange","previousChange","adjustedPercentChange","isNaN","get2DayChange","volumeUSDChange","volumeUSDWeek","tvlUSD","tvlUSDChange","tvlToken","totalValueLocked","priceUSD","derivedETH","priceUSDOneDay","priceUSDWeek","priceUSDChange","priceUSDChangeWeek","txCount","feesUSD","exists","updatePoolData","addPoolKeys","updatePoolChartData","updatePoolTransactions","updateTickData","TransactionType","POOL_CHART","fetchPoolChartData","whitelistedPoolDayDatas","aquaPremiumUSD","POOL_TRANSACTIONS","fetchPoolTransactions","mints","stakes","m","MINT","hash","stakeTime","pool","feeTier","token0","token1","tokenId","staker","burns","unstakes","BURN","unstakeTime","useAllPoolData","pools","useAddPoolKeys","poolAddresses","usePoolDatas","allPoolData","untrackedAddresses","TOKEN_SEARCH","POOL_SEARCH","Column","AutoColumn","BAD_SRCS","getTokenLogoURL","StyledLogo","srcs","alt","refresh","src","find","onError","CurrencyLogo","style","checkSummed","formatDollarAmount","num","digits","round","numbro","formatCurrency","average","mantissa","abbreviations","million","billion","formatAmount","format","Wrapper","sizeraw","margin","HigherLogo","CoveredLogo","DoubleCurrencyLogo","address0","address1","Card","LightCard","LightGreyCard","GreyCard","DarkGreyCard","GreyBadge","useTheme","useContext","ThemeContext","Base","RebassButton","ButtonPrimary","bgColor","altDisabledStyle","ButtonGray","ButtonSecondary","ButtonOutlined","lighten","HoverIcon","SavedIcon","PopoverContainer","show","transparentize","ReferenceElement","Arrow","Popover","content","placement","referenceElement","setReferenceElement","popperElement","setPopperElement","arrowElement","setArrowElement","usePopper","strategy","modifiers","options","offset","element","styles","update","attributes","delay","leading","savedCallback","tick","useInterval","popper","className","arrow","TooltipContainer","Tooltip","text","link","adjustSize","HoverInlineText","maxCharacters","showHover","setShowHover","onMouseEnter","onMouseLeave","Container","StyledInput","input","hide","Blackout","ResponsiveGrid","Break","HoverText","HoverRowLink","OptionButton","enabled","Search","history","useHistory","menuRef","textRef","handleDown","focus","focused","setFocused","showMenu","setShowMenu","setValue","allTokens","allPools","tokenData","setTokenData","setPoolData","toUpperCase","asSymbol","allFetchedTokens","asAddress","asName","allFetchedPools","as0","as1","tokenFullDatas","tokenFullLoading","poolDatasFull","formattedTokens","newTokens","combinedTokens","filteredSortedTokens","tokenEntryKey","match","RegExp","some","newPools","combinedPools","toLocaleLowerCase","useFetchSearchResults","tokensShown","setTokensShown","poolsShown","setPoolsShown","handleNav","to","watchListTokenData","watchListPoolData","showWatchlist","setShowWatchlist","tokensForList","sort","t0","t1","poolForList","p0","p1","keyName","onKeyDown","onChange","placeholder","onFocus","onBlur","pl","textAlign","ml","stopPropagation","whiteSpace","token0Price","HeaderFrame","HeaderControls","HeaderElementWrap","HeaderRow","HeaderLinks","Title","NavLink","UniIcon","activeClassName","StyledNavLink","Header","AquaLogo","isActive","PhishAlert","StyledClose","URLWarning","useURLWarningToggle","showURLWarning","isMobile","display","hostname","fetchTokenList","pending","fulfilled","rejected","addList","removeList","enableList","disableList","acceptListUpdate","listVersionLabel","version","major","minor","patch","ChangesList","ul","ListUpdatePopup","popKey","listUrl","oldList","newList","auto","removeThisPopup","handleAcceptUpdate","category","action","diffTokenLists","tokensAdded","added","tokensChanged","changed","tokensRemoved","removed","numTokensChanged","flex","token","Fragment","flexGrow","RowNoFlex","TransactionPopup","success","summary","paddingRight","Popup","Fader","AnimatedFader","animated","PopupItem","removeAfterMs","timeout","clearTimeout","popupContent","txn","listUpdate","faderStyle","useSpring","config","duration","MobilePopupWrapper","MobilePopupInner","FixedPopupColumn","extraPadding","Popups","activePopups","list","popupList","useActivePopups","urlWarningActive","reverse","DarkModeQueryParamReader","parse","parseArrays","ignoreQueryPrefix","toLowerCase","Chart","setLabel","topLeft","topRight","bottomLeft","bottomRight","minHeight","parsedValue","ResponsiveContainer","AreaChart","top","right","left","bottom","x1","y1","x2","y2","stopColor","stopOpacity","XAxis","dataKey","axisLine","tickLine","tickFormatter","minTickGap","cursor","contentStyle","formatter","payload","formattedTime","Area","updateProtocolData","useProtocolData","protocolData","protocol","useProtocolChartData","chartData","useProtocolTransactions","transactions","negative","decimals","wrap","simple","truncated","neutral","Math","abs","StyledSVG","svg","Loader","pulse","AnimatedImg","LocalLoader","v3","loadingAnimation","LoadingRows","Label","ClickableText","PageButtons","faded","MonoSpace","LinkWrapper","SORT_FIELD","DataRow","index","aquaPremiumCollectedUSD","aquaPremium","PoolTable","poolDatas","maxItems","sortField","setSortField","sortDirection","setSortDirection","page","setPage","maxPage","setMaxPage","extraPages","floor","sortedPools","x","handleSort","newField","field","PageWrapper","ThemedBackground","ThemedBackgroundGlobal","unixToDate","formatTime","now","inSeconds","diff","inMinutes","inHours","inDays","CustomBar","y","rx","BarChart","Bar","shape","SortText","transaction","TransactionTable","txFilter","setTxFilter","sortedTransactions","ChartWrapper","Home","scrollTo","volumeHover","setVolumeHover","liquidityHover","setLiquidityHover","leftLabel","setLeftLabel","rightLabel","setRightLabel","formattedTvlData","day","formattedVolumeData","mr","activeTvlUSD","activeTvlUSDChange","aquaPremiumChange","Protocol","PoolPage","watchlistPools","ResponsiveLogo","TokenTable","tokenDatas","sortedTokens","CardWrapper","FixedContainer","ScrollableRow","DataCard","lineHeight","TopTokenMovers","topPriceIncrease","min","increaseRef","increaseSet","setIncreaseSet","scrollLeft","scrollWidth","entry","TokensOverview","watchListTokens","paddingTop","StyledPolling","StyledPollingDot","rotate360","Polling","isMounted","setIsMounted","latestBlock","timer1","opacity","Item","TopBar","justifyContent","Vibrant","getPalette","palette","detectedHex","hex","AAscore","shade","useColor","setColor","formattedAddress","useLayoutEffect","stale","getColorFromToken","tokenColor","isOnSwitch","ToggleWrapper","ToggleElementFree","ChartView","CandleChart","textColor","chartRef","chartCreated","setChart","handleResize","parentElement","resize","clientWidth","timeScale","fitContent","scrollToPosition","isClient","chart","createChart","layout","fontFamily","rightPriceScale","scaleMargins","borderVisible","secondsVisible","tickMarkFormatter","unixTime","watermark","visible","grid","horzLines","vertLines","crosshair","horzLine","labelVisible","mode","vertLine","labelBackgroundColor","series","addCandlestickSeries","upColor","downColor","borderDownColor","borderUpColor","wickDownColor","wickUpColor","setData","subscribeCrosshairMove","param","point","seriesPrices","get","PriceText","ContentLayout","TokenPage","useTokenData","poolsForToken","tokenAddress","usePoolsForToken","useTokenChartData","PRICE","view","setView","latestValue","setLatestValue","valueLabel","setValueLabel","timeWindow","oldestTimestampFetched","oldestFetchedTimestamp","fetchingError","secondsInterval","useTokenPriceData","adjustedToCurrent","adjusted","marginTop","alignItems","VOL","TVL","RedirectInvalidToken","FEE_TIER_TO_TICK_SPACING","fetchInitializedTicks","poolAddress","tickIdxLowerBound","tickIdxUpperBound","tickQuery","surroundingTicks","surroundingTicksResult","ticks","poolQuery","fetchTicksSurroundingPrice","numSurroundingTicks","poolResult","poolCurrentTick","liquidity","token0Address","token0Decimals","token1Address","token1Decimals","poolCurrentTickIdx","tickSpacing","activeTickIdx","initializedTicksResult","initializedTicks","tickIdxToInitializedTick","keyBy","activeTickIdxForPrice","TickMath","MIN_TICK","MAX_TICK","activeTickProcessed","liquidityActive","tickIdx","liquidityNet","price0","tickToPrice","price1","liquidityGross","activeTick","Direction","subsequentTicks","computeSurroundingTicks","direction","previousTickProcessed","processedTicks","currentTickIdx","ASC","currentTickProcessed","currentInitializedTick","add","DESC","notEqual","previousTicks","ticksProcessed","CurrentPriceLabel","chartProps","labelData","entryData","isCurrent","toLocaleString","minimumSignificantDigits","TooltipWrapper","CustomToolTip","currentPrice","tvlToken0","tvlToken1","ControlsWrapper","ActionButton","ZOOM_INTERVAL","initialState","INITIAL_TICKS_TO_FETCH","refAreaLeft","refAreaRight","DensityChart","formattedAddress0","formattedAddress1","tickData","usePoolTickData","poolTickData","updatePoolTickData","ticksToFetch","setTicksToFetch","amountTicks","setLoading","zoomState","setZoomState","setFormattedData","sqrtPriceX96","getSqrtRatioAtTick","feeAmount","mockTicks","TICK_SPACINGS","multiply","Pool","nextSqrtX96","maxAmountToken0","CurrencyAmount","fromRawAmount","getOutputAmount","outputRes0","token1Amount","amount0","toExact","amount1","activeLiquidity","newData","formatData","atZoomMax","atZoomMin","handleZoomIn","handleZoomOut","zoomedData","reversed","isAnimationActive","Cell","LabelList","position","TokenButton","usePoolChartData","usePoolTransactions","token1Price","totalValueLockedToken0","totalValueLockedToken1","aquaPremiumCollectedUSDChange","DENSITY","AppWrapper","HeaderWrapper","BodyWrapper","Marginer","App","fallback","component","maxWidth","exact","strict","PoolsOverview","blockNumber","createReducer","builder","addCase","max","popup","nanoid","updateVersion","pairKey","pairs","lastUpdateVersionTimestamp","serializedToken","serializedPair","tokenAAddress","tokenBAddress","GEMINI_LIST","DEFAULT_LIST_OF_LISTS","DEFAULT_ACTIVE_LIST_URLS","NEW_LIST_STATE","loadingRequestId","pendingUpdate","lastInitializedDefaultListOfLists","byUrl","activeListUrls","requestId","tokenList","getVersionUpgrade","VersionUpgrade","NONE","errorMessage","u","lastInitializedSet","s","l","Set","newListOfListsSet","has","ADDRESS_REGEX","LOWER_HEX_REGEX","toCallKey","test","callData","addMulticallListeners","removeMulticallListeners","fetchingMulticallResults","errorFetchingMulticallResults","updateMulticallResults","callResults","calls","blocksPerFetch","listeners","callListeners","callKey","fetchingBlockNumber","lastUpdated","PERSISTED_KEYS","store","configureStore","reducer","multicall","lists","middleware","getDefaultMiddleware","thunk","immutableCheck","save","states","preloadedState","load","Updater","darkHandler","matches","matchMedia","addListener","removeListener","GLOBAL_DATA","GLOBAL_CHART","fetchChartData","aquaUniswapV3DayDatas","GLOBAL_TRANSACTIONS","fetchTopTransactions","mintEntries","burnEntries","aquaPrimaries","useFetchProtocolData","fetchedProtocolData","useFetchGlobalChartData","fetchedChartData","chartError","TOP_TOKENS","updateTokenDatas","useUpdateTokenData","useTopTokenAddresses","tokenDataError","tokenDataLoading","TOP_POOLS","POOLS_BULK","poolString","useUpdatePoolData","whitelistedPools","useTopPoolAddresses","createdAtTimestamp","aquaPremiumCollected","stakeCount","unstakeCount","poolDataError","poolDataLoading","SUBGRAPH_HEALTH","updateStatus","indexingStatusForCurrentVersion","headBlock","chains","chainHeadBlock","useFetchedSubgraphStatus","newSyncedBlock","GOOGLE_ANALYTICS_ID","REACT_APP_GOOGLE_ANALYTICS_ID","Updaters","initialize","set","customBrowserType","testMode","exception","description","filename","lineno","colno","fatal","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.95e5bbdc.chunk.js","sourcesContent":["import i18next from 'i18next'\r\nimport { initReactI18next } from 'react-i18next'\r\nimport XHR from 'i18next-xhr-backend'\r\nimport LanguageDetector from 'i18next-browser-languagedetector'\r\n\r\ni18next\r\n  .use(XHR)\r\n  .use(LanguageDetector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    backend: {\r\n      loadPath: `./locales/{{lng}}.json`,\r\n    },\r\n    react: {\r\n      useSuspense: true,\r\n    },\r\n    fallbackLng: 'en',\r\n    preload: ['en'],\r\n    keySeparator: false,\r\n    interpolation: { escapeValue: false },\r\n  })\r\n\r\nexport default i18next\r\n","import { useEffect } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { RouteComponentProps } from 'react-router-dom'\r\n\r\n// fires a GA pageview every time the route changes\r\nexport default function GoogleAnalyticsReporter({ location: { pathname, search } }: RouteComponentProps): null {\r\n  useEffect(() => {\r\n    ReactGA.pageview(`${pathname}${search}`)\r\n  }, [pathname, search])\r\n  return null\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Aqua.80d47235.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z\",\n  stroke: \"black\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z\",\n  stroke: \"black\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z\",\n  stroke: \"black\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgMenu(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMenu);\nexport default __webpack_public_path__ + \"static/media/menu.f7a8c0ea.svg\";\nexport { ForwardRef as ReactComponent };","import { createAction } from '@reduxjs/toolkit'\r\nimport { TokenList } from '@uniswap/token-lists'\r\n\r\nexport type PopupContent = {\r\n  listUpdate: {\r\n    listUrl: string\r\n    oldList: TokenList\r\n    newList: TokenList\r\n    auto: boolean\r\n  }\r\n}\r\n\r\nexport enum ApplicationModal {\r\n  WALLET,\r\n  SETTINGS,\r\n  MENU,\r\n}\r\n\r\nexport const updateBlockNumber = createAction<{ chainId: number; blockNumber: number }>('application/updateBlockNumber')\r\nexport const setOpenModal = createAction<ApplicationModal | null>('application/setOpenModal')\r\nexport const addPopup = createAction<{ key?: string; removeAfterMs?: number | null; content: PopupContent }>(\r\n  'application/addPopup'\r\n)\r\nexport const removePopup = createAction<{ key: string }>('application/removePopup')\r\nexport const updateSubgraphStatus = createAction<{ available: boolean | null; syncedBlock: number | undefined }>(\r\n  'application/updateSubgraphStatus'\r\n)\r\n","import { ChainId } from '@uniswap/sdk-core'\r\nimport { FortmaticConnector as FortmaticConnectorCore } from '@web3-react/fortmatic-connector'\r\n\r\nexport const OVERLAY_READY = 'OVERLAY_READY'\r\n\r\ntype FormaticSupportedChains = Extract<ChainId, ChainId.MAINNET | ChainId.ROPSTEN | ChainId.RINKEBY | ChainId.KOVAN>\r\n\r\nconst CHAIN_ID_NETWORK_ARGUMENT: { readonly [chainId in FormaticSupportedChains]: string | undefined } = {\r\n  [ChainId.MAINNET]: undefined,\r\n  [ChainId.ROPSTEN]: 'ropsten',\r\n  [ChainId.RINKEBY]: 'rinkeby',\r\n  [ChainId.KOVAN]: 'kovan',\r\n}\r\n\r\nexport class FortmaticConnector extends FortmaticConnectorCore {\r\n  async activate() {\r\n    if (!this.fortmatic) {\r\n      const { default: Fortmatic } = await import('fortmatic')\r\n\r\n      const { apiKey, chainId } = this as any\r\n      if (chainId in CHAIN_ID_NETWORK_ARGUMENT) {\r\n        this.fortmatic = new Fortmatic(apiKey, CHAIN_ID_NETWORK_ARGUMENT[chainId as FormaticSupportedChains])\r\n      } else {\r\n        throw new Error(`Unsupported network ID: ${chainId}`)\r\n      }\r\n    }\r\n\r\n    const provider = this.fortmatic.getProvider()\r\n\r\n    const pollForOverlayReady = new Promise((resolve) => {\r\n      const interval = setInterval(() => {\r\n        if (provider.overlayReady) {\r\n          clearInterval(interval)\r\n          this.emit(OVERLAY_READY)\r\n          resolve()\r\n        }\r\n      }, 200)\r\n    })\r\n\r\n    const [account] = await Promise.all([\r\n      provider.enable().then((accounts: string[]) => accounts[0]),\r\n      pollForOverlayReady,\r\n    ])\r\n\r\n    return { provider: this.fortmatic.getProvider(), chainId: (this as any).chainId, account }\r\n  }\r\n}\r\n","import { ConnectorUpdate } from '@web3-react/types'\r\nimport { AbstractConnector } from '@web3-react/abstract-connector'\r\nimport invariant from 'tiny-invariant'\r\n\r\ninterface NetworkConnectorArguments {\r\n  urls: { [chainId: number]: string }\r\n  defaultChainId?: number\r\n}\r\n\r\n// taken from ethers.js, compatible interface with web3 provider\r\ntype AsyncSendable = {\r\n  isMetaMask?: boolean\r\n  host?: string\r\n  path?: string\r\n  sendAsync?: (request: any, callback: (error: any, response: any) => void) => void\r\n  send?: (request: any, callback: (error: any, response: any) => void) => void\r\n}\r\n\r\nclass RequestError extends Error {\r\n  constructor(message: string, public code: number, public data?: unknown) {\r\n    super(message)\r\n  }\r\n}\r\n\r\ninterface BatchItem {\r\n  request: { jsonrpc: '2.0'; id: number; method: string; params: unknown }\r\n  resolve: (result: any) => void\r\n  reject: (error: Error) => void\r\n}\r\n\r\nclass MiniRpcProvider implements AsyncSendable {\r\n  public readonly isMetaMask: false = false\r\n  public readonly chainId: number\r\n  public readonly url: string\r\n  public readonly host: string\r\n  public readonly path: string\r\n  public readonly batchWaitTimeMs: number\r\n\r\n  private nextId = 1\r\n  private batchTimeoutId: ReturnType<typeof setTimeout> | null = null\r\n  private batch: BatchItem[] = []\r\n\r\n  constructor(chainId: number, url: string, batchWaitTimeMs?: number) {\r\n    this.chainId = chainId\r\n    this.url = url\r\n    const parsed = new URL(url)\r\n    this.host = parsed.host\r\n    this.path = parsed.pathname\r\n    // how long to wait to batch calls\r\n    this.batchWaitTimeMs = batchWaitTimeMs ?? 50\r\n  }\r\n\r\n  public readonly clearBatch = async () => {\r\n    console.debug('Clearing batch', this.batch)\r\n    const batch = this.batch\r\n    this.batch = []\r\n    this.batchTimeoutId = null\r\n    let response: Response\r\n    try {\r\n      response = await fetch(this.url, {\r\n        method: 'POST',\r\n        headers: { 'content-type': 'application/json', accept: 'application/json' },\r\n        body: JSON.stringify(batch.map((item) => item.request)),\r\n      })\r\n    } catch (error) {\r\n      batch.forEach(({ reject }) => reject(new Error('Failed to send batch call')))\r\n      return\r\n    }\r\n\r\n    if (!response.ok) {\r\n      batch.forEach(({ reject }) => reject(new RequestError(`${response.status}: ${response.statusText}`, -32000)))\r\n      return\r\n    }\r\n\r\n    let json\r\n    try {\r\n      json = await response.json()\r\n    } catch (error) {\r\n      batch.forEach(({ reject }) => reject(new Error('Failed to parse JSON response')))\r\n      return\r\n    }\r\n    const byKey = batch.reduce<{ [id: number]: BatchItem }>((memo, current) => {\r\n      memo[current.request.id] = current\r\n      return memo\r\n    }, {})\r\n    for (const result of json) {\r\n      const {\r\n        resolve,\r\n        reject,\r\n        request: { method },\r\n      } = byKey[result.id]\r\n      if (resolve && reject) {\r\n        if ('error' in result) {\r\n          reject(new RequestError(result?.error?.message, result?.error?.code, result?.error?.data))\r\n        } else if ('result' in result) {\r\n          resolve(result.result)\r\n        } else {\r\n          reject(new RequestError(`Received unexpected JSON-RPC response to ${method} request.`, -32000, result))\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public readonly sendAsync = (\r\n    request: {\r\n      jsonrpc: '2.0'\r\n      id: number | string | null\r\n      method: string\r\n      params?: unknown[] | Record<string, unknown>\r\n    },\r\n    callback: (error: any, response: any) => void\r\n  ): void => {\r\n    this.request(request.method, request.params)\r\n      .then((result) => callback(null, { jsonrpc: '2.0', id: request.id, result }))\r\n      .catch((error) => callback(error, null))\r\n  }\r\n\r\n  public readonly request = async (\r\n    method: string | { method: string; params: unknown[] },\r\n    params?: unknown[] | Record<string, unknown>\r\n  ): Promise<unknown> => {\r\n    if (typeof method !== 'string') {\r\n      return this.request(method.method, method.params)\r\n    }\r\n    if (method === 'eth_chainId') {\r\n      return `0x${this.chainId.toString(16)}`\r\n    }\r\n    const promise = new Promise((resolve, reject) => {\r\n      this.batch.push({\r\n        request: {\r\n          jsonrpc: '2.0',\r\n          id: this.nextId++,\r\n          method,\r\n          params,\r\n        },\r\n        resolve,\r\n        reject,\r\n      })\r\n    })\r\n    this.batchTimeoutId = this.batchTimeoutId ?? setTimeout(this.clearBatch, this.batchWaitTimeMs)\r\n    return promise\r\n  }\r\n}\r\n\r\nexport class NetworkConnector extends AbstractConnector {\r\n  private readonly providers: { [chainId: number]: MiniRpcProvider }\r\n  private currentChainId: number\r\n\r\n  constructor({ urls, defaultChainId }: NetworkConnectorArguments) {\r\n    invariant(defaultChainId || Object.keys(urls).length === 1, 'defaultChainId is a required argument with >1 url')\r\n    super({ supportedChainIds: Object.keys(urls).map((k): number => Number(k)) })\r\n\r\n    this.currentChainId = defaultChainId || Number(Object.keys(urls)[0])\r\n    this.providers = Object.keys(urls).reduce<{ [chainId: number]: MiniRpcProvider }>((accumulator, chainId) => {\r\n      accumulator[Number(chainId)] = new MiniRpcProvider(Number(chainId), urls[Number(chainId)])\r\n      return accumulator\r\n    }, {})\r\n  }\r\n\r\n  public get provider(): MiniRpcProvider {\r\n    return this.providers[this.currentChainId]\r\n  }\r\n\r\n  public async activate(): Promise<ConnectorUpdate> {\r\n    return { provider: this.providers[this.currentChainId], chainId: this.currentChainId, account: null }\r\n  }\r\n\r\n  public async getProvider(): Promise<MiniRpcProvider> {\r\n    return this.providers[this.currentChainId]\r\n  }\r\n\r\n  public async getChainId(): Promise<number> {\r\n    return this.currentChainId\r\n  }\r\n\r\n  public async getAccount(): Promise<null> {\r\n    return null\r\n  }\r\n\r\n  public deactivate() {\r\n    return\r\n  }\r\n}\r\n","import { Web3Provider } from '@ethersproject/providers'\r\nimport { InjectedConnector } from '@web3-react/injected-connector'\r\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\r\nimport { WalletLinkConnector } from '@web3-react/walletlink-connector'\r\nimport { PortisConnector } from '@web3-react/portis-connector'\r\n\r\nimport { FortmaticConnector } from './Fortmatic'\r\nimport { NetworkConnector } from './NetworkConnector'\r\n\r\nconst NETWORK_URL = process.env.REACT_APP_NETWORK_URL\r\nconst FORMATIC_KEY = process.env.REACT_APP_FORTMATIC_KEY\r\nconst PORTIS_ID = process.env.REACT_APP_PORTIS_ID\r\n\r\nexport const NETWORK_CHAIN_ID: number = parseInt(process.env.REACT_APP_CHAIN_ID ?? '1')\r\n\r\nif (typeof NETWORK_URL === 'undefined') {\r\n  throw new Error(`REACT_APP_NETWORK_URL must be a defined environment variable`)\r\n}\r\n\r\nexport const network = new NetworkConnector({\r\n  urls: { [NETWORK_CHAIN_ID]: NETWORK_URL },\r\n})\r\n\r\nlet networkLibrary: Web3Provider | undefined\r\nexport function getNetworkLibrary(): Web3Provider {\r\n  return (networkLibrary = networkLibrary ?? new Web3Provider(network.provider as any))\r\n}\r\n\r\nexport const injected = new InjectedConnector({\r\n  supportedChainIds: [1, 3, 4, 5, 42],\r\n})\r\n\r\n// mainnet only\r\nexport const walletconnect = new WalletConnectConnector({\r\n  rpc: { 1: NETWORK_URL },\r\n  bridge: 'https://bridge.walletconnect.org',\r\n  qrcode: true,\r\n  pollingInterval: 15000,\r\n})\r\n\r\n// mainnet only\r\nexport const fortmatic = new FortmaticConnector({\r\n  apiKey: FORMATIC_KEY ?? '',\r\n  chainId: 1,\r\n})\r\n\r\n// mainnet only\r\nexport const portis = new PortisConnector({\r\n  dAppId: PORTIS_ID ?? '',\r\n  networks: [1],\r\n})\r\n\r\n// mainnet only\r\nexport const walletlink = new WalletLinkConnector({\r\n  url: NETWORK_URL,\r\n  appName: 'Uniswap',\r\n  appLogoUrl:\r\n    'https://mpng.pngfly.com/20181202/bex/kisspng-emoji-domain-unicorn-pin-badges-sticker-unicorn-tumblr-emoji-unicorn-iphoneemoji-5c046729264a77.5671679315437924251569.jpg',\r\n})\r\n","import { BigNumber } from '@ethersproject/bignumber'\r\nimport { ChainId, Percent, Token, WETH9 } from '@uniswap/sdk-core'\r\nimport JSBI from 'jsbi'\r\nimport { AbstractConnector } from '@web3-react/abstract-connector'\r\n\r\nimport { fortmatic, injected, portis, walletconnect, walletlink } from '../connectors'\r\n\r\nexport const FACTORY_ADDRESS = '0xFeabCc62240297F1e4b238937D68e7516f0918D7'\r\n\r\nexport const ROUTER_ADDRESS = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D'\r\n\r\nexport const ZERO_ADDRESS = '0x0000000000000000000000000000000000000000'\r\n\r\nexport const MAX_UINT128 = BigNumber.from(2).pow(128).sub(1)\r\n\r\n// a list of tokens by chain\r\ntype ChainTokenList = {\r\n  readonly [chainId in ChainId]: Token[]\r\n}\r\n\r\nexport const WETH_ADDRESS = '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2'\r\n\r\nexport const DAI = new Token(ChainId.MAINNET, '0x6B175474E89094C44Da98b954EedeAC495271d0F', 18, 'DAI', 'Dai Stablecoin')\r\nexport const USDC = new Token(ChainId.MAINNET, '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', 6, 'USDC', 'USD//C')\r\nexport const USDT = new Token(ChainId.MAINNET, '0xdAC17F958D2ee523a2206206994597C13D831ec7', 6, 'USDT', 'Tether USD')\r\nexport const COMP = new Token(ChainId.MAINNET, '0xc00e94Cb662C3520282E6f5717214004A7f26888', 18, 'COMP', 'Compound')\r\nexport const MKR = new Token(ChainId.MAINNET, '0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2', 18, 'MKR', 'Maker')\r\nexport const AMPL = new Token(ChainId.MAINNET, '0xD46bA6D942050d489DBd938a2C909A5d5039A161', 9, 'AMPL', 'Ampleforth')\r\nexport const WBTC = new Token(ChainId.MAINNET, '0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599', 8, 'WBTC', 'Wrapped BTC')\r\n\r\n// Block time here is slightly higher (~1s) than average in order to avoid ongoing proposals past the displayed time\r\nexport const AVERAGE_BLOCK_TIME_IN_SECS = 13\r\nexport const PROPOSAL_LENGTH_IN_BLOCKS = 40_320\r\nexport const PROPOSAL_LENGTH_IN_SECS = AVERAGE_BLOCK_TIME_IN_SECS * PROPOSAL_LENGTH_IN_BLOCKS\r\n\r\nexport const GOVERNANCE_ADDRESS = '0x5e4be8Bc9637f0EAA1A755019e06A68ce081D58F'\r\n\r\nexport const TIMELOCK_ADDRESS = '0x1a9C8182C09F50C8318d769245beA52c32BE35BC'\r\n\r\nconst UNI_ADDRESS = '0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984'\r\nexport const UNI: { [chainId in ChainId]: Token } = {\r\n  [ChainId.MAINNET]: new Token(ChainId.MAINNET, UNI_ADDRESS, 18, 'UNI', 'Uniswap'),\r\n  [ChainId.RINKEBY]: new Token(ChainId.RINKEBY, UNI_ADDRESS, 18, 'UNI', 'Uniswap'),\r\n  [ChainId.ROPSTEN]: new Token(ChainId.ROPSTEN, UNI_ADDRESS, 18, 'UNI', 'Uniswap'),\r\n  [ChainId.GÃ–RLI]: new Token(ChainId.GÃ–RLI, UNI_ADDRESS, 18, 'UNI', 'Uniswap'),\r\n  [ChainId.KOVAN]: new Token(ChainId.KOVAN, UNI_ADDRESS, 18, 'UNI', 'Uniswap'),\r\n}\r\n\r\nexport const COMMON_CONTRACT_NAMES: { [address: string]: string } = {\r\n  [UNI_ADDRESS]: 'UNI',\r\n  [GOVERNANCE_ADDRESS]: 'Governance',\r\n  [TIMELOCK_ADDRESS]: 'Timelock',\r\n}\r\n\r\n// TODO: specify merkle distributor for mainnet\r\nexport const MERKLE_DISTRIBUTOR_ADDRESS: { [chainId in ChainId]?: string } = {\r\n  [ChainId.MAINNET]: '0x090D4613473dEE047c3f2706764f49E0821D256e',\r\n}\r\n\r\nconst WETH_ONLY: ChainTokenList = {\r\n  [ChainId.MAINNET]: [WETH9[ChainId.MAINNET]],\r\n  [ChainId.ROPSTEN]: [WETH9[ChainId.ROPSTEN]],\r\n  [ChainId.RINKEBY]: [WETH9[ChainId.RINKEBY]],\r\n  [ChainId.GÃ–RLI]: [WETH9[ChainId.GÃ–RLI]],\r\n  [ChainId.KOVAN]: [WETH9[ChainId.KOVAN]],\r\n}\r\n\r\n// used to construct intermediary pairs for trading\r\nexport const BASES_TO_CHECK_TRADES_AGAINST: ChainTokenList = {\r\n  ...WETH_ONLY,\r\n  [ChainId.MAINNET]: [...WETH_ONLY[ChainId.MAINNET], DAI, USDC, USDT, COMP, MKR, WBTC],\r\n}\r\n\r\n/**\r\n * Some tokens can only be swapped via certain pairs, so we override the list of bases that are considered for these\r\n * tokens.\r\n */\r\nexport const CUSTOM_BASES: { [chainId in ChainId]?: { [tokenAddress: string]: Token[] } } = {\r\n  [ChainId.MAINNET]: {\r\n    [AMPL.address]: [DAI, WETH9[ChainId.MAINNET]],\r\n  },\r\n}\r\n\r\n// used to construct the list of all pairs we consider by default in the frontend\r\nexport const BASES_TO_TRACK_LIQUIDITY_FOR: ChainTokenList = {\r\n  ...WETH_ONLY,\r\n  [ChainId.MAINNET]: [...WETH_ONLY[ChainId.MAINNET], DAI, USDC, USDT, WBTC],\r\n}\r\n\r\nexport const NETWORK_ONLY = {\r\n  fetchPolicy: 'network-only',\r\n}\r\n\r\n// temporary! fixing USD accounting on subgraph - open issue if urgent\r\nexport const TOKEN_HIDE = ['0xd46ba6d942050d489dbd938a2c909a5d5039a161', '0x7dfb72a2aad08c937706f21421b15bfc34cba9ca']\r\nexport const POOL_HIDE = [\r\n  '0x86d257cdb7bc9c0df10e84c8709697f92770b335',\r\n  '0xf8dbd52488978a79dfe6ffbd81a01fc5948bf9ee',\r\n  '0x8fe8d9bb8eeba3ed688069c3d6b556c9ca258248',\r\n]\r\n\r\nexport const PINNED_PAIRS: { readonly [chainId in ChainId]?: [Token, Token][] } = {\r\n  [ChainId.MAINNET]: [\r\n    [\r\n      new Token(ChainId.MAINNET, '0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643', 8, 'cDAI', 'Compound Dai'),\r\n      new Token(ChainId.MAINNET, '0x39AA39c021dfbaE8faC545936693aC917d5E7563', 8, 'cUSDC', 'Compound USD Coin'),\r\n    ],\r\n    [USDC, USDT],\r\n    [DAI, USDT],\r\n  ],\r\n}\r\n\r\nexport interface WalletInfo {\r\n  connector?: AbstractConnector\r\n  name: string\r\n  iconName: string\r\n  description: string\r\n  href: string | null\r\n  color: string\r\n  primary?: true\r\n  mobile?: true\r\n  mobileOnly?: true\r\n}\r\n\r\nexport const SUPPORTED_WALLETS: { [key: string]: WalletInfo } = {\r\n  INJECTED: {\r\n    connector: injected,\r\n    name: 'Injected',\r\n    iconName: 'arrow-right.svg',\r\n    description: 'Injected web3 provider.',\r\n    href: null,\r\n    color: '#010101',\r\n    primary: true,\r\n  },\r\n  METAMASK: {\r\n    connector: injected,\r\n    name: 'MetaMask',\r\n    iconName: 'metamask.png',\r\n    description: 'Easy-to-use browser extension.',\r\n    href: null,\r\n    color: '#E8831D',\r\n  },\r\n  WALLET_CONNECT: {\r\n    connector: walletconnect,\r\n    name: 'WalletConnect',\r\n    iconName: 'walletConnectIcon.svg',\r\n    description: 'Connect to Trust Wallet, Rainbow Wallet and more...',\r\n    href: null,\r\n    color: '#4196FC',\r\n    mobile: true,\r\n  },\r\n  WALLET_LINK: {\r\n    connector: walletlink,\r\n    name: 'Coinbase Wallet',\r\n    iconName: 'coinbaseWalletIcon.svg',\r\n    description: 'Use Coinbase Wallet app on mobile device',\r\n    href: null,\r\n    color: '#315CF5',\r\n  },\r\n  COINBASE_LINK: {\r\n    name: 'Open in Coinbase Wallet',\r\n    iconName: 'coinbaseWalletIcon.svg',\r\n    description: 'Open in Coinbase Wallet app.',\r\n    href: 'https://go.cb-w.com/mtUDhEZPy1',\r\n    color: '#315CF5',\r\n    mobile: true,\r\n    mobileOnly: true,\r\n  },\r\n  FORTMATIC: {\r\n    connector: fortmatic,\r\n    name: 'Fortmatic',\r\n    iconName: 'fortmaticIcon.png',\r\n    description: 'Login using Fortmatic hosted wallet',\r\n    href: null,\r\n    color: '#6748FF',\r\n    mobile: true,\r\n  },\r\n  Portis: {\r\n    connector: portis,\r\n    name: 'Portis',\r\n    iconName: 'portisIcon.png',\r\n    description: 'Login using Portis hosted wallet',\r\n    href: null,\r\n    color: '#4A6C9B',\r\n    mobile: true,\r\n  },\r\n}\r\n\r\nexport const NetworkContextName = 'NETWORK'\r\n\r\n// used for rewards deadlines\r\nexport const BIG_INT_SECONDS_IN_WEEK = JSBI.BigInt(60 * 60 * 24 * 7)\r\n\r\nexport const BIG_INT_ZERO = JSBI.BigInt(0)\r\n\r\n// one basis point\r\nexport const ONE_BIPS = new Percent(JSBI.BigInt(1), JSBI.BigInt(10000))\r\nexport const BIPS_BASE = JSBI.BigInt(10000)\r\n// used for warning states\r\nexport const ALLOWED_PRICE_IMPACT_LOW: Percent = new Percent(JSBI.BigInt(100), BIPS_BASE) // 1%\r\nexport const ALLOWED_PRICE_IMPACT_MEDIUM: Percent = new Percent(JSBI.BigInt(300), BIPS_BASE) // 3%\r\nexport const ALLOWED_PRICE_IMPACT_HIGH: Percent = new Percent(JSBI.BigInt(500), BIPS_BASE) // 5%\r\n// if the price slippage exceeds this number, force the user to type 'confirm' to execute\r\nexport const PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN: Percent = new Percent(JSBI.BigInt(1000), BIPS_BASE) // 10%\r\n// for non expert mode disable swaps above this\r\nexport const BLOCKED_PRICE_IMPACT_NON_EXPERT: Percent = new Percent(JSBI.BigInt(1500), BIPS_BASE) // 15%\r\n\r\n// used to ensure the user doesn't send so much ETH so they end up with <.01\r\nexport const MIN_ETH: JSBI = JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(16)) // .01 ETH\r\nexport const BETTER_TRADE_LESS_HOPS_THRESHOLD = new Percent(JSBI.BigInt(50), JSBI.BigInt(10000))\r\n\r\nexport const ZERO_PERCENT = new Percent('0')\r\nexport const ONE_HUNDRED_PERCENT = new Percent('1')\r\n\r\n// SDN OFAC addresses\r\nexport const BLOCKED_ADDRESSES: string[] = [\r\n  '0x7F367cC41522cE07553e823bf3be79A889DEbe1B',\r\n  '0xd882cFc20F52f2599D84b8e8D58C7FB62cfE344b',\r\n  '0x901bb9583b24D97e995513C6778dc6888AB6870e',\r\n  '0xA7e5d5A720f06526557c513402f2e6B5fA20b008',\r\n]\r\n","import { Web3Provider } from '@ethersproject/providers'\r\nimport { ChainId } from '@uniswap/sdk-core'\r\nimport { useWeb3React as useWeb3ReactCore } from '@web3-react/core'\r\nimport { Web3ReactContextInterface } from '@web3-react/core/dist/types'\r\nimport { useEffect, useState } from 'react'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { injected } from '../connectors'\r\nimport { NetworkContextName } from '../constants'\r\n\r\nexport function useActiveWeb3React(): Web3ReactContextInterface<Web3Provider> & { chainId?: ChainId } {\r\n  const context = useWeb3ReactCore<Web3Provider>()\r\n  const contextNetwork = useWeb3ReactCore<Web3Provider>(NetworkContextName)\r\n  return context.active ? context : contextNetwork\r\n}\r\n\r\nexport function useEagerConnect() {\r\n  const { activate, active } = useWeb3ReactCore() // specifically using useWeb3ReactCore because of what this hook does\r\n  const [tried, setTried] = useState(false)\r\n\r\n  useEffect(() => {\r\n    injected.isAuthorized().then((isAuthorized) => {\r\n      if (isAuthorized) {\r\n        activate(injected, undefined, true).catch(() => {\r\n          setTried(true)\r\n        })\r\n      } else {\r\n        if (isMobile && window.ethereum) {\r\n          activate(injected, undefined, true).catch(() => {\r\n            setTried(true)\r\n          })\r\n        } else {\r\n          setTried(true)\r\n        }\r\n      }\r\n    })\r\n  }, [activate]) // intentionally only running on mount (make sure it's only mounted once :))\r\n\r\n  // if the connection worked, wait until we get confirmation of that to flip the flag\r\n  useEffect(() => {\r\n    if (active) {\r\n      setTried(true)\r\n    }\r\n  }, [active])\r\n\r\n  return tried\r\n}\r\n\r\n/**\r\n * Use for network and injected - logs user in\r\n * and out after checking what network theyre on\r\n */\r\nexport function useInactiveListener(suppress = false) {\r\n  const { active, error, activate } = useWeb3ReactCore() // specifically using useWeb3React because of what this hook does\r\n\r\n  useEffect(() => {\r\n    const { ethereum } = window\r\n\r\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\r\n      const handleChainChanged = () => {\r\n        // eat errors\r\n        activate(injected, undefined, true).catch((error) => {\r\n          console.error('Failed to activate after chain changed', error)\r\n        })\r\n      }\r\n\r\n      const handleAccountsChanged = (accounts: string[]) => {\r\n        if (accounts.length > 0) {\r\n          // eat errors\r\n          activate(injected, undefined, true).catch((error) => {\r\n            console.error('Failed to activate after accounts changed', error)\r\n          })\r\n        }\r\n      }\r\n\r\n      ethereum.on('chainChanged', handleChainChanged)\r\n      ethereum.on('accountsChanged', handleAccountsChanged)\r\n\r\n      return () => {\r\n        if (ethereum.removeListener) {\r\n          ethereum.removeListener('chainChanged', handleChainChanged)\r\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\r\n        }\r\n      }\r\n    }\r\n    return undefined\r\n  }, [active, error, suppress, activate])\r\n}\r\n","import { useCallback, useMemo } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { addPopup, ApplicationModal, PopupContent, removePopup, setOpenModal, updateSubgraphStatus } from './actions'\r\n\r\nexport function useBlockNumber(): number | undefined {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  return useSelector((state: AppState) => state.application.blockNumber[chainId ?? -1])\r\n}\r\n\r\nexport function useModalOpen(modal: ApplicationModal): boolean {\r\n  const openModal = useSelector((state: AppState) => state.application.openModal)\r\n  return openModal === modal\r\n}\r\n\r\nexport function useToggleModal(modal: ApplicationModal): () => void {\r\n  const open = useModalOpen(modal)\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  return useCallback(() => dispatch(setOpenModal(open ? null : modal)), [dispatch, modal, open])\r\n}\r\n\r\nexport function useOpenModal(modal: ApplicationModal): () => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  return useCallback(() => dispatch(setOpenModal(modal)), [dispatch, modal])\r\n}\r\n\r\nexport function useCloseModals(): () => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  return useCallback(() => dispatch(setOpenModal(null)), [dispatch])\r\n}\r\n\r\nexport function useWalletModalToggle(): () => void {\r\n  return useToggleModal(ApplicationModal.WALLET)\r\n}\r\n\r\nexport function useToggleSettingsMenu(): () => void {\r\n  return useToggleModal(ApplicationModal.SETTINGS)\r\n}\r\n\r\n// returns a function that allows adding a popup\r\nexport function useAddPopup(): (content: PopupContent, key?: string) => void {\r\n  const dispatch = useDispatch()\r\n\r\n  return useCallback(\r\n    (content: PopupContent, key?: string) => {\r\n      dispatch(addPopup({ content, key }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\n// returns a function that allows removing a popup via its key\r\nexport function useRemovePopup(): (key: string) => void {\r\n  const dispatch = useDispatch()\r\n  return useCallback(\r\n    (key: string) => {\r\n      dispatch(removePopup({ key }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\n// get the list of active popups\r\nexport function useActivePopups(): AppState['application']['popupList'] {\r\n  const list = useSelector((state: AppState) => state.application.popupList)\r\n  return useMemo(() => list.filter((item) => item.show), [list])\r\n}\r\n\r\n// returns a function that allows adding a popup\r\nexport function useSubgraphStatus(): [\r\n  {\r\n    available: boolean | null\r\n    syncedBlock: number | undefined\r\n  },\r\n  (available: boolean | null, syncedBlock: number | undefined) => void\r\n] {\r\n  const dispatch = useDispatch()\r\n  const status = useSelector((state: AppState) => state.application.subgraphStatus)\r\n\r\n  const update = useCallback(\r\n    (available: boolean | null, syncedBlock: number | undefined) => {\r\n      dispatch(updateSubgraphStatus({ available, syncedBlock }))\r\n    },\r\n    [dispatch]\r\n  )\r\n  return [status, update]\r\n}\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport interface SerializedToken {\r\n  chainId: number\r\n  address: string\r\n  decimals: number\r\n  symbol?: string\r\n  name?: string\r\n}\r\n\r\nexport interface SerializedPair {\r\n  token0: SerializedToken\r\n  token1: SerializedToken\r\n}\r\n\r\nexport const updateMatchesDarkMode = createAction<{ matchesDarkMode: boolean }>('user/updateMatchesDarkMode')\r\nexport const updateUserDarkMode = createAction<{ userDarkMode: boolean }>('user/updateUserDarkMode')\r\nexport const addSerializedToken = createAction<{ serializedToken: SerializedToken }>('user/addSerializedToken')\r\nexport const removeSerializedToken = createAction<{ chainId: number; address: string }>('user/removeSerializedToken')\r\nexport const addSavedToken = createAction<{ address: string }>('user/addSavedToken')\r\nexport const changeProtocol = createAction<string>('user/changeProtocol')\r\nexport const addSavedPool = createAction<{ address: string }>('user/addSavedPool')\r\nexport const addSerializedPair = createAction<{ serializedPair: SerializedPair }>('user/addSerializedPair')\r\nexport const removeSerializedPair = createAction<{ chainId: number; tokenAAddress: string; tokenBAddress: string }>(\r\n  'user/removeSerializedPair'\r\n)\r\nexport const toggleURLWarning = createAction<void>('app/toggleURLWarning')\r\n","import { ChainId, Token } from '@uniswap/sdk-core'\r\nimport { useCallback, useMemo } from 'react'\r\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { Pair } from '@uniswap/v2-sdk'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport {\r\n  addSerializedPair,\r\n  addSerializedToken,\r\n  removeSerializedToken,\r\n  SerializedPair,\r\n  SerializedToken,\r\n  updateUserDarkMode,\r\n  toggleURLWarning,\r\n  addSavedToken,\r\n  addSavedPool,\r\n} from './actions'\r\n\r\nfunction serializeToken(token: Token): SerializedToken {\r\n  return {\r\n    chainId: token.chainId,\r\n    address: token.address,\r\n    decimals: token.decimals,\r\n    symbol: token.symbol,\r\n    name: token.name,\r\n  }\r\n}\r\n\r\nfunction deserializeToken(serializedToken: SerializedToken): Token {\r\n  return new Token(\r\n    serializedToken.chainId,\r\n    serializedToken.address,\r\n    serializedToken.decimals,\r\n    serializedToken.symbol,\r\n    serializedToken.name\r\n  )\r\n}\r\n\r\nexport function useIsDarkMode(): boolean {\r\n  const { userDarkMode, matchesDarkMode } = useSelector<\r\n    AppState,\r\n    { userDarkMode: boolean | null; matchesDarkMode: boolean }\r\n  >(\r\n    ({ user: { matchesDarkMode, userDarkMode } }) => ({\r\n      userDarkMode,\r\n      matchesDarkMode,\r\n    }),\r\n    shallowEqual\r\n  )\r\n\r\n  return userDarkMode === null ? matchesDarkMode : userDarkMode\r\n}\r\n\r\nexport function useDarkModeManager(): [boolean, () => void] {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const darkMode = true\r\n\r\n  const toggleSetDarkMode = useCallback(() => {\r\n    dispatch(updateUserDarkMode({ userDarkMode: !darkMode }))\r\n  }, [darkMode, dispatch])\r\n\r\n  return [darkMode, toggleSetDarkMode]\r\n}\r\n\r\nexport function useAddUserToken(): (token: Token) => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  return useCallback(\r\n    (token: Token) => {\r\n      dispatch(addSerializedToken({ serializedToken: serializeToken(token) }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\nexport function useSavedTokens(): [string[], (address: string) => void] {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const savedTokens = useSelector((state: AppState) => state.user.savedTokens)\r\n  const updatedSavedTokens = useCallback(\r\n    (address: string) => {\r\n      dispatch(addSavedToken({ address }))\r\n    },\r\n    [dispatch]\r\n  )\r\n  return [savedTokens ?? [], updatedSavedTokens]\r\n}\r\n\r\nexport function useSavedPools(): [string[], (address: string) => void] {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const savedPools = useSelector((state: AppState) => state.user.savedPools)\r\n  const updateSavedPools = useCallback(\r\n    (address: string) => {\r\n      dispatch(addSavedPool({ address }))\r\n    },\r\n    [dispatch]\r\n  )\r\n  return [savedPools ?? [], updateSavedPools]\r\n}\r\n\r\nexport function useRemoveUserAddedToken(): (chainId: number, address: string) => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  return useCallback(\r\n    (chainId: number, address: string) => {\r\n      dispatch(removeSerializedToken({ chainId, address }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\nexport function useUserAddedTokens(): Token[] {\r\n  const { chainId } = useActiveWeb3React()\r\n  const serializedTokensMap = useSelector<AppState, AppState['user']['tokens']>(({ user: { tokens } }) => tokens)\r\n\r\n  return useMemo(() => {\r\n    if (!chainId) return []\r\n    return Object.values(serializedTokensMap?.[chainId as ChainId] ?? {}).map(deserializeToken)\r\n  }, [serializedTokensMap, chainId])\r\n}\r\n\r\nfunction serializePair(pair: Pair): SerializedPair {\r\n  return {\r\n    token0: serializeToken(pair.token0),\r\n    token1: serializeToken(pair.token1),\r\n  }\r\n}\r\n\r\nexport function usePairAdder(): (pair: Pair) => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  return useCallback(\r\n    (pair: Pair) => {\r\n      dispatch(addSerializedPair({ serializedPair: serializePair(pair) }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\nexport function useURLWarningVisible(): boolean {\r\n  return useSelector((state: AppState) => state.user.URLWarningVisible)\r\n}\r\n\r\nexport function useURLWarningToggle(): () => void {\r\n  const dispatch = useDispatch()\r\n  return useCallback(() => dispatch(toggleURLWarning()), [dispatch])\r\n}\r\n","import React, { HTMLProps, useCallback } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { Link } from 'react-router-dom'\r\nimport styled, { keyframes } from 'styled-components'\r\nimport { darken } from 'polished'\r\nimport { MEDIA_WIDTHS } from './index'\r\nimport { ArrowLeft, X, ExternalLink as LinkIconFeather, Trash } from 'react-feather'\r\n\r\nexport const ButtonText = styled.button`\r\n  outline: none;\r\n  border: none;\r\n  font-size: inherit;\r\n  padding: 0;\r\n  margin: 0;\r\n  background: none;\r\n  cursor: pointer;\r\n\r\n  :hover {\r\n    opacity: 0.7;\r\n  }\r\n\r\n  :focus {\r\n    text-decoration: underline;\r\n  }\r\n`\r\n\r\nexport const Button = styled.button.attrs<{ warning: boolean }, { backgroundColor: string }>(({ warning, theme }) => ({\r\n  backgroundColor: warning ? theme.red1 : theme.primary1,\r\n}))`\r\n  padding: 1rem 2rem 1rem 2rem;\r\n  border-radius: 3rem;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  font-size: 1rem;\r\n  border: none;\r\n  outline: none;\r\n  background-color: ${({ backgroundColor }) => backgroundColor};\r\n  color: ${({ theme }) => theme.white};\r\n  width: 100%;\r\n\r\n  :hover,\r\n  :focus {\r\n    background-color: ${({ backgroundColor }) => darken(0.05, backgroundColor)};\r\n  }\r\n\r\n  :active {\r\n    background-color: ${({ backgroundColor }) => darken(0.1, backgroundColor)};\r\n  }\r\n\r\n  :disabled {\r\n    background-color: ${({ theme }) => theme.bg1};\r\n    color: ${({ theme }) => theme.text4};\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nexport const CloseIcon = styled(X)<{ onClick: () => void }>`\r\n  cursor: pointer;\r\n`\r\n\r\n// for wrapper react feather icons\r\nexport const IconWrapper = styled.div<{ stroke?: string; size?: string; marginRight?: string; marginLeft?: string }>`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: ${({ size }) => size ?? '20px'};\r\n  height: ${({ size }) => size ?? '20px'};\r\n  margin-right: ${({ marginRight }) => marginRight ?? 0};\r\n  margin-left: ${({ marginLeft }) => marginLeft ?? 0};\r\n  & > * {\r\n    stroke: ${({ theme, stroke }) => stroke ?? theme.blue1};\r\n  }\r\n`\r\n\r\n// A button that triggers some onClick result, but looks like a link.\r\nexport const LinkStyledButton = styled.button<{ disabled?: boolean }>`\r\n  border: none;\r\n  text-decoration: none;\r\n  background: none;\r\n\r\n  cursor: ${({ disabled }) => (disabled ? 'default' : 'pointer')};\r\n  color: ${({ theme, disabled }) => (disabled ? theme.text2 : theme.primary1)};\r\n  font-weight: 500;\r\n\r\n  :hover {\r\n    text-decoration: ${({ disabled }) => (disabled ? null : 'underline')};\r\n  }\r\n\r\n  :focus {\r\n    outline: none;\r\n    text-decoration: ${({ disabled }) => (disabled ? null : 'underline')};\r\n  }\r\n\r\n  :active {\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\n// An internal link from the react-router-dom library that is correctly styled\r\nexport const StyledInternalLink = styled(Link)<{ fontSize?: string }>`\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  color: ${({ theme }) => theme.primary1};\r\n  font-weight: 500;\r\n  font-size: ${({ fontSize }) => fontSize ?? '16px'};\r\n\r\n  :hover {\r\n    text-decoration: none;\r\n  }\r\n\r\n  :focus {\r\n    outline: none;\r\n    text-decoration: none;\r\n  }\r\n\r\n  :active {\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\nconst StyledLink = styled.a`\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  color: ${({ theme }) => theme.primary1};\r\n  font-weight: 500;\r\n  display: inline;\r\n  flex-direction: center;\r\n  align-items: center;\r\n\r\n  :hover {\r\n    text-decoration: underline;\r\n    text-decoration: none;\r\n    opacity: 0.7;\r\n  }\r\n\r\n  :focus {\r\n    outline: none;\r\n    text-decoration: none;\r\n  }\r\n\r\n  :active {\r\n    outline: none;\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\nconst LinkIconWrapper = styled.a`\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  align-items: center;\r\n  justify-content: center;\r\n  display: flex;\r\n\r\n  :hover {\r\n    text-decoration: none;\r\n    opacity: 0.7;\r\n  }\r\n\r\n  :focus {\r\n    outline: none;\r\n    text-decoration: none;\r\n  }\r\n\r\n  :active {\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\nexport const LinkIcon = styled(LinkIconFeather)`\r\n  height: 16px;\r\n  width: 18px;\r\n  margin-left: 10px;\r\n  stroke: ${({ theme }) => theme.blue1};\r\n`\r\n\r\nexport const TrashIcon = styled(Trash)`\r\n  height: 16px;\r\n  width: 18px;\r\n  margin-left: 10px;\r\n  stroke: ${({ theme }) => theme.text3};\r\n\r\n  cursor: pointer;\r\n  align-items: center;\r\n  justify-content: center;\r\n  display: flex;\r\n\r\n  :hover {\r\n    opacity: 0.7;\r\n  }\r\n`\r\n\r\nconst rotateImg = keyframes`\r\n  0% {\r\n    transform: perspective(1000px) rotateY(0deg);\r\n  }\r\n\r\n  100% {\r\n    transform: perspective(1000px) rotateY(360deg);\r\n  }\r\n`\r\n\r\nexport const UniTokenAnimated = styled.img`\r\n  animation: ${rotateImg} 5s cubic-bezier(0.83, 0, 0.17, 1) infinite;\r\n  padding: 2rem 0 0 0;\r\n  filter: drop-shadow(0px 2px 4px rgba(0, 0, 0, 0.15));\r\n`\r\n\r\n/**\r\n * Outbound link that handles firing google analytics events\r\n */\r\nexport function ExternalLink({\r\n  target = '_blank',\r\n  href,\r\n  rel = 'noopener noreferrer',\r\n  ...rest\r\n}: Omit<HTMLProps<HTMLAnchorElement>, 'as' | 'ref' | 'onClick'> & { href: string }) {\r\n  const handleClick = useCallback(\r\n    (event: React.MouseEvent<HTMLAnchorElement>) => {\r\n      // don't prevent default, don't redirect if it's a new tab\r\n      if (target === '_blank' || event.ctrlKey || event.metaKey) {\r\n        ReactGA.outboundLink({ label: href }, () => {\r\n          console.debug('Fired outbound link event', href)\r\n        })\r\n      } else {\r\n        event.preventDefault()\r\n        // send a ReactGA event and then trigger a location change\r\n        ReactGA.outboundLink({ label: href }, () => {\r\n          window.location.href = href\r\n        })\r\n      }\r\n    },\r\n    [href, target]\r\n  )\r\n  return <StyledLink target={target} rel={rel} href={href} onClick={handleClick} {...rest} />\r\n}\r\n\r\nexport function ExternalLinkIcon({\r\n  target = '_blank',\r\n  href,\r\n  rel = 'noopener noreferrer',\r\n  ...rest\r\n}: Omit<HTMLProps<HTMLAnchorElement>, 'as' | 'ref' | 'onClick'> & { href: string }) {\r\n  const handleClick = useCallback(\r\n    (event: React.MouseEvent<HTMLAnchorElement>) => {\r\n      // don't prevent default, don't redirect if it's a new tab\r\n      if (target === '_blank' || event.ctrlKey || event.metaKey) {\r\n        ReactGA.outboundLink({ label: href }, () => {\r\n          console.debug('Fired outbound link event', href)\r\n        })\r\n      } else {\r\n        event.preventDefault()\r\n        // send a ReactGA event and then trigger a location change\r\n        ReactGA.outboundLink({ label: href }, () => {\r\n          window.location.href = href\r\n        })\r\n      }\r\n    },\r\n    [href, target]\r\n  )\r\n  return (\r\n    <LinkIconWrapper target={target} rel={rel} href={href} onClick={handleClick} {...rest}>\r\n      <LinkIcon />\r\n    </LinkIconWrapper>\r\n  )\r\n}\r\n\r\nconst rotate = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`\r\n\r\nexport const Spinner = styled.img`\r\n  animation: 2s ${rotate} linear infinite;\r\n  width: 16px;\r\n  height: 16px;\r\n`\r\n\r\nconst BackArrowLink = styled(StyledInternalLink)`\r\n  color: ${({ theme }) => theme.text1};\r\n`\r\nexport function BackArrow({ to }: { to: string }) {\r\n  return (\r\n    <BackArrowLink to={to}>\r\n      <ArrowLeft />\r\n    </BackArrowLink>\r\n  )\r\n}\r\n\r\nexport const CustomLightSpinner = styled(Spinner)<{ size: string }>`\r\n  height: ${({ size }) => size};\r\n  width: ${({ size }) => size};\r\n`\r\n\r\nexport const OnlyMedium = styled.span`\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    display: none;\r\n  `};\r\n`\r\n\r\nexport const HideMedium = styled.span`\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    display: none;\r\n  `};\r\n`\r\n\r\nexport const HideSmall = styled.span`\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    display: none;\r\n  `};\r\n`\r\n\r\nexport const HideExtraSmall = styled.span`\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    display: none;\r\n  `};\r\n`\r\n\r\nexport const ExtraSmallOnly = styled.span`\r\n  display: none;\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    display: block;\r\n  `};\r\n`\r\n","import React, { useMemo } from 'react'\r\nimport styled, {\r\n  ThemeProvider as StyledComponentsThemeProvider,\r\n  createGlobalStyle,\r\n  css,\r\n  DefaultTheme,\r\n} from 'styled-components'\r\nimport { useIsDarkMode } from '../state/user/hooks'\r\nimport { Text, TextProps } from 'rebass'\r\nimport { Colors } from './styled'\r\n\r\nexport * from './components'\r\n\r\nexport const MEDIA_WIDTHS = {\r\n  upToExtraSmall: 500,\r\n  upToSmall: 720,\r\n  upToMedium: 960,\r\n  upToLarge: 1280,\r\n}\r\n\r\nconst mediaWidthTemplates: { [width in keyof typeof MEDIA_WIDTHS]: typeof css } = Object.keys(MEDIA_WIDTHS).reduce(\r\n  (accumulator, size) => {\r\n    ;(accumulator as any)[size] = (a: any, b: any, c: any) => css`\r\n      @media (max-width: ${(MEDIA_WIDTHS as any)[size]}px) {\r\n        ${css(a, b, c)}\r\n      }\r\n    `\r\n    return accumulator\r\n  },\r\n  {}\r\n) as any\r\n\r\nconst white = '#FFFFFF'\r\nconst black = '#000000'\r\n\r\nexport function colors(darkMode: boolean): Colors {\r\n  return {\r\n    // base\r\n    white,\r\n    black,\r\n\r\n    // text\r\n    text1: darkMode ? '#FFFFFF' : '#000000',\r\n    text2: darkMode ? '#C3C5CB' : '#565A69',\r\n    text3: darkMode ? '#6C7284' : '#888D9B',\r\n    text4: darkMode ? '#565A69' : '#C3C5CB',\r\n    text5: darkMode ? '#2C2F36' : '#EDEEF2',\r\n\r\n    // backgrounds / greys\r\n    bg0: darkMode ? '#191B1F' : '#F7F8FA',\r\n    bg1: darkMode ? '#1F2128' : '#FFFFFF',\r\n    bg2: darkMode ? '#2C2F36' : '#F7F8FA',\r\n    bg3: darkMode ? '#40444F' : '#EDEEF2',\r\n    bg4: darkMode ? '#565A69' : '#CED0D9',\r\n    bg5: darkMode ? '#6C7284' : '#888D9B',\r\n\r\n    //specialty colors\r\n    modalBG: darkMode ? 'rgba(0,0,0,.425)' : 'rgba(0,0,0,0.3)',\r\n    advancedBG: darkMode ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.6)',\r\n\r\n    //primary colors\r\n    primary1: darkMode ? '#71cbf8' : '#71cbf8',\r\n    primary2: darkMode ? '#3680E7' : '#FF8CC3',\r\n    primary3: darkMode ? '#4D8FEA' : '#FF99C9',\r\n    primary4: darkMode ? '#376bad70' : '#F6DDE8',\r\n    primary5: darkMode ? '#153d6f70' : '#FDEAF1',\r\n\r\n    // color text\r\n    primaryText1: darkMode ? '#6da8ff' : '#71cbf8',\r\n\r\n    // secondary colors\r\n    secondary1: darkMode ? '#71cbf8' : '#71cbf8',\r\n    secondary2: darkMode ? '#17000b26' : '#F6DDE8',\r\n    secondary3: darkMode ? '#17000b26' : '#FDEAF1',\r\n\r\n    // other\r\n    pink1: '#71cbf8',\r\n    red1: '#FD4040',\r\n    red2: '#F82D3A',\r\n    red3: '#D60000',\r\n    green1: '#27AE60',\r\n    yellow1: '#FFE270',\r\n    yellow2: '#F3841E',\r\n    yellow3: '#F3B71E',\r\n    blue1: '#71cbf8',\r\n    blue2: '#71cbf8',\r\n\r\n    // dont wanna forget these blue yet\r\n    // blue4: darkMode ? '#153d6f70' : '#C4D9F8',\r\n    // blue5: darkMode ? '#153d6f70' : '#EBF4FF',\r\n  }\r\n}\r\n\r\nexport function theme(darkMode: boolean): DefaultTheme {\r\n  return {\r\n    ...colors(darkMode),\r\n\r\n    grids: {\r\n      sm: 8,\r\n      md: 12,\r\n      lg: 24,\r\n    },\r\n\r\n    //shadows\r\n    shadow1: darkMode ? '#000' : '#2F80ED',\r\n\r\n    // media queries\r\n    mediaWidth: mediaWidthTemplates,\r\n\r\n    // css snippets\r\n    flexColumnNoWrap: css`\r\n      display: flex;\r\n      flex-flow: column nowrap;\r\n    `,\r\n    flexRowNoWrap: css`\r\n      display: flex;\r\n      flex-flow: row nowrap;\r\n    `,\r\n  }\r\n}\r\n\r\nexport default function ThemeProvider({ children }: { children: React.ReactNode }) {\r\n  const darkMode = useIsDarkMode()\r\n\r\n  const themeObject = useMemo(() => theme(darkMode), [darkMode])\r\n\r\n  return <StyledComponentsThemeProvider theme={themeObject}>{children}</StyledComponentsThemeProvider>\r\n}\r\n\r\nconst TextWrapper = styled(Text)<{ color: keyof Colors }>`\r\n  color: ${({ color, theme }) => (theme as any)[color]};\r\n`\r\n\r\nexport const TYPE = {\r\n  main(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'text2'} {...props} />\r\n  },\r\n  link(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'primary1'} {...props} />\r\n  },\r\n  label(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'text1'} {...props} />\r\n  },\r\n  black(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'text1'} {...props} />\r\n  },\r\n  white(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'white'} {...props} />\r\n  },\r\n  body(props: TextProps) {\r\n    return <TextWrapper fontWeight={400} fontSize={16} color={'text1'} {...props} />\r\n  },\r\n  largeHeader(props: TextProps) {\r\n    return <TextWrapper fontWeight={600} fontSize={24} color={'text1'} {...props} />\r\n  },\r\n  mediumHeader(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} fontSize={20} color={'text3'} {...props} />\r\n  },\r\n  subHeader(props: TextProps) {\r\n    return <TextWrapper fontWeight={400} fontSize={14} {...props} />\r\n  },\r\n  small(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} fontSize={11} {...props} />\r\n  },\r\n  blue(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'blue1'} {...props} />\r\n  },\r\n  yellow(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'yellow3'} {...props} />\r\n  },\r\n  darkGray(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'text3'} {...props} />\r\n  },\r\n  gray(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'bg3'} {...props} />\r\n  },\r\n  italic(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} fontSize={12} fontStyle={'italic'} color={'text2'} {...props} />\r\n  },\r\n  error({ error, ...props }: { error: boolean } & TextProps) {\r\n    return <TextWrapper fontWeight={500} color={error ? 'red1' : 'text2'} {...props} />\r\n  },\r\n}\r\n\r\nexport const FixedGlobalStyle = createGlobalStyle`\r\nhtml, input, textarea, button {\r\n  font-family: 'Inter', sans-serif;\r\n  font-display: fallback;\r\n}\r\n@supports (font-variation-settings: normal) {\r\n  html, input, textarea, button {\r\n    font-family: 'Inter var', sans-serif;\r\n  }\r\n}\r\n\r\nhtml,\r\nbody {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n a {\r\n   color: ${colors(false).blue1}; \r\n }\r\n\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\nbutton {\r\n  user-select: none;\r\n}\r\n\r\nhtml {\r\n  font-size: 16px;\r\n  font-variant: none;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\r\n  font-feature-settings: 'ss01' on, 'ss02' on, 'cv01' on, 'cv03' on;\r\n  \r\n}\r\n`\r\n\r\nexport const ThemedGlobalStyle = createGlobalStyle`\r\nhtml {\r\n  color: ${({ theme }) => theme.text1};\r\n  background-color: ${({ theme }) => theme.bg1};\r\n}\r\n\r\n.three-line-legend-dark {\r\n\twidth: 100%;\r\n\theight: 70px;\r\n\tposition: absolute;\r\n\tpadding: 8px;\r\n\tfont-size: 12px;\r\n\tcolor: white;\r\n\tbackground-color: transparent;\r\n\ttext-align: left;\r\n\tz-index: 10;\r\n  pointer-events: none;\r\n}\r\n\r\n.tv-lightweight-charts{\r\n  width: 100% !important;\r\n  \r\n  & > * {\r\n    width: 100% !important;\r\n  }\r\n}\r\n\r\nbody {\r\n  min-height: 100vh;\r\n  background-position: 0 -30vh;\r\n  background-repeat: no-repeat;\r\n\r\n}\r\n`\r\n","import React, { useRef } from 'react'\r\nimport { BookOpen, Code, Info, MessageCircle, PieChart } from 'react-feather'\r\nimport styled from 'styled-components'\r\nimport { ReactComponent as MenuIcon } from '../../assets/images/menu.svg'\r\nimport { useOnClickOutside } from '../../hooks/useOnClickOutside'\r\nimport { ApplicationModal } from '../../state/application/actions'\r\nimport { useModalOpen, useToggleModal } from '../../state/application/hooks'\r\n\r\nimport { ExternalLink } from '../../theme'\r\n\r\nconst StyledMenuIcon = styled(MenuIcon)`\r\n  path {\r\n    stroke: ${({ theme }) => theme.text1};\r\n  }\r\n`\r\n\r\nconst StyledMenuButton = styled.button`\r\n  width: 100%;\r\n  height: 100%;\r\n  border: none;\r\n  background-color: transparent;\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 35px;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n\r\n  padding: 0.15rem 0.5rem;\r\n  border-radius: 0.5rem;\r\n\r\n  :hover,\r\n  :focus {\r\n    cursor: pointer;\r\n    outline: none;\r\n    background-color: ${({ theme }) => theme.bg4};\r\n  }\r\n\r\n  svg {\r\n    margin-top: 2px;\r\n  }\r\n`\r\n\r\nconst StyledMenu = styled.div`\r\n  margin-left: 0.5rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  border: none;\r\n  text-align: left;\r\n`\r\n\r\nconst MenuFlyout = styled.span`\r\n  min-width: 8.125rem;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\r\n    0px 24px 32px rgba(0, 0, 0, 0.01);\r\n  border-radius: 12px;\r\n  padding: 0.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 1rem;\r\n  position: absolute;\r\n  top: 4rem;\r\n  right: 0rem;\r\n  z-index: 100;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    top: -17.25rem;\r\n  `};\r\n`\r\n\r\nconst MenuItem = styled(ExternalLink)`\r\n  flex: 1;\r\n  padding: 0.5rem 0.5rem;\r\n  color: ${({ theme }) => theme.text2};\r\n  :hover {\r\n    color: ${({ theme }) => theme.text1};\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n  }\r\n  > svg {\r\n    margin-right: 8px;\r\n  }\r\n`\r\n\r\nconst CODE_LINK = 'https://github.com/Uniswap/uniswap-interface'\r\n\r\nexport default function Menu() {\r\n  const node = useRef<HTMLDivElement>()\r\n  const open = useModalOpen(ApplicationModal.MENU)\r\n  const toggle = useToggleModal(ApplicationModal.MENU)\r\n  useOnClickOutside(node, open ? toggle : undefined)\r\n\r\n  return (\r\n    // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30451\r\n    <StyledMenu ref={node as any}>\r\n      <StyledMenuButton onClick={toggle}>\r\n        <StyledMenuIcon />\r\n      </StyledMenuButton>\r\n\r\n      {open && (\r\n        <MenuFlyout>\r\n          <MenuItem id=\"link\" href=\"https://uniswap.org/\">\r\n            <Info size={14} />\r\n            About\r\n          </MenuItem>\r\n          <MenuItem id=\"link\" href=\"https://uniswap.org/docs/v2\">\r\n            <BookOpen size={14} />\r\n            Docs\r\n          </MenuItem>\r\n          <MenuItem id=\"link\" href={CODE_LINK}>\r\n            <Code size={14} />\r\n            Code\r\n          </MenuItem>\r\n          <MenuItem id=\"link\" href=\"https://discord.gg/FCfyBSbCU5\">\r\n            <MessageCircle size={14} />\r\n            Discord\r\n          </MenuItem>\r\n        </MenuFlyout>\r\n      )}\r\n    </StyledMenu>\r\n  )\r\n}\r\n","import { RefObject, useEffect, useRef } from 'react'\r\n\r\nexport function useOnClickOutside<T extends HTMLElement>(\r\n  node: RefObject<T | undefined>,\r\n  handler: undefined | (() => void)\r\n) {\r\n  const handlerRef = useRef<undefined | (() => void)>(handler)\r\n  useEffect(() => {\r\n    handlerRef.current = handler\r\n  }, [handler])\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e: MouseEvent) => {\r\n      if (node.current?.contains(e.target as Node) ?? false) {\r\n        return\r\n      }\r\n      if (handlerRef.current) handlerRef.current()\r\n    }\r\n\r\n    document.addEventListener('mousedown', handleClickOutside)\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside)\r\n    }\r\n  }, [node])\r\n}\r\n","import styled from 'styled-components'\r\nimport { Box } from 'rebass/styled-components'\r\n\r\nconst Row = styled(Box)<{\r\n  width?: string\r\n  align?: string\r\n  justify?: string\r\n  padding?: string\r\n  border?: string\r\n  borderRadius?: string\r\n}>`\r\n  width: ${({ width }) => width ?? '100%'};\r\n  display: flex;\r\n  padding: 0;\r\n  align-items: ${({ align }) => align ?? 'center'};\r\n  justify-content: ${({ justify }) => justify ?? 'flex-start'};\r\n  padding: ${({ padding }) => padding};\r\n  border: ${({ border }) => border};\r\n  border-radius: ${({ borderRadius }) => borderRadius};\r\n`\r\n\r\nexport const RowBetween = styled(Row)`\r\n  justify-content: space-between;\r\n`\r\n\r\nexport const RowFlat = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n`\r\n\r\nexport const AutoRow = styled(Row)<{ gap?: string; justify?: string }>`\r\n  flex-wrap: wrap;\r\n  margin: ${({ gap }) => gap && `-${gap}`};\r\n  justify-content: ${({ justify }) => justify && justify};\r\n\r\n  & > * {\r\n    margin: ${({ gap }) => gap} !important;\r\n  }\r\n`\r\n\r\nexport const RowFixed = styled(Row)<{ gap?: string; justify?: string }>`\r\n  width: fit-content;\r\n  margin: ${({ gap }) => gap && `-${gap}`};\r\n`\r\n\r\nexport const ResponsiveRow = styled(RowBetween)`\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    flex-direction: column;\r\n    row-gap: 1rem;\r\n  `};\r\n`\r\n\r\nexport default Row\r\n","import { createAction } from '@reduxjs/toolkit'\r\nimport { TokenData, TokenChartEntry } from './reducer'\r\nimport { PriceChartEntry, Transaction } from 'types'\r\n\r\n// protocol wide info\r\nexport const updateTokenData = createAction<{ tokens: TokenData[] }>('tokens/updateTokenData')\r\n\r\n// add token address to byAddress\r\nexport const addTokenKeys = createAction<{ tokenAddresses: string[] }>('tokens/addTokenKeys')\r\n\r\n// add list of pools token is in\r\nexport const addPoolAddresses = createAction<{ tokenAddress: string; poolAddresses: string[] }>(\r\n  'tokens/addPoolAddresses'\r\n)\r\n\r\n// tvl and volume data over time\r\nexport const updateChartData = createAction<{ tokenAddress: string; chartData: TokenChartEntry[] }>(\r\n  'tokens/updateChartData'\r\n)\r\n\r\n// transactions\r\nexport const updateTransactions = createAction<{ tokenAddress: string; transactions: Transaction[] }>(\r\n  'tokens/updateTransactions'\r\n)\r\n\r\n// price data at arbitrary intervals\r\nexport const updatePriceData = createAction<{\r\n  tokenAddress: string\r\n  secondsInterval: number\r\n  priceData: PriceChartEntry[] | undefined\r\n  oldestFetchedTimestamp: number\r\n}>('tokens/updatePriceData')\r\n","import { ApolloClient, InMemoryCache } from '@apollo/client'\r\n\r\n// export const client = new ApolloClient({\r\n//   uri: 'https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-v3-alt',\r\n//   cache: new InMemoryCache(),\r\n//   queryDeduplication: true,\r\n//   defaultOptions: {\r\n//     watchQuery: {\r\n//       fetchPolicy: 'no-cache',\r\n//     },\r\n//     query: {\r\n//       fetchPolicy: 'no-cache',\r\n//       errorPolicy: 'all',\r\n//     },\r\n//   },\r\n// })\r\n\r\nexport const client = new ApolloClient({\r\n  uri: 'https://api.thegraph.com/subgraphs/name/mshahzaibhabib/aqua-uniswap-v3-stats',\r\n  cache: new InMemoryCache(),\r\n  queryDeduplication: true,\r\n  defaultOptions: { watchQuery: { fetchPolicy: 'no-cache' }, query: { fetchPolicy: 'no-cache', errorPolicy: 'all' } },\r\n})\r\n\r\nexport const healthClient = new ApolloClient({\r\n  uri: 'https://api.thegraph.com/index-node/graphql',\r\n  cache: new InMemoryCache(),\r\n})\r\n\r\nexport const blockClient = new ApolloClient({\r\n  uri: 'https://api.thegraph.com/subgraphs/name/blocklytics/rinkeby-blocks',\r\n  cache: new InMemoryCache(),\r\n  queryDeduplication: true,\r\n  defaultOptions: {\r\n    watchQuery: {\r\n      fetchPolicy: 'network-only',\r\n    },\r\n    query: {\r\n      fetchPolicy: 'network-only',\r\n      errorPolicy: 'all',\r\n    },\r\n  },\r\n})\r\n","import gql from 'graphql-tag'\r\nimport { client } from 'apollo/client'\r\n\r\nexport const POOLS_FOR_TOKEN = gql`\r\n  query topPools($address: Bytes!) {\r\n    asToken0: pools(first: 200, orderBy: totalValueLockedUSD, orderDirection: desc, where: { token0: $address }) {\r\n      id\r\n    }\r\n    asToken1: pools(first: 200, orderBy: totalValueLockedUSD, orderDirection: desc, where: { token1: $address }) {\r\n      id\r\n    }\r\n  }\r\n`\r\n\r\ninterface PoolsForTokenResponse {\r\n  asToken0: {\r\n    id: string\r\n  }[]\r\n  asToken1: {\r\n    id: string\r\n  }[]\r\n}\r\n\r\n/**\r\n * Fetch top addresses by volume\r\n */\r\nexport async function fetchPoolsForToken(\r\n  address: string\r\n): Promise<{\r\n  loading: boolean\r\n  error: boolean\r\n  addresses: string[] | undefined\r\n}> {\r\n  try {\r\n    const { loading, error, data } = await client.query<PoolsForTokenResponse>({\r\n      query: POOLS_FOR_TOKEN,\r\n      variables: {\r\n        address: address,\r\n      },\r\n      fetchPolicy: 'cache-first',\r\n    })\r\n\r\n    if (loading || error || !data) {\r\n      return {\r\n        loading,\r\n        error: Boolean(error),\r\n        addresses: undefined,\r\n      }\r\n    }\r\n\r\n    const formattedData = data.asToken0.concat(data.asToken1).map((p) => p.id)\r\n\r\n    return {\r\n      loading,\r\n      error: Boolean(error),\r\n      addresses: formattedData,\r\n    }\r\n  } catch {\r\n    return {\r\n      loading: false,\r\n      error: true,\r\n      addresses: undefined,\r\n    }\r\n  }\r\n}\r\n","import dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport weekOfYear from 'dayjs/plugin/weekOfYear'\r\nimport gql from 'graphql-tag'\r\nimport { client } from 'apollo/client'\r\nimport { TokenChartEntry } from 'state/tokens/reducer'\r\n\r\n// format dayjs with the libraries that we need\r\ndayjs.extend(utc)\r\ndayjs.extend(weekOfYear)\r\nconst ONE_DAY_UNIX = 24 * 60 * 60\r\n\r\nconst TOKEN_CHART = gql`\r\n  query tokenDayDatas($startTime: Int!, $skip: Int!, $address: Bytes!) {\r\n    tokenDayDatas(\r\n      first: 1000\r\n      skip: $skip\r\n      where: { token: $address, date_gt: $startTime }\r\n      orderBy: date\r\n      orderDirection: asc\r\n    ) {\r\n      date\r\n      volumeUSD\r\n      totalValueLockedUSD\r\n    }\r\n  }\r\n`\r\n\r\ninterface ChartResults {\r\n  tokenDayDatas: {\r\n    date: number\r\n    volumeUSD: string\r\n    totalValueLockedUSD: string\r\n  }[]\r\n}\r\n\r\nexport async function fetchTokenChartData(address: string) {\r\n  let data: {\r\n    date: number\r\n    volumeUSD: string\r\n    totalValueLockedUSD: string\r\n  }[] = []\r\n  const startTimestamp = 1619170975\r\n  const endTimestamp = dayjs.utc().unix()\r\n\r\n  let error = false\r\n  let skip = 0\r\n  let allFound = false\r\n\r\n  try {\r\n    while (!allFound) {\r\n      const { data: chartResData, error, loading } = await client.query<ChartResults>({\r\n        query: TOKEN_CHART,\r\n        variables: {\r\n          address: address,\r\n          startTime: startTimestamp,\r\n          skip,\r\n        },\r\n        fetchPolicy: 'cache-first',\r\n      })\r\n      if (!loading) {\r\n        skip += 1000\r\n        if (chartResData.tokenDayDatas.length < 1000 || error) {\r\n          allFound = true\r\n        }\r\n        if (chartResData) {\r\n          data = data.concat(chartResData.tokenDayDatas)\r\n        }\r\n      }\r\n    }\r\n  } catch {\r\n    error = true\r\n  }\r\n\r\n  if (data) {\r\n    const formattedExisting = data.reduce((accum: { [date: number]: TokenChartEntry }, dayData) => {\r\n      const roundedDate = parseInt((dayData.date / ONE_DAY_UNIX).toFixed(0))\r\n      accum[roundedDate] = {\r\n        date: dayData.date,\r\n        volumeUSD: parseFloat(dayData.volumeUSD),\r\n        totalValueLockedUSD: parseFloat(dayData.totalValueLockedUSD),\r\n      }\r\n      return accum\r\n    }, {})\r\n\r\n    const firstEntry = formattedExisting[parseInt(Object.keys(formattedExisting)[0])]\r\n\r\n    // fill in empty days ( there will be no day datas if no trades made that day )\r\n    let timestamp = firstEntry?.date ?? startTimestamp\r\n    let latestTvl = firstEntry?.totalValueLockedUSD ?? 0\r\n    while (timestamp < endTimestamp - ONE_DAY_UNIX) {\r\n      const nextDay = timestamp + ONE_DAY_UNIX\r\n      const currentDayIndex = parseInt((nextDay / ONE_DAY_UNIX).toFixed(0))\r\n      if (!Object.keys(formattedExisting).includes(currentDayIndex.toString())) {\r\n        formattedExisting[currentDayIndex] = {\r\n          date: nextDay,\r\n          volumeUSD: 0,\r\n          totalValueLockedUSD: latestTvl,\r\n        }\r\n      } else {\r\n        latestTvl = formattedExisting[currentDayIndex].totalValueLockedUSD\r\n      }\r\n      timestamp = nextDay\r\n    }\r\n\r\n    const dateMap = Object.keys(formattedExisting).map((key) => {\r\n      return formattedExisting[parseInt(key)]\r\n    })\r\n\r\n    return {\r\n      data: dateMap,\r\n      error: false,\r\n    }\r\n  } else {\r\n    return {\r\n      data: undefined,\r\n      error,\r\n    }\r\n  }\r\n}\r\n","import { ApolloClient, NormalizedCacheObject } from '@apollo/client'\r\nimport dayjs from 'dayjs'\r\n\r\n/**\r\n * Used to get large amounts of data when\r\n * @param query\r\n * @param localClient\r\n * @param vars - any variables that are passed in every query\r\n * @param values - the keys that are used as the values to map over if\r\n * @param skipCount - amount of entities to skip per query\r\n */\r\nexport async function splitQuery<Type>(\r\n  query: any,\r\n  client: ApolloClient<NormalizedCacheObject>,\r\n  vars: any[],\r\n  values: any[],\r\n  skipCount = 1000\r\n) {\r\n  let fetchedData = {}\r\n  let allFound = false\r\n  let skip = 0\r\n  try {\r\n    while (!allFound) {\r\n      let end = values.length\r\n      if (skip + skipCount < values.length) {\r\n        end = skip + skipCount\r\n      }\r\n      const sliced = values.slice(skip, end)\r\n      const result = await client.query<Type>({\r\n        query: query(...vars, sliced),\r\n        fetchPolicy: 'network-only',\r\n      })\r\n      fetchedData = {\r\n        ...fetchedData,\r\n        ...result.data,\r\n      }\r\n      if (Object.keys(result.data).length < skipCount || skip + skipCount > values.length) {\r\n        allFound = true\r\n      } else {\r\n        skip += skipCount\r\n      }\r\n    }\r\n    return fetchedData\r\n  } catch (e) {\r\n    console.log(e)\r\n    return undefined\r\n  }\r\n}\r\n\r\nexport function useDeltaTimestamps(): [number, number, number] {\r\n  const utcCurrentTime = dayjs()\r\n  const t1 = utcCurrentTime.subtract(1, 'day').startOf('minute').unix()\r\n  const t2 = utcCurrentTime.subtract(2, 'day').startOf('minute').unix()\r\n  const tWeek = utcCurrentTime.subtract(1, 'week').startOf('minute').unix()\r\n  return [t1, t2, tWeek]\r\n}\r\n","import gql from 'graphql-tag'\r\nimport { useState, useEffect, useMemo } from 'react'\r\nimport { splitQuery } from 'utils/queries'\r\nimport { blockClient } from 'apollo/client'\r\n\r\nexport const GET_BLOCKS = (timestamps: string[]) => {\r\n  let queryString = 'query blocks {'\r\n  queryString += timestamps.map((timestamp) => {\r\n    return `t${timestamp}:blocks(first: 1, orderBy: timestamp, orderDirection: desc, where: { timestamp_gt: ${timestamp}, timestamp_lt: ${\r\n      timestamp + 600\r\n    } }) {\r\n        number\r\n      }`\r\n  })\r\n  queryString += '}'\r\n  return gql(queryString)\r\n}\r\n\r\n/**\r\n * for a given array of timestamps, returns block entities\r\n * @param timestamps\r\n */\r\nexport function useBlocksFromTimestamps(\r\n  timestamps: number[]\r\n): {\r\n  blocks:\r\n    | {\r\n        timestamp: string\r\n        number: any\r\n      }[]\r\n    | undefined\r\n  error: boolean\r\n} {\r\n  const [blocks, setBlocks] = useState<any>()\r\n  const [error, setError] = useState(false)\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const results = await splitQuery(GET_BLOCKS, blockClient, [], timestamps)\r\n      if (results) {\r\n        setBlocks(results)\r\n      } else {\r\n        setError(true)\r\n      }\r\n    }\r\n    if (!blocks && !error) {\r\n      fetchData()\r\n    }\r\n  })\r\n\r\n  const blocksFormatted = useMemo(() => {\r\n    if (blocks) {\r\n      const formatted = []\r\n      for (const t in blocks) {\r\n        if (blocks[t].length > 0) {\r\n          formatted.push({\r\n            timestamp: t.split('t')[1],\r\n            number: blocks[t][0]['number'],\r\n          })\r\n        }\r\n      }\r\n      return formatted\r\n    }\r\n    return undefined\r\n  }, [blocks])\r\n\r\n  return {\r\n    blocks: blocksFormatted,\r\n    error,\r\n  }\r\n}\r\n\r\n/**\r\n * @notice Fetches block objects for an array of timestamps.\r\n * @dev blocks are returned in chronological order (ASC) regardless of input.\r\n * @dev blocks are returned at string representations of Int\r\n * @dev timestamps are returns as they were provided; not the block time.\r\n * @param {Array} timestamps\r\n */\r\nexport async function getBlocksFromTimestamps(timestamps: number[], skipCount = 500) {\r\n  if (timestamps?.length === 0) {\r\n    return []\r\n  }\r\n  const fetchedData: any = await splitQuery(GET_BLOCKS, blockClient, [], timestamps, skipCount)\r\n\r\n  const blocks: any[] = []\r\n  if (fetchedData) {\r\n    for (const t in fetchedData) {\r\n      if (fetchedData[t].length > 0) {\r\n        blocks.push({\r\n          timestamp: t.split('t')[1],\r\n          number: fetchedData[t][0]['number'],\r\n        })\r\n      }\r\n    }\r\n  }\r\n  return blocks\r\n}\r\n","import dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport weekOfYear from 'dayjs/plugin/weekOfYear'\r\nimport gql from 'graphql-tag'\r\nimport { client } from 'apollo/client'\r\nimport { getBlocksFromTimestamps } from 'hooks/useBlocksFromTimestamps'\r\nimport { PriceChartEntry } from 'types'\r\n\r\n// format dayjs with the libraries that we need\r\ndayjs.extend(utc)\r\ndayjs.extend(weekOfYear)\r\n\r\nexport const PRICES_BY_BLOCK = (tokenAddress: string, blocks: any) => {\r\n  let queryString = 'query blocks {'\r\n  queryString += blocks.map(\r\n    (block: any) => `\r\n      t${block.timestamp}:token(id:\"${tokenAddress}\", block: { number: ${block.number} }) { \r\n        derivedETH\r\n      }\r\n    `\r\n  )\r\n  queryString += ','\r\n  queryString += blocks.map(\r\n    (block: any) => `\r\n      b${block.timestamp}: bundle(id:\"1\", block: { number: ${block.number} }) { \r\n        ethPriceUSD\r\n      }\r\n    `\r\n  )\r\n\r\n  queryString += '}'\r\n  return gql(queryString)\r\n}\r\n\r\nconst PRICE_CHART = gql`\r\n  query tokenHourDatas($startTime: Int!, $skip: Int!, $address: Bytes!) {\r\n    tokenHourDatas(\r\n      first: 100\r\n      skip: $skip\r\n      where: { token: $address, periodStartUnix_gt: $startTime }\r\n      orderBy: periodStartUnix\r\n      orderDirection: asc\r\n    ) {\r\n      periodStartUnix\r\n      high\r\n      low\r\n      open\r\n      close\r\n    }\r\n  }\r\n`\r\n\r\ninterface PriceResults {\r\n  tokenHourDatas: {\r\n    periodStartUnix: number\r\n    high: string\r\n    low: string\r\n    open: string\r\n    close: string\r\n  }[]\r\n}\r\n\r\nexport async function fetchTokenPriceData(\r\n  address: string,\r\n  interval: number,\r\n  startTimestamp: number\r\n): Promise<{\r\n  data: PriceChartEntry[]\r\n  error: boolean\r\n}> {\r\n  // start and end bounds\r\n\r\n  try {\r\n    const endTimestamp = dayjs.utc().unix()\r\n\r\n    if (!startTimestamp) {\r\n      console.log('Error constructing price start timestamp')\r\n      return {\r\n        data: [],\r\n        error: false,\r\n      }\r\n    }\r\n\r\n    // create an array of hour start times until we reach current hour\r\n    const timestamps = []\r\n    let time = startTimestamp\r\n    while (time <= endTimestamp) {\r\n      timestamps.push(time)\r\n      time += interval\r\n    }\r\n\r\n    // backout if invalid timestamp format\r\n    if (timestamps.length === 0) {\r\n      return {\r\n        data: [],\r\n        error: false,\r\n      }\r\n    }\r\n\r\n    // fetch blocks based on timestamp\r\n    const blocks = await getBlocksFromTimestamps(timestamps, 500)\r\n    if (!blocks || blocks.length === 0) {\r\n      console.log('Error fetching blocks')\r\n      return {\r\n        data: [],\r\n        error: false,\r\n      }\r\n    }\r\n    let data: {\r\n      periodStartUnix: number\r\n      high: string\r\n      low: string\r\n      open: string\r\n      close: string\r\n    }[] = []\r\n    let skip = 0\r\n    let allFound = false\r\n    while (!allFound) {\r\n      const { data: priceData, errors, loading } = await client.query<PriceResults>({\r\n        query: PRICE_CHART,\r\n        variables: {\r\n          address: address,\r\n          startTime: startTimestamp,\r\n          skip,\r\n        },\r\n        fetchPolicy: 'no-cache',\r\n      })\r\n      if (!loading) {\r\n        skip += 100\r\n        if ((priceData && priceData.tokenHourDatas.length < 100) || errors) {\r\n          allFound = true\r\n        }\r\n        if (priceData) {\r\n          data = data.concat(priceData.tokenHourDatas)\r\n        }\r\n      }\r\n    }\r\n\r\n    const formattedHistory = data.map((d) => {\r\n      return {\r\n        time: d.periodStartUnix,\r\n        open: parseFloat(d.open),\r\n        close: parseFloat(d.close),\r\n        high: parseFloat(d.high),\r\n        low: parseFloat(d.low),\r\n      }\r\n    })\r\n\r\n    return {\r\n      data: formattedHistory,\r\n      error: false,\r\n    }\r\n  } catch (e) {\r\n    console.log(e)\r\n    return {\r\n      data: [],\r\n      error: true,\r\n    }\r\n  }\r\n}\r\n","import { Contract } from '@ethersproject/contracts'\r\nimport { getAddress } from '@ethersproject/address'\r\nimport { AddressZero } from '@ethersproject/constants'\r\nimport { JsonRpcSigner, Web3Provider } from '@ethersproject/providers'\r\nimport { BigNumber } from '@ethersproject/bignumber'\r\nimport { abi as IUniswapV2Router02ABI } from '@uniswap/v2-periphery/build/IUniswapV2Router02.json'\r\nimport { ROUTER_ADDRESS } from '../constants'\r\nimport { ChainId, Percent, Token, CurrencyAmount, Fraction, Currency } from '@uniswap/sdk-core'\r\nimport JSBI from 'jsbi'\r\nimport { TokenAddressMap } from '../state/lists/hooks'\r\n\r\n// returns the checksummed address if the address is valid, otherwise returns false\r\nexport function isAddress(value: any): string | false {\r\n  try {\r\n    return getAddress(value)\r\n  } catch {\r\n    return false\r\n  }\r\n}\r\n\r\nconst ETHERSCAN_PREFIXES: { [chainId in ChainId]: string } = {\r\n  1: '',\r\n  3: 'ropsten.',\r\n  4: 'rinkeby.',\r\n  5: 'goerli.',\r\n  42: 'kovan.',\r\n}\r\n\r\nexport function getEtherscanLink(\r\n  chainId: ChainId,\r\n  data: string,\r\n  type: 'transaction' | 'token' | 'address' | 'block'\r\n): string {\r\n  const prefix = `https://${ETHERSCAN_PREFIXES[chainId] || ETHERSCAN_PREFIXES[1]}etherscan.io`\r\n\r\n  switch (type) {\r\n    case 'transaction': {\r\n      return `${prefix}/tx/${data}`\r\n    }\r\n    case 'token': {\r\n      return `${prefix}/token/${data}`\r\n    }\r\n    case 'block': {\r\n      return `${prefix}/block/${data}`\r\n    }\r\n    case 'address':\r\n    default: {\r\n      return `${prefix}/address/${data}`\r\n    }\r\n  }\r\n}\r\n\r\nexport const currentTimestamp = () => new Date().getTime()\r\n\r\n// shorten the checksummed version of the input address to have 0x + 4 characters at start and end\r\nexport function shortenAddress(address: string, chars = 4): string {\r\n  const parsed = isAddress(address)\r\n  if (!parsed) {\r\n    throw Error(`Invalid 'address' parameter '${address}'.`)\r\n  }\r\n  return `${parsed.substring(0, chars + 2)}...${parsed.substring(42 - chars)}`\r\n}\r\n\r\n// add 10%\r\nexport function calculateGasMargin(value: BigNumber): BigNumber {\r\n  return value.mul(BigNumber.from(10000).add(BigNumber.from(1000))).div(BigNumber.from(10000))\r\n}\r\n\r\n// converts a basis points value to a sdk percent\r\nexport function basisPointsToPercent(num: number): Percent {\r\n  return new Percent(JSBI.BigInt(num), JSBI.BigInt(10000))\r\n}\r\n\r\nconst ONE = new Fraction(1, 1)\r\nexport function calculateSlippageAmount(value: CurrencyAmount<Currency>, slippage: Percent): [JSBI, JSBI] {\r\n  if (slippage.lessThan(0) || slippage.greaterThan(ONE)) throw new Error('Unexpected slippage')\r\n  return [value.multiply(ONE.subtract(slippage)).quotient, value.multiply(ONE.add(slippage)).quotient]\r\n}\r\n// account is not optional\r\nexport function getSigner(library: Web3Provider, account: string): JsonRpcSigner {\r\n  return library.getSigner(account).connectUnchecked()\r\n}\r\n\r\n// account is optional\r\nexport function getProviderOrSigner(library: Web3Provider, account?: string): Web3Provider | JsonRpcSigner {\r\n  return account ? getSigner(library, account) : library\r\n}\r\n\r\n// account is optional\r\nexport function getContract(address: string, ABI: any, library: Web3Provider, account?: string): Contract {\r\n  if (!isAddress(address) || address === AddressZero) {\r\n    throw Error(`Invalid 'address' parameter '${address}'.`)\r\n  }\r\n\r\n  return new Contract(address, ABI, getProviderOrSigner(library, account) as any)\r\n}\r\n\r\n// account is optional\r\nexport function getRouterContract(_: number, library: Web3Provider, account?: string): Contract {\r\n  return getContract(ROUTER_ADDRESS, IUniswapV2Router02ABI, library, account)\r\n}\r\n\r\nexport function escapeRegExp(string: string): string {\r\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') // $& means the whole matched string\r\n}\r\n\r\nexport function isTokenOnList(tokenAddressMap: TokenAddressMap, token?: Token): boolean {\r\n  return Boolean(token?.isToken && tokenAddressMap[token.chainId as ChainId]?.[token.address])\r\n}\r\n\r\nexport function feeTierPercent(fee: number): string {\r\n  return (fee / 10000).toPrecision(1) + '%'\r\n}\r\n\r\nexport function notEmpty<TValue>(value: TValue | null | undefined): value is TValue {\r\n  return value !== null && value !== undefined\r\n}\r\n\r\n/**\r\n * Returns chain id if chain from chainId supports WETH\r\n * if not, return undefined\r\n * @param chainId\r\n */\r\nexport function supportedChainId(chainId: number): ChainId | undefined {\r\n  if (chainId in ChainId) {\r\n    return chainId\r\n  }\r\n  return undefined\r\n}\r\n","import { AppState, AppDispatch } from './../index'\r\nimport { TokenData, TokenChartEntry } from './reducer'\r\nimport { useCallback, useEffect, useState, useMemo } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n  updateTokenData,\r\n  addTokenKeys,\r\n  addPoolAddresses,\r\n  updateChartData,\r\n  updatePriceData,\r\n  updateTransactions,\r\n} from './actions'\r\nimport { isAddress } from 'ethers/lib/utils'\r\nimport { fetchPoolsForToken } from 'data/tokens/poolsForToken'\r\nimport { fetchTokenChartData } from 'data/tokens/chartData'\r\nimport { fetchTokenPriceData } from 'data/tokens/priceData'\r\n// import { fetchTokenTransactions } from 'data/tokens/transactions'\r\nimport { PriceChartEntry, Transaction } from 'types'\r\nimport { notEmpty } from 'utils'\r\nimport dayjs, { OpUnitType } from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\n// format dayjs with the libraries that we need\r\ndayjs.extend(utc)\r\n\r\nexport function useAllTokenData(): {\r\n  [address: string]: { data: TokenData | undefined; lastUpdated: number | undefined }\r\n} {\r\n  return useSelector((state: AppState) => state.tokens.byAddress)\r\n}\r\n\r\nexport function useUpdateTokenData(): (tokens: TokenData[]) => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  return useCallback(\r\n    (tokens: TokenData[]) => {\r\n      dispatch(updateTokenData({ tokens }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\nexport function useAddTokenKeys(): (addresses: string[]) => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  return useCallback((tokenAddresses: string[]) => dispatch(addTokenKeys({ tokenAddresses })), [dispatch])\r\n}\r\n\r\nexport function useTokenDatas(addresses: string[] | undefined): TokenData[] | undefined {\r\n  const allTokenData = useAllTokenData()\r\n  const addTokenKeys = useAddTokenKeys()\r\n\r\n  // if token not tracked yet track it\r\n  addresses?.map((a) => {\r\n    if (!allTokenData[a]) {\r\n      addTokenKeys([a])\r\n    }\r\n  })\r\n\r\n  const data = useMemo(() => {\r\n    if (!addresses) {\r\n      return undefined\r\n    }\r\n    return addresses\r\n      .map((a) => {\r\n        return allTokenData[a]?.data\r\n      })\r\n      .filter(notEmpty)\r\n  }, [addresses, allTokenData])\r\n\r\n  return data\r\n}\r\n\r\nexport function useTokenData(address: string | undefined): TokenData | undefined {\r\n  const allTokenData = useAllTokenData()\r\n  const addTokenKeys = useAddTokenKeys()\r\n\r\n  // if invalid address return\r\n  if (!address || !isAddress(address)) {\r\n    return undefined\r\n  }\r\n\r\n  // if token not tracked yet track it\r\n  if (!allTokenData[address]) {\r\n    addTokenKeys([address])\r\n  }\r\n\r\n  // return data\r\n  return allTokenData[address]?.data\r\n}\r\n\r\n/**\r\n * Get top pools addresses that token is included in\r\n * If not loaded, fetch and store\r\n * @param address\r\n */\r\nexport function usePoolsForToken(address: string): string[] | undefined {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const token = useSelector((state: AppState) => state.tokens.byAddress[address])\r\n  const poolsForToken = token.poolAddresses\r\n  const [error, setError] = useState(false)\r\n\r\n  useEffect(() => {\r\n    async function fetch() {\r\n      const { loading, error, addresses } = await fetchPoolsForToken(address)\r\n      if (!loading && !error && addresses) {\r\n        dispatch(addPoolAddresses({ tokenAddress: address, poolAddresses: addresses }))\r\n      }\r\n      if (error) {\r\n        setError(error)\r\n      }\r\n    }\r\n    if (!poolsForToken && !error) {\r\n      fetch()\r\n    }\r\n  }, [address, dispatch, error, poolsForToken])\r\n\r\n  // return data\r\n  return poolsForToken\r\n}\r\n\r\n/**\r\n * Get top pools addresses that token is included in\r\n * If not loaded, fetch and store\r\n * @param address\r\n */\r\nexport function useTokenChartData(address: string): TokenChartEntry[] | undefined {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const token = useSelector((state: AppState) => state.tokens.byAddress[address])\r\n  const chartData = token.chartData\r\n  const [error, setError] = useState(false)\r\n\r\n  useEffect(() => {\r\n    async function fetch() {\r\n      const { error, data } = await fetchTokenChartData(address)\r\n      if (!error && data) {\r\n        dispatch(updateChartData({ tokenAddress: address, chartData: data }))\r\n      }\r\n      if (error) {\r\n        setError(error)\r\n      }\r\n    }\r\n    if (!chartData && !error) {\r\n      fetch()\r\n    }\r\n  }, [address, dispatch, error, chartData])\r\n\r\n  // return data\r\n  return chartData\r\n}\r\n\r\n/**\r\n * Get top pools addresses that token is included in\r\n * If not loaded, fetch and store\r\n * @param address\r\n */\r\nexport function useTokenPriceData(\r\n  address: string,\r\n  interval: number,\r\n  timeWindow: OpUnitType\r\n): PriceChartEntry[] | undefined {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const token = useSelector((state: AppState) => state.tokens.byAddress[address])\r\n  const priceData = token.priceData[interval]\r\n  const [error, setError] = useState(false)\r\n\r\n  // construct timestamps and check if we need to fetch more data\r\n  const oldestTimestampFetched = token.priceData.oldestFetchedTimestamp\r\n  const utcCurrentTime = dayjs()\r\n  const startTimestamp = utcCurrentTime.subtract(1, timeWindow).startOf('hour').unix()\r\n\r\n  useEffect(() => {\r\n    async function fetch() {\r\n      const { data, error: fetchingError } = await fetchTokenPriceData(address, interval, startTimestamp)\r\n      if (data) {\r\n        dispatch(\r\n          updatePriceData({\r\n            tokenAddress: address,\r\n            secondsInterval: interval,\r\n            priceData: data,\r\n            oldestFetchedTimestamp: startTimestamp,\r\n          })\r\n        )\r\n      }\r\n      if (fetchingError) {\r\n        setError(true)\r\n      }\r\n    }\r\n    if (!priceData && !error) {\r\n      fetch()\r\n    }\r\n  }, [address, dispatch, error, interval, oldestTimestampFetched, priceData, startTimestamp, timeWindow])\r\n\r\n  // return data\r\n  return priceData\r\n}\r\n\r\n/**\r\n * Get top pools addresses that token is included in\r\n * If not loaded, fetch and store\r\n * @param address\r\n */\r\n// export function useTokenTransactions(address: string): Transaction[] | undefined {\r\n//   const dispatch = useDispatch<AppDispatch>()\r\n//   const token = useSelector((state: AppState) => state.tokens.byAddress[address])\r\n//   const transactions = token.transactions\r\n//   const [error, setError] = useState(false)\r\n\r\n//   useEffect(() => {\r\n//     async function fetch() {\r\n//       const { error, data } = await fetchTokenTransactions(address)\r\n//       if (error) {\r\n//         setError(true)\r\n//       } else if (data) {\r\n//         dispatch(updateTransactions({ tokenAddress: address, transactions: data }))\r\n//       }\r\n//     }\r\n//     if (!transactions && !error) {\r\n//       fetch()\r\n//     }\r\n//   }, [address, dispatch, error, transactions])\r\n\r\n//   // return data\r\n//   return transactions\r\n// }\r\n","/**\r\n * gets the amoutn difference plus the % change in change itself (second order change)\r\n * @param {*} valueNow\r\n * @param {*} value24HoursAgo\r\n * @param {*} value48HoursAgo\r\n */\r\nexport const get2DayChange = (valueNow: string, value24HoursAgo: string, value48HoursAgo: string): [number, number] => {\r\n  // get volume info for both 24 hour periods\r\n  const currentChange = parseFloat(valueNow) - parseFloat(value24HoursAgo)\r\n  const previousChange = parseFloat(value24HoursAgo) - parseFloat(value48HoursAgo)\r\n  const adjustedPercentChange = ((currentChange - previousChange) / previousChange) * 100\r\n  if (isNaN(adjustedPercentChange) || !isFinite(adjustedPercentChange)) {\r\n    return [currentChange, 0]\r\n  }\r\n  return [currentChange, adjustedPercentChange]\r\n}\r\n\r\n/**\r\n * get standard percent change between two values\r\n * @param {*} valueNow\r\n * @param {*} value24HoursAgo\r\n */\r\nexport const getPercentChange = (valueNow: string | undefined, value24HoursAgo: string | undefined): number => {\r\n  if (valueNow && value24HoursAgo) {\r\n    const change = ((parseFloat(valueNow) - parseFloat(value24HoursAgo)) / parseFloat(value24HoursAgo)) * 100\r\n    if (isFinite(change)) return change\r\n  }\r\n  return 0\r\n}\r\n","import { useBlocksFromTimestamps } from 'hooks/useBlocksFromTimestamps'\r\nimport { useDeltaTimestamps } from 'utils/queries'\r\nimport { useState, useEffect, useMemo } from 'react'\r\nimport { client } from 'apollo/client'\r\nimport gql from 'graphql-tag'\r\n\r\nexport interface EthPrices {\r\n  current: number\r\n  oneDay: number\r\n  twoDay: number\r\n  week: number\r\n}\r\n\r\nexport const ETH_PRICES = gql`\r\n  query prices($block24: Int!, $block48: Int!, $blockWeek: Int!) {\r\n    current: bundles(first: 1) {\r\n      ethPriceUSD\r\n    }\r\n    oneDay: bundles(first: 1, block: { number: $block24 }) {\r\n      ethPriceUSD\r\n    }\r\n    twoDay: bundles(first: 1, block: { number: $block48 }) {\r\n      ethPriceUSD\r\n    }\r\n    oneWeek: bundles(first: 1, block: { number: $blockWeek }) {\r\n      ethPriceUSD\r\n    }\r\n  }\r\n`\r\n\r\ninterface PricesResponse {\r\n  current: {\r\n    ethPriceUSD: string\r\n  }[]\r\n  oneDay: {\r\n    ethPriceUSD: string\r\n  }[]\r\n  twoDay: {\r\n    ethPriceUSD: string\r\n  }[]\r\n  oneWeek: {\r\n    ethPriceUSD: string\r\n  }[]\r\n}\r\n\r\nasync function fetchEthPrices(\r\n  blocks: [number, number, number]\r\n): Promise<{ data: EthPrices | undefined; error: boolean }> {\r\n  try {\r\n    const { data, error } = await client.query<PricesResponse>({\r\n      query: ETH_PRICES,\r\n      variables: {\r\n        block24: blocks[0],\r\n        block48: blocks[1],\r\n        blockWeek: blocks[2],\r\n      },\r\n    })\r\n\r\n    if (error) {\r\n      return {\r\n        error: true,\r\n        data: undefined,\r\n      }\r\n    } else if (data) {\r\n      return {\r\n        data: {\r\n          current: parseFloat(data.current[0].ethPriceUSD ?? 0),\r\n          oneDay: parseFloat(data.oneDay[0]?.ethPriceUSD ?? 0),\r\n          twoDay: parseFloat(data.twoDay[0]?.ethPriceUSD ?? 0),\r\n          week: parseFloat(data.oneWeek[0]?.ethPriceUSD ?? 0),\r\n        },\r\n        error: false,\r\n      }\r\n    } else {\r\n      return {\r\n        data: undefined,\r\n        error: true,\r\n      }\r\n    }\r\n  } catch (e) {\r\n    console.log(e)\r\n    return {\r\n      data: undefined,\r\n      error: true,\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * returns eth prices at current, 24h, 48h, and 1k intervals\r\n */\r\nexport function useEthPrices(): EthPrices | undefined {\r\n  const [prices, setPrices] = useState<EthPrices | undefined>()\r\n  const [error, setError] = useState(false)\r\n\r\n  const [t24, t48, tWeek] = useDeltaTimestamps()\r\n  const { blocks, error: blockError } = useBlocksFromTimestamps([t24, t48, tWeek])\r\n\r\n  const formattedBlocks = useMemo(() => {\r\n    if (blocks) {\r\n      return blocks.map((b) => parseFloat(b.number))\r\n    }\r\n    return undefined\r\n  }, [blocks])\r\n\r\n  useEffect(() => {\r\n    async function fetch() {\r\n      const { data, error } = await fetchEthPrices(formattedBlocks as [number, number, number])\r\n      if (error || blockError) {\r\n        setError(true)\r\n      } else if (data) {\r\n        setPrices(data)\r\n      }\r\n    }\r\n    if (!prices && !error && formattedBlocks) {\r\n      fetch()\r\n    }\r\n  }, [error, prices, formattedBlocks, blockError])\r\n\r\n  return prices\r\n}\r\n","import { Token } from '@uniswap/sdk-core'\r\nimport { WETH_ADDRESS } from '../constants/index'\r\n\r\nexport interface SerializedToken {\r\n  chainId: number\r\n  address: string\r\n  decimals: number\r\n  symbol?: string\r\n  name?: string\r\n}\r\n\r\nexport function serializeToken(token: Token): SerializedToken {\r\n  return {\r\n    chainId: token.chainId,\r\n    address: token.address,\r\n    decimals: token.decimals,\r\n    symbol: token.symbol,\r\n    name: token.name,\r\n  }\r\n}\r\n\r\nexport function deserializeToken(serializedToken: SerializedToken): Token {\r\n  return new Token(\r\n    serializedToken.chainId,\r\n    serializedToken.address,\r\n    serializedToken.decimals,\r\n    serializedToken.symbol,\r\n    serializedToken.name\r\n  )\r\n}\r\n\r\nexport function formatTokenSymbol(address: string, symbol: string) {\r\n  if (address === WETH_ADDRESS) {\r\n    return 'ETH'\r\n  }\r\n  return symbol\r\n}\r\n\r\nexport function formatTokenName(address: string, name: string) {\r\n  if (address === WETH_ADDRESS) {\r\n    return 'Ether'\r\n  }\r\n  return name\r\n}\r\n","import { getPercentChange } from './../../utils/data'\r\nimport { useQuery } from '@apollo/client'\r\nimport gql from 'graphql-tag'\r\nimport { useDeltaTimestamps } from 'utils/queries'\r\nimport { useBlocksFromTimestamps } from 'hooks/useBlocksFromTimestamps'\r\nimport { get2DayChange } from 'utils/data'\r\nimport { TokenData } from 'state/tokens/reducer'\r\nimport { useEthPrices } from 'hooks/useEthPrices'\r\nimport { formatTokenSymbol, formatTokenName } from 'utils/tokens'\r\n\r\nexport const TOKENS_BULK = (block: number | undefined, tokens: string[]) => {\r\n  let tokenString = `[`\r\n  tokens.map((address) => {\r\n    return (tokenString += `\"${address}\",`)\r\n  })\r\n  tokenString += ']'\r\n  const queryString =\r\n    `\r\n    query tokens {\r\n      tokens(where: {id_in: ${tokenString}},` +\r\n    (block ? `block: {number: ${block}} ,` : ``) +\r\n    ` orderBy: totalValueLockedUSD, orderDirection: desc) {\r\n        id\r\n        symbol\r\n        name\r\n        derivedETH\r\n        volumeUSD\r\n        volume\r\n        txCount\r\n        totalValueLocked\r\n        feesUSD\r\n        totalValueLockedUSD\r\n      }\r\n    }\r\n    `\r\n  return gql(queryString)\r\n}\r\n\r\ninterface TokenFields {\r\n  id: string\r\n  symbol: string\r\n  name: string\r\n  derivedETH: string\r\n  volumeUSD: string\r\n  volume: string\r\n  feesUSD: string\r\n  txCount: string\r\n  totalValueLocked: string\r\n  totalValueLockedUSD: string\r\n}\r\n\r\ninterface TokenDataResponse {\r\n  tokens: TokenFields[]\r\n  bundles: {\r\n    ethPriceUSD: string\r\n  }[]\r\n}\r\n\r\n/**\r\n * Fetch top addresses by volume\r\n */\r\nexport function useFetchedTokenDatas(\r\n  tokenAddresses: string[]\r\n): {\r\n  loading: boolean\r\n  error: boolean\r\n  data:\r\n    | {\r\n        [address: string]: TokenData\r\n      }\r\n    | undefined\r\n} {\r\n  // get blocks from historic timestamps\r\n  const [t24, t48, tWeek] = useDeltaTimestamps()\r\n\r\n  const { blocks, error: blockError } = useBlocksFromTimestamps([t24, t48, tWeek])\r\n  const [block24, block48, blockWeek] = blocks ?? []\r\n  const ethPrices = useEthPrices()\r\n\r\n  const { loading, error, data } = useQuery<TokenDataResponse>(TOKENS_BULK(undefined, tokenAddresses))\r\n\r\n  const { loading: loading24, error: error24, data: data24 } = useQuery<TokenDataResponse>(\r\n    TOKENS_BULK(parseInt(block24?.number), tokenAddresses)\r\n  )\r\n\r\n  const { loading: loading48, error: error48, data: data48 } = useQuery<TokenDataResponse>(\r\n    TOKENS_BULK(parseInt(block48?.number), tokenAddresses)\r\n  )\r\n  const { loading: loadingWeek, error: errorWeek, data: dataWeek } = useQuery<TokenDataResponse>(\r\n    TOKENS_BULK(parseInt(blockWeek?.number), tokenAddresses)\r\n  )\r\n\r\n  const anyError = Boolean(error || error24 || error48 || blockError || errorWeek)\r\n  const anyLoading = Boolean(loading || loading24 || loading48 || loadingWeek || !blocks)\r\n\r\n  if (!ethPrices) {\r\n    return {\r\n      loading: true,\r\n      error: false,\r\n      data: undefined,\r\n    }\r\n  }\r\n\r\n  // return early if not all data yet\r\n  if (anyError || anyLoading) {\r\n    return {\r\n      loading: anyLoading,\r\n      error: anyError,\r\n      data: undefined,\r\n    }\r\n  }\r\n\r\n  const parsed = data?.tokens\r\n    ? data.tokens.reduce((accum: { [address: string]: TokenFields }, poolData) => {\r\n        accum[poolData.id] = poolData\r\n        return accum\r\n      }, {})\r\n    : {}\r\n  const parsed24 = data24?.tokens\r\n    ? data24.tokens.reduce((accum: { [address: string]: TokenFields }, poolData) => {\r\n        accum[poolData.id] = poolData\r\n        return accum\r\n      }, {})\r\n    : {}\r\n  const parsed48 = data48?.tokens\r\n    ? data48.tokens.reduce((accum: { [address: string]: TokenFields }, poolData) => {\r\n        accum[poolData.id] = poolData\r\n        return accum\r\n      }, {})\r\n    : {}\r\n  const parsedWeek = dataWeek?.tokens\r\n    ? dataWeek.tokens.reduce((accum: { [address: string]: TokenFields }, poolData) => {\r\n        accum[poolData.id] = poolData\r\n        return accum\r\n      }, {})\r\n    : {}\r\n\r\n  // format data and calculate daily changes\r\n  const formatted = tokenAddresses.reduce((accum: { [address: string]: TokenData }, address) => {\r\n    const current: TokenFields | undefined = parsed[address]\r\n    const oneDay: TokenFields | undefined = parsed24[address]\r\n    const twoDay: TokenFields | undefined = parsed48[address]\r\n    const week: TokenFields | undefined = parsedWeek[address]\r\n\r\n    if (address === '0xDe30da39c46104798bB5aA3fe8B9e0e1F348163F') {\r\n      console.log(current)\r\n    }\r\n\r\n    const [volumeUSD, volumeUSDChange] =\r\n      current && oneDay && twoDay\r\n        ? get2DayChange(current.volumeUSD, oneDay.volumeUSD, twoDay.volumeUSD)\r\n        : current\r\n        ? [parseFloat(current.volumeUSD), 0]\r\n        : [0, 0]\r\n    const volumeUSDWeek =\r\n      current && week\r\n        ? parseFloat(current.volumeUSD) - parseFloat(week.volumeUSD)\r\n        : current\r\n        ? parseFloat(current.volumeUSD)\r\n        : 0\r\n    const tvlUSD = current ? parseFloat(current.totalValueLockedUSD) : 0\r\n    const tvlUSDChange = getPercentChange(current?.totalValueLockedUSD, oneDay?.totalValueLockedUSD)\r\n    const tvlToken = current ? parseFloat(current.totalValueLocked) : 0\r\n    const priceUSD = current ? parseFloat(current.derivedETH) * ethPrices.current : 0\r\n    const priceUSDOneDay = oneDay ? parseFloat(oneDay.derivedETH) * ethPrices.oneDay : 0\r\n    const priceUSDWeek = week ? parseFloat(week.derivedETH) * ethPrices.week : 0\r\n    const priceUSDChange =\r\n      priceUSD && priceUSDOneDay ? getPercentChange(priceUSD.toString(), priceUSDOneDay.toString()) : 0\r\n    const priceUSDChangeWeek =\r\n      priceUSD && priceUSDWeek ? getPercentChange(priceUSD.toString(), priceUSDWeek.toString()) : 0\r\n    const txCount =\r\n      current && oneDay\r\n        ? parseFloat(current.txCount) - parseFloat(oneDay.txCount)\r\n        : current\r\n        ? parseFloat(current.txCount)\r\n        : 0\r\n    const feesUSD =\r\n      current && oneDay\r\n        ? parseFloat(current.feesUSD) - parseFloat(oneDay.feesUSD)\r\n        : current\r\n        ? parseFloat(current.feesUSD)\r\n        : 0\r\n\r\n    accum[address] = {\r\n      exists: !!current,\r\n      address,\r\n      name: current ? formatTokenName(address, current.name) : '',\r\n      symbol: current ? formatTokenSymbol(address, current.symbol) : '',\r\n      volumeUSD,\r\n      volumeUSDChange,\r\n      volumeUSDWeek,\r\n      txCount,\r\n      tvlUSD,\r\n      feesUSD,\r\n      tvlUSDChange,\r\n      tvlToken,\r\n      priceUSD,\r\n      priceUSDChange,\r\n      priceUSDChangeWeek,\r\n    }\r\n\r\n    return accum\r\n  }, {})\r\n\r\n  return {\r\n    loading: anyLoading,\r\n    error: anyError,\r\n    data: formatted,\r\n  }\r\n}\r\n","import { TickProcessed } from './../../data/pools/tickData'\r\nimport { createAction } from '@reduxjs/toolkit'\r\nimport { PoolData, PoolChartEntry } from './reducer'\r\nimport { Transaction } from 'types'\r\n\r\n// protocol wide info\r\nexport const updatePoolData = createAction<{ pools: PoolData[] }>('pools/updatePoolData')\r\n\r\n// add pool address to byAddress\r\nexport const addPoolKeys = createAction<{ poolAddresses: string[] }>('pool/addPoolKeys')\r\n\r\nexport const updatePoolChartData = createAction<{ poolAddress: string; chartData: PoolChartEntry[] }>(\r\n  'pool/updatePoolChartData'\r\n)\r\n\r\nexport const updatePoolTransactions = createAction<{ poolAddress: string; transactions: Transaction[] }>(\r\n  'pool/updatePoolTransactions'\r\n)\r\n\r\nexport const updateTickData = createAction<{\r\n  poolAddress: string\r\n  tickData:\r\n    | {\r\n        ticksProcessed: TickProcessed[]\r\n        feeTier: string\r\n        tickSpacing: number\r\n        activeTickIdx: number\r\n      }\r\n    | undefined\r\n}>('pool/updateTickData')\r\n","import dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport weekOfYear from 'dayjs/plugin/weekOfYear'\r\nimport gql from 'graphql-tag'\r\nimport { client } from 'apollo/client'\r\nimport { TokenChartEntry } from 'state/tokens/reducer'\r\nimport { PoolChartEntry } from 'state/pools/reducer'\r\n\r\n// format dayjs with the libraries that we need\r\ndayjs.extend(utc)\r\ndayjs.extend(weekOfYear)\r\nconst ONE_DAY_UNIX = 24 * 60 * 60\r\n// ($startTime: Int!, $skip: Int!, $address: Bytes!)\r\n// (where: { pool: $address, date_gt: $startTime }, orderBy: date, orderDirection: asc)\r\nconst POOL_CHART = gql`\r\n  query poolDayDatas($startTime: Int!, $address: Bytes!) {\r\n    whitelistedPoolDayDatas(where: { pool: $address, date_gt: $startTime }, orderBy: date, orderDirection: asc) {\r\n      pool\r\n      date\r\n      aquaPremiumUSD\r\n      tvlUSD\r\n    }\r\n  }\r\n`\r\n\r\ninterface ChartResults {\r\n  whitelistedPoolDayDatas: {\r\n    date: number\r\n    aquaPremiumUSD: string\r\n    tvlUSD: string\r\n  }[]\r\n}\r\n\r\nexport async function fetchPoolChartData(address: string) {\r\n  let data: {\r\n    date: number\r\n    aquaPremiumUSD: string\r\n    tvlUSD: string\r\n  }[] = []\r\n  const startTimestamp = 1619170975\r\n  const endTimestamp = dayjs.utc().unix()\r\n\r\n  let error = false\r\n  let skip = 0\r\n  let allFound = false\r\n\r\n  try {\r\n    while (!allFound) {\r\n      const { data: chartResData, error, loading } = await client.query<ChartResults>({\r\n        query: POOL_CHART,\r\n        variables: {\r\n          address: address,\r\n          startTime: startTimestamp,\r\n          skip,\r\n        },\r\n        fetchPolicy: 'cache-first',\r\n      })\r\n\r\n      if (!loading) {\r\n        skip += 1000\r\n        if (chartResData.whitelistedPoolDayDatas.length < 1000 || error) {\r\n          allFound = true\r\n        }\r\n        if (chartResData) {\r\n          data = data.concat(chartResData.whitelistedPoolDayDatas)\r\n        }\r\n        // console.log('DATA===', data)\r\n      }\r\n    }\r\n  } catch {\r\n    error = true\r\n  }\r\n\r\n  if (data) {\r\n    const formattedExisting = data.reduce((accum: { [date: number]: PoolChartEntry }, dayData) => {\r\n      const roundedDate = parseInt((dayData.date / ONE_DAY_UNIX).toFixed(0))\r\n      accum[roundedDate] = {\r\n        date: dayData.date,\r\n        aquaPremiumUSD: parseFloat(dayData.aquaPremiumUSD),\r\n        totalValueLockedUSD: parseFloat(dayData.tvlUSD),\r\n      }\r\n      return accum\r\n    }, {})\r\n\r\n    const firstEntry = formattedExisting[parseInt(Object.keys(formattedExisting)[0])]\r\n\r\n    // fill in empty days ( there will be no day datas if no trades made that day )\r\n    let timestamp = firstEntry?.date ?? startTimestamp\r\n    let latestTvl = firstEntry?.totalValueLockedUSD ?? 0\r\n    while (timestamp < endTimestamp - ONE_DAY_UNIX) {\r\n      const nextDay = timestamp + ONE_DAY_UNIX\r\n      const currentDayIndex = parseInt((nextDay / ONE_DAY_UNIX).toFixed(0))\r\n      if (!Object.keys(formattedExisting).includes(currentDayIndex.toString())) {\r\n        formattedExisting[currentDayIndex] = {\r\n          date: nextDay,\r\n          aquaPremiumUSD: 0,\r\n          totalValueLockedUSD: latestTvl,\r\n        }\r\n      } else {\r\n        latestTvl = formattedExisting[currentDayIndex].totalValueLockedUSD\r\n      }\r\n      timestamp = nextDay\r\n    }\r\n\r\n    const dateMap = Object.keys(formattedExisting).map((key) => {\r\n      return formattedExisting[parseInt(key)]\r\n    })\r\n\r\n    return {\r\n      data: dateMap,\r\n      error: false,\r\n    }\r\n  } else {\r\n    return {\r\n      data: undefined,\r\n      error,\r\n    }\r\n  }\r\n}\r\n","export interface Block {\r\n  number: number\r\n  timestamp: string\r\n}\r\n\r\nexport interface ChartDayData {\r\n  date: number\r\n  aquaPremiumUSD: number\r\n  tvlUSD: number\r\n}\r\n\r\nexport enum TransactionType {\r\n  SWAP,\r\n  MINT,\r\n  BURN,\r\n}\r\n\r\nexport type Transaction = {\r\n  type: TransactionType\r\n  hash: string\r\n  pool: {\r\n    feeTier: string\r\n\r\n    token0: {\r\n      id: string\r\n      symbol: string\r\n    }\r\n    token1: {\r\n      id: string\r\n      symbol: string\r\n    }\r\n  }\r\n  tokenId: string\r\n  totalValueLocked: string\r\n  staker: string\r\n  stakeTime: string\r\n}\r\n\r\n/**\r\n * Formatted type for Candlestick charts\r\n */\r\nexport type PriceChartEntry = {\r\n  time: number // unix timestamp\r\n  open: number\r\n  close: number\r\n  high: number\r\n  low: number\r\n}\r\n","import { client } from 'apollo/client'\r\nimport gql from 'graphql-tag'\r\nimport { Transaction, TransactionType } from 'types'\r\nimport { formatTokenSymbol } from 'utils/tokens'\r\n\r\nconst POOL_TRANSACTIONS = gql`\r\n  query transactions($address: Bytes!) {\r\n    stakes(orderBy: stakeTime, orderDirection: desc, where: { pool: $address }) {\r\n      id\r\n\r\n      pool {\r\n        feeTier\r\n        token0 {\r\n          id\r\n          symbol\r\n        }\r\n        token1 {\r\n          id\r\n          symbol\r\n        }\r\n      }\r\n      tokenId\r\n      totalValueLocked\r\n      staker\r\n      stakeTime\r\n    }\r\n    unstakes(orderBy: unstakeTime, orderDirection: desc, where: { pool: $address }) {\r\n      id\r\n      pool {\r\n        feeTier\r\n\r\n        token0 {\r\n          symbol\r\n        }\r\n        token1 {\r\n          symbol\r\n        }\r\n      }\r\n      tokenId\r\n      totalValueLocked\r\n      staker\r\n\r\n      unstakeTime\r\n    }\r\n  }\r\n`\r\n\r\ninterface TransactionResults {\r\n  stakes: {\r\n    id: string\r\n\r\n    pool: {\r\n      feeTier: string\r\n      token0: {\r\n        id: string\r\n        symbol: string\r\n      }\r\n      token1: {\r\n        id: string\r\n        symbol: string\r\n      }\r\n    }\r\n    tokenId: string\r\n    totalValueLocked: string\r\n    staker: string\r\n    stakeTime: string\r\n  }[]\r\n  unstakes: {\r\n    id: string\r\n\r\n    pool: {\r\n      feeTier: string\r\n\r\n      token0: {\r\n        id: string\r\n        symbol: string\r\n      }\r\n      token1: {\r\n        id: string\r\n        symbol: string\r\n      }\r\n    }\r\n\r\n    tokenId: string\r\n    totalValueLocked: string\r\n    staker: string\r\n    unstakeTime: string\r\n  }[]\r\n  // burns: {\r\n  //   timestamp: string\r\n  //   transaction: {\r\n  //     id: string\r\n  //   }\r\n  //   pool: {\r\n  //     token0: {\r\n  //       id: string\r\n  //       symbol: string\r\n  //     }\r\n  //     token1: {\r\n  //       id: string\r\n  //       symbol: string\r\n  //     }\r\n  //   }\r\n  //   owner: string\r\n  //   amount0: string\r\n  //   amount1: string\r\n  //   amountUSD: string\r\n  // }[]\r\n}\r\n\r\nexport async function fetchPoolTransactions(\r\n  address: string\r\n): Promise<{ data: Transaction[] | undefined; error: boolean; loading: boolean }> {\r\n  const { data, error, loading } = await client.query<TransactionResults>({\r\n    query: POOL_TRANSACTIONS,\r\n    variables: {\r\n      address: address,\r\n    },\r\n    fetchPolicy: 'cache-first',\r\n  })\r\n  console.log('TXN DATA========', data, error)\r\n\r\n  if (error) {\r\n    return {\r\n      data: undefined,\r\n      error: true,\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  if (loading && !data) {\r\n    return {\r\n      data: undefined,\r\n      error: false,\r\n      loading: true,\r\n    }\r\n  }\r\n\r\n  const mints = data?.stakes.map((m) => {\r\n    return {\r\n      type: TransactionType.MINT,\r\n      hash: m.id,\r\n      timestamp: m.stakeTime,\r\n\r\n      pool: {\r\n        feeTier: m.pool.feeTier,\r\n\r\n        token0: {\r\n          id: m.pool.token0.id,\r\n          symbol: m.pool.token0.symbol,\r\n        },\r\n        token1: {\r\n          id: m.pool.token1.id,\r\n          symbol: m.pool.token1.symbol,\r\n        },\r\n      },\r\n      tokenId: m.tokenId,\r\n      totalValueLocked: m.totalValueLocked,\r\n      staker: m.staker,\r\n      stakeTime: m.stakeTime,\r\n\r\n      // sender: m.origin,\r\n      // token0Symbol: formatTokenSymbol(m.pool.token0.id, m.pool.token0.symbol),\r\n      // token1Symbol: formatTokenSymbol(m.pool.token1.id, m.pool.token1.symbol),\r\n      // token0Address: m.pool.token0.id,\r\n      // token1Address: m.pool.token1.id,\r\n      // amountUSD: parseFloat(m.amountUSD),\r\n      // amountToken0: parseFloat(m.amount0),\r\n      // amountToken1: parseFloat(m.amount1),\r\n    }\r\n  })\r\n  const burns = data?.unstakes.map((m) => {\r\n    return {\r\n      type: TransactionType.BURN,\r\n\r\n      hash: m.id,\r\n      timestamp: m.unstakeTime,\r\n\r\n      pool: {\r\n        feeTier: m.pool.feeTier,\r\n\r\n        token0: {\r\n          id: m.pool.token0.id,\r\n          symbol: m.pool.token0.symbol,\r\n        },\r\n        token1: {\r\n          id: m.pool.token1.id,\r\n          symbol: m.pool.token1.symbol,\r\n        },\r\n      },\r\n      tokenId: m.tokenId,\r\n      totalValueLocked: m.totalValueLocked,\r\n      staker: m.staker,\r\n\r\n      stakeTime: m.unstakeTime,\r\n    }\r\n  })\r\n\r\n  // const swaps = data?.swaps.map((m) => {\r\n  //   return {\r\n  //     type: TransactionType.SWAP,\r\n  //     hash: m.transaction.id,\r\n  //     timestamp: m.timestamp,\r\n  //     sender: m.origin,\r\n  //     token0Symbol: formatTokenSymbol(m.pool.token0.id, m.pool.token0.symbol),\r\n  //     token1Symbol: formatTokenSymbol(m.pool.token1.id, m.pool.token1.symbol),\r\n  //     token0Address: m.pool.token0.id,\r\n  //     token1Address: m.pool.token1.id,\r\n  //     amountUSD: parseFloat(m.amountUSD),\r\n  //     amountToken0: parseFloat(m.amount0),\r\n  //     amountToken1: parseFloat(m.amount1),\r\n  //   }\r\n  // })\r\n  // console.log('MINTS DATA=============', mints, burns)\r\n\r\n  return { data: [...mints, ...burns], error: false, loading: false }\r\n}\r\n","import { addPoolKeys, updatePoolChartData, updatePoolTransactions, updateTickData } from 'state/pools/actions'\r\nimport { AppState, AppDispatch } from './../index'\r\nimport { useCallback, useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { PoolData, PoolChartEntry } from './reducer'\r\nimport { updatePoolData } from './actions'\r\nimport { notEmpty } from 'utils'\r\nimport { fetchPoolChartData } from 'data/pools/chartData'\r\nimport { Transaction } from 'types'\r\nimport { fetchPoolTransactions } from 'data/pools/transactions'\r\nimport { PoolTickData } from 'data/pools/tickData'\r\n\r\nexport function useAllPoolData(): {\r\n  [address: string]: { data: PoolData | undefined; lastUpdated: number | undefined }\r\n} {\r\n  return useSelector((state: AppState) => state.pools.byAddress)\r\n}\r\n\r\nexport function useUpdatePoolData(): (pools: PoolData[]) => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  return useCallback((pools: PoolData[]) => dispatch(updatePoolData({ pools })), [dispatch])\r\n}\r\n\r\nexport function useAddPoolKeys(): (addresses: string[]) => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  return useCallback((poolAddresses: string[]) => dispatch(addPoolKeys({ poolAddresses })), [dispatch])\r\n}\r\n\r\nexport function usePoolDatas(poolAddresses: string[]): PoolData[] {\r\n  const allPoolData = useAllPoolData()\r\n  const addPoolKeys = useAddPoolKeys()\r\n\r\n  const untrackedAddresses = poolAddresses.reduce((accum: string[], address) => {\r\n    if (!Object.keys(allPoolData).includes(address)) {\r\n      accum.push(address)\r\n    }\r\n    return accum\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (untrackedAddresses) {\r\n      addPoolKeys(untrackedAddresses)\r\n    }\r\n    return\r\n  }, [addPoolKeys, untrackedAddresses])\r\n\r\n  // filter for pools with data\r\n  const poolsWithData = poolAddresses\r\n    .map((address) => {\r\n      const poolData = allPoolData[address]?.data\r\n      return poolData ?? undefined\r\n    })\r\n    .filter(notEmpty)\r\n\r\n  return poolsWithData\r\n}\r\n\r\n/**\r\n * Get top pools addresses that token is included in\r\n * If not loaded, fetch and store\r\n * @param address\r\n */\r\nexport function usePoolChartData(address: string): PoolChartEntry[] | undefined {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const pool = useSelector((state: AppState) => state.pools.byAddress[address])\r\n  const chartData = pool?.chartData\r\n  const [error, setError] = useState(false)\r\n\r\n  useEffect(() => {\r\n    async function fetch() {\r\n      const { error, data } = await fetchPoolChartData(address)\r\n      if (!error && data) {\r\n        dispatch(updatePoolChartData({ poolAddress: address, chartData: data }))\r\n      }\r\n      if (error) {\r\n        setError(error)\r\n      }\r\n    }\r\n    if (!chartData && !error) {\r\n      fetch()\r\n    }\r\n  }, [address, dispatch, error, chartData])\r\n\r\n  // return data\r\n  return chartData\r\n}\r\n\r\n/**\r\n * Get all transactions on pool\r\n * @param address\r\n */\r\nexport function usePoolTransactions(address: string): Transaction[] | undefined {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const pool = useSelector((state: AppState) => state.pools.byAddress[address])\r\n  const transactions = pool?.transactions\r\n  const [error, setError] = useState(false)\r\n\r\n  useEffect(() => {\r\n    async function fetch() {\r\n      const { error, data } = await fetchPoolTransactions(address)\r\n      if (error) {\r\n        setError(true)\r\n      } else if (data) {\r\n        dispatch(updatePoolTransactions({ poolAddress: address, transactions: data }))\r\n      }\r\n    }\r\n    if (!transactions && !error) {\r\n      fetch()\r\n    }\r\n  }, [address, dispatch, error, transactions])\r\n\r\n  // return data\r\n  return transactions\r\n}\r\n\r\nexport function usePoolTickData(\r\n  address: string\r\n): [PoolTickData | undefined, (poolAddress: string, tickData: PoolTickData) => void] {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const pool = useSelector((state: AppState) => state.pools.byAddress[address])\r\n  const tickData = pool.tickData\r\n\r\n  const setPoolTickData = useCallback(\r\n    (address: string, tickData: PoolTickData) => dispatch(updateTickData({ poolAddress: address, tickData })),\r\n    [dispatch]\r\n  )\r\n\r\n  return [tickData, setPoolTickData]\r\n}\r\n","import { useAllTokenData } from 'state/tokens/hooks'\r\nimport { TokenData } from 'state/tokens/reducer'\r\nimport { useFetchedTokenDatas } from 'data/tokens/tokenData'\r\nimport gql from 'graphql-tag'\r\nimport { useState, useEffect, useMemo } from 'react'\r\nimport { client } from 'apollo/client'\r\nimport { usePoolDatas, useAllPoolData } from 'state/pools/hooks'\r\nimport { PoolData } from 'state/pools/reducer'\r\nimport { notEmpty, escapeRegExp } from 'utils'\r\n\r\nexport const TOKEN_SEARCH = gql`\r\n  query tokens($value: String, $id: String) {\r\n    asSymbol: tokens(where: { symbol_contains: $value }, orderBy: totalValueLockedUSD, orderDirection: desc) {\r\n      id\r\n      symbol\r\n      name\r\n      totalValueLockedUSD\r\n    }\r\n    asName: tokens(where: { name_contains: $value }, orderBy: totalValueLockedUSD, orderDirection: desc) {\r\n      id\r\n      symbol\r\n      name\r\n      totalValueLockedUSD\r\n    }\r\n    asAddress: tokens(where: { id: $id }, orderBy: totalValueLockedUSD, orderDirection: desc) {\r\n      id\r\n      symbol\r\n      name\r\n      totalValueLockedUSD\r\n    }\r\n  }\r\n`\r\n\r\nexport const POOL_SEARCH = gql`\r\n  query pools($tokens: [Bytes]!, $id: String) {\r\n    as0: pools(where: { token0_in: $tokens }) {\r\n      id\r\n      feeTier\r\n      token0 {\r\n        id\r\n        symbol\r\n        name\r\n      }\r\n      token1 {\r\n        id\r\n        symbol\r\n        name\r\n      }\r\n    }\r\n    as1: pools(where: { token1_in: $tokens }) {\r\n      id\r\n      feeTier\r\n      token0 {\r\n        id\r\n        symbol\r\n        name\r\n      }\r\n      token1 {\r\n        id\r\n        symbol\r\n        name\r\n      }\r\n    }\r\n    asAddress: pools(where: { id: $id }) {\r\n      id\r\n      feeTier\r\n      token0 {\r\n        id\r\n        symbol\r\n        name\r\n      }\r\n      token1 {\r\n        id\r\n        symbol\r\n        name\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\ninterface TokenRes {\r\n  asSymbol: {\r\n    id: string\r\n    symbol: string\r\n    name: string\r\n    totalValueLockedUSD: string\r\n  }[]\r\n  asName: {\r\n    id: string\r\n    symbol: string\r\n    name: string\r\n    totalValueLockedUSD: string\r\n  }[]\r\n  asAddress: {\r\n    id: string\r\n    symbol: string\r\n    name: string\r\n    totalValueLockedUSD: string\r\n  }[]\r\n}\r\n\r\ninterface PoolResFields {\r\n  id: string\r\n  feeTier: string\r\n  token0: {\r\n    id: string\r\n    symbol: string\r\n    name: string\r\n  }\r\n  token1: {\r\n    id: string\r\n    symbol: string\r\n    name: string\r\n  }\r\n}\r\n\r\ninterface PoolRes {\r\n  as0: PoolResFields[]\r\n  as1: PoolResFields[]\r\n  asAddress: PoolResFields[]\r\n}\r\n\r\nexport function useFetchSearchResults(\r\n  value: string\r\n): {\r\n  tokens: TokenData[]\r\n  pools: PoolData[]\r\n  loading: boolean\r\n} {\r\n  const allTokens = useAllTokenData()\r\n  const allPools = useAllPoolData()\r\n\r\n  const [tokenData, setTokenData] = useState<TokenRes | undefined>()\r\n  const [poolData, setPoolData] = useState<PoolRes | undefined>()\r\n\r\n  // fetch data based on search input\r\n  useEffect(() => {\r\n    async function fetch() {\r\n      try {\r\n        const tokens = await client.query<TokenRes>({\r\n          query: TOKEN_SEARCH,\r\n          variables: {\r\n            value: value ? value.toUpperCase() : '',\r\n            id: value,\r\n          },\r\n        })\r\n        const pools = await client.query<PoolRes>({\r\n          query: POOL_SEARCH,\r\n          variables: {\r\n            tokens: tokens.data.asSymbol?.map((t) => t.id),\r\n            id: value,\r\n          },\r\n        })\r\n\r\n        if (tokens.data) {\r\n          setTokenData(tokens.data)\r\n        }\r\n        if (pools.data) {\r\n          setPoolData(pools.data)\r\n        }\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n    if (value && value.length > 0) {\r\n      fetch()\r\n    }\r\n  }, [value])\r\n\r\n  const allFetchedTokens = useMemo(() => {\r\n    if (tokenData) {\r\n      return [...tokenData.asAddress, ...tokenData.asName, ...tokenData.asSymbol]\r\n    }\r\n    return []\r\n  }, [tokenData])\r\n\r\n  const allFetchedPools = useMemo(() => {\r\n    if (poolData) {\r\n      return [...poolData.asAddress, ...poolData.as0, ...poolData.as1]\r\n    }\r\n    return []\r\n  }, [poolData])\r\n\r\n  // format as token and pool datas\r\n  const { data: tokenFullDatas, loading: tokenFullLoading } = useFetchedTokenDatas(allFetchedTokens.map((t) => t.id))\r\n  const poolDatasFull = usePoolDatas(allFetchedPools.map((p) => p.id))\r\n  const formattedTokens = useMemo(() => (tokenFullDatas ? Object.values(tokenFullDatas) : []), [tokenFullDatas])\r\n\r\n  const newTokens = useMemo(() => {\r\n    return formattedTokens.filter((t) => !Object.keys(allTokens).includes(t.address))\r\n  }, [allTokens, formattedTokens])\r\n\r\n  const combinedTokens = useMemo(() => {\r\n    return [\r\n      ...newTokens,\r\n      ...Object.values(allTokens)\r\n        .map((t) => t.data)\r\n        .filter(notEmpty),\r\n    ]\r\n  }, [allTokens, newTokens])\r\n\r\n  const filteredSortedTokens = useMemo(() => {\r\n    return combinedTokens.filter((t) => {\r\n      const regexMatches = Object.keys(t).map((tokenEntryKey) => {\r\n        const isAddress = value.slice(0, 2) === '0x'\r\n        if (tokenEntryKey === 'address' && isAddress) {\r\n          return t[tokenEntryKey].match(new RegExp(escapeRegExp(value), 'i'))\r\n        }\r\n        if (tokenEntryKey === 'symbol' && !isAddress) {\r\n          return t[tokenEntryKey].match(new RegExp(escapeRegExp(value), 'i'))\r\n        }\r\n        if (tokenEntryKey === 'name' && !isAddress) {\r\n          return t[tokenEntryKey].match(new RegExp(escapeRegExp(value), 'i'))\r\n        }\r\n        return false\r\n      })\r\n      return regexMatches.some((m) => m)\r\n    })\r\n  }, [combinedTokens, value])\r\n\r\n  const newPools = useMemo(() => {\r\n    return poolDatasFull.filter((p) => !Object.keys(allPools).includes(p.id))\r\n  }, [allPools, poolDatasFull])\r\n\r\n  const combinedPools = useMemo(() => {\r\n    return [\r\n      ...newPools,\r\n      ...Object.values(allPools)\r\n        .map((p) => p.data)\r\n        .filter(notEmpty),\r\n    ]\r\n  }, [allPools, newPools])\r\n\r\n  const filteredSortedPools = useMemo(() => {\r\n    return combinedPools.filter((t) => {\r\n      const regexMatches = Object.keys(t).map((key) => {\r\n        const isAddress = value.slice(0, 2) === '0x'\r\n        if (key === 'id' && isAddress) {\r\n          return t[key].match(new RegExp(escapeRegExp(value), 'i'))\r\n        }\r\n        if ((key === 'token0' || key === 'token1') && !isAddress) {\r\n          // console.log('KEY======', t, key)\r\n          return (\r\n            t[key].name.match(new RegExp(escapeRegExp(value), 'i')) ||\r\n            t[key].symbol.toLocaleLowerCase().match(new RegExp(escapeRegExp(value.toLocaleLowerCase()), 'i'))\r\n          )\r\n        }\r\n        return false\r\n      })\r\n      return regexMatches.some((m) => m)\r\n    })\r\n  }, [combinedPools, value])\r\n\r\n  return {\r\n    tokens: filteredSortedTokens,\r\n    pools: filteredSortedPools,\r\n    loading: tokenFullLoading,\r\n  }\r\n}\r\n","import styled from 'styled-components'\r\n\r\nconst Column = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n`\r\nexport const ColumnCenter = styled(Column)`\r\n  width: 100%;\r\n  align-items: center;\r\n`\r\n\r\nexport const AutoColumn = styled.div<{\r\n  gap?: 'sm' | 'md' | 'lg' | string\r\n  justify?: 'stretch' | 'center' | 'start' | 'end' | 'flex-start' | 'flex-end' | 'space-between'\r\n}>`\r\n  display: grid;\r\n  grid-auto-rows: auto;\r\n  grid-row-gap: ${({ gap }) => (gap === 'sm' && '8px') || (gap === 'md' && '12px') || (gap === 'lg' && '24px') || gap};\r\n  justify-items: ${({ justify }) => justify && justify};\r\n`\r\n\r\nexport default Column\r\n","import React, { useState } from 'react'\r\nimport { HelpCircle } from 'react-feather'\r\nimport { ImageProps } from 'rebass'\r\n\r\nconst BAD_SRCS: { [tokenAddress: string]: true } = {}\r\n\r\nexport interface LogoProps extends Pick<ImageProps, 'style' | 'alt' | 'className'> {\r\n  srcs: string[]\r\n}\r\n\r\n/**\r\n * Renders an image by sequentially trying a list of URIs, and then eventually a fallback triangle alert\r\n */\r\nexport default function Logo({ srcs, alt, ...rest }: LogoProps) {\r\n  const [, refresh] = useState<number>(0)\r\n\r\n  const src: string | undefined = srcs.find((src) => !BAD_SRCS[src])\r\n\r\n  if (src) {\r\n    return (\r\n      <img\r\n        {...rest}\r\n        alt={alt}\r\n        src={src}\r\n        onError={() => {\r\n          if (src) BAD_SRCS[src] = true\r\n          refresh((i) => i + 1)\r\n        }}\r\n      />\r\n    )\r\n  }\r\n\r\n  return <HelpCircle {...rest} />\r\n}\r\n","import React, { useMemo } from 'react'\r\nimport styled from 'styled-components'\r\nimport { isAddress } from 'utils'\r\nimport Logo from '../Logo'\r\n\r\nexport const getTokenLogoURL = (address: string) =>\r\n  `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/${address}/logo.png`\r\n\r\nconst StyledLogo = styled(Logo)<{ size: string }>`\r\n  width: ${({ size }) => size};\r\n  height: ${({ size }) => size};\r\n  border-radius: ${({ size }) => size};\r\n  box-shadow: 0px 6px 10px rgba(0, 0, 0, 0.075);\r\n  background-color: ${({ theme }) => theme.white};\r\n  color: ${({ theme }) => theme.text4};\r\n`\r\n\r\nexport default function CurrencyLogo({\r\n  address,\r\n  size = '24px',\r\n  style,\r\n  ...rest\r\n}: {\r\n  address?: string\r\n  size?: string\r\n  style?: React.CSSProperties\r\n}) {\r\n  const srcs: string[] = useMemo(() => {\r\n    const checkSummed = isAddress(address)\r\n\r\n    if (checkSummed) {\r\n      return [getTokenLogoURL(checkSummed)]\r\n    }\r\n    return []\r\n  }, [address])\r\n\r\n  return <StyledLogo size={size} srcs={srcs} alt={'token logo'} style={style} {...rest} />\r\n}\r\n","import numbro from 'numbro'\r\n\r\n// using a currency library here in case we want to add more in future\r\nexport const formatDollarAmount = (num: number | undefined, digits = 2, round = true) => {\r\n  if (num === 0) return '$0.00'\r\n  if (!num) return '-'\r\n  if (num < 0.001 && digits <= 3) {\r\n    return '<$0.001'\r\n  }\r\n\r\n  return numbro(num).formatCurrency({\r\n    average: round,\r\n    mantissa: num > 1000 ? 2 : digits,\r\n    abbreviations: {\r\n      million: 'M',\r\n      billion: 'B',\r\n    },\r\n  })\r\n}\r\n\r\n// using a currency library here in case we want to add more in future\r\nexport const formatAmount = (num: number | undefined, digits = 2) => {\r\n  if (num === 0) return '0'\r\n  if (!num) return '-'\r\n  if (num < 0.001) {\r\n    return '<0.001'\r\n  }\r\n  return numbro(num).format({\r\n    average: true,\r\n    mantissa: num > 1000 ? 2 : digits,\r\n    abbreviations: {\r\n      million: 'M',\r\n      billion: 'B',\r\n    },\r\n  })\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\n\r\nconst Wrapper = styled.div<{ margin: boolean; sizeraw: number }>`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-right: ${({ sizeraw, margin }) => margin && (sizeraw / 3 + 8).toString() + 'px'};\r\n`\r\n\r\ninterface DoubleCurrencyLogoProps {\r\n  margin?: boolean\r\n  size?: number\r\n  address0?: string\r\n  address1?: string\r\n}\r\n\r\nconst HigherLogo = styled(CurrencyLogo)`\r\n  z-index: 2;\r\n`\r\nconst CoveredLogo = styled(CurrencyLogo)<{ sizeraw: number }>`\r\n  // position: absolute;\r\n  // left: ${({ sizeraw }) => '-' + (sizeraw / 2).toString() + 'px'} !important;\r\n`\r\n\r\nexport default function DoubleCurrencyLogo({ address0, address1, size = 16, margin = false }: DoubleCurrencyLogoProps) {\r\n  return (\r\n    <Wrapper sizeraw={size} margin={margin}>\r\n      {address0 && <HigherLogo address={address0} size={size.toString() + 'px'} />}\r\n      {address1 && <CoveredLogo address={address1} size={size.toString() + 'px'} sizeraw={size} />}\r\n    </Wrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { Box } from 'rebass/styled-components'\r\n\r\nconst Card = styled(Box)<{ width?: string; padding?: string; border?: string; borderRadius?: string }>`\r\n  width: ${({ width }) => width ?? '100%'};\r\n  border-radius: 16px;\r\n  padding: 1rem;\r\n  padding: ${({ padding }) => padding};\r\n  border: ${({ border }) => border};\r\n  border-radius: ${({ borderRadius }) => borderRadius};\r\n`\r\nexport default Card\r\n\r\nexport const LightCard = styled(Card)`\r\n  border: 1px solid ${({ theme }) => theme.bg2};\r\n  background-color: ${({ theme }) => theme.bg1};\r\n`\r\n\r\nexport const LightGreyCard = styled(Card)`\r\n  background-color: ${({ theme }) => theme.bg3};\r\n`\r\n\r\nexport const GreyCard = styled(Card)`\r\n  background-color: ${({ theme }) => theme.bg2};\r\n`\r\n\r\nexport const DarkGreyCard = styled(Card)`\r\n  background-color: ${({ theme }) => theme.bg0};\r\n`\r\n\r\nexport const OutlineCard = styled(Card)`\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n`\r\n\r\nexport const YellowCard = styled(Card)`\r\n  background-color: rgba(243, 132, 30, 0.05);\r\n  color: ${({ theme }) => theme.yellow3};\r\n  font-weight: 500;\r\n`\r\n\r\nexport const PinkCard = styled(Card)`\r\n  background-color: rgba(255, 0, 122, 0.03);\r\n  color: ${({ theme }) => theme.primary1};\r\n  font-weight: 500;\r\n`\r\n\r\nexport const BlueCard = styled(Card)`\r\n  background-color: ${({ theme }) => theme.primary5};\r\n  color: ${({ theme }) => theme.blue2};\r\n  border-radius: 12px;\r\n  width: fit-content;\r\n`\r\n\r\nexport const ScrollableX = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n  overflow-x: auto;\r\n  overflow-y: hidden;\r\n  white-space: nowrap;\r\n\r\n  ::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n`\r\n\r\nexport const GreyBadge = styled(Card)`\r\n  width: fit-content;\r\n  border-radius: 8px;\r\n  background: ${({ theme }) => theme.bg3};\r\n  color: ${({ theme }) => theme.text1};\r\n  padding: 4px 6px;\r\n  font-weight: 400;\r\n`\r\n","import { ThemeContext } from 'styled-components'\r\nimport { useContext } from 'react'\r\n\r\nexport default function useTheme() {\r\n  return useContext(ThemeContext)\r\n}\r\n","import React, { HTMLAttributes } from 'react'\r\nimport styled from 'styled-components'\r\nimport { darken, lighten } from 'polished'\r\n\r\nimport { RowBetween } from '../Row'\r\nimport { ChevronDown, Check, Star } from 'react-feather'\r\nimport { Button as RebassButton, ButtonProps } from 'rebass/styled-components'\r\nimport useTheme from 'hooks/useTheme'\r\n\r\nconst Base = styled(RebassButton)<{\r\n  padding?: string\r\n  width?: string\r\n  borderRadius?: string\r\n  altDisabledStyle?: boolean\r\n}>`\r\n  padding: ${({ padding }) => (padding ? padding : '8px 16px')};\r\n  width: ${({ width }) => (width ? width : '100%')};\r\n  font-weight: 500;\r\n  text-align: center;\r\n  border-radius: 12px;\r\n  border-radius: ${({ borderRadius }) => borderRadius && borderRadius};\r\n  outline: none;\r\n  border: 1px solid transparent;\r\n  color: white;\r\n  text-decoration: none;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: nowrap;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  position: relative;\r\n  z-index: 1;\r\n  &:disabled {\r\n    cursor: auto;\r\n  }\r\n\r\n  > * {\r\n    user-select: none;\r\n  }\r\n`\r\n\r\nexport const ButtonPrimary = styled(Base)<{ bgColor?: string }>`\r\n  background-color: ${({ theme, bgColor }) => bgColor ?? theme.primary1};\r\n  color: white;\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme, bgColor }) => darken(0.05, bgColor ?? theme.primary1)};\r\n    background-color: ${({ theme, bgColor }) => darken(0.05, bgColor ?? theme.primary1)};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme, bgColor }) => darken(0.05, bgColor ?? theme.primary1)};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme, bgColor }) => darken(0.1, bgColor ?? theme.primary1)};\r\n    background-color: ${({ theme, bgColor }) => darken(0.1, bgColor ?? theme.primary1)};\r\n  }\r\n  &:disabled {\r\n    background-color: ${({ theme, altDisabledStyle, disabled }) =>\r\n      altDisabledStyle ? (disabled ? theme.bg3 : theme.primary1) : theme.bg3};\r\n    color: ${({ theme, altDisabledStyle, disabled }) =>\r\n      altDisabledStyle ? (disabled ? theme.text3 : 'white') : theme.text3};\r\n    cursor: auto;\r\n    box-shadow: none;\r\n    border: 1px solid transparent;\r\n    outline: none;\r\n    opacity: ${({ altDisabledStyle }) => (altDisabledStyle ? '0.5' : '1')};\r\n  }\r\n`\r\n\r\nexport const ButtonLight = styled(Base)`\r\n  background-color: ${({ theme }) => theme.primary5};\r\n  color: ${({ theme }) => theme.primaryText1};\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme, disabled }) => !disabled && darken(0.03, theme.primary5)};\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.03, theme.primary5)};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.03, theme.primary5)};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme, disabled }) => !disabled && darken(0.05, theme.primary5)};\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.05, theme.primary5)};\r\n  }\r\n  :disabled {\r\n    opacity: 0.4;\r\n    :hover {\r\n      cursor: auto;\r\n      background-color: ${({ theme }) => theme.primary5};\r\n      box-shadow: none;\r\n      border: 1px solid transparent;\r\n      outline: none;\r\n    }\r\n  }\r\n`\r\n\r\nexport const ButtonGray = styled(Base)`\r\n  background-color: ${({ theme }) => theme.bg3};\r\n  color: ${({ theme }) => theme.text2};\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  outline: none;\r\n  &:focus {\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.05, theme.bg4)};\r\n    outline: none;\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.05, theme.bg4)};\r\n    outline: none;\r\n  }\r\n  &:active {\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.1, theme.bg4)};\r\n    outline: none;\r\n  }\r\n`\r\n\r\nexport const ButtonSecondary = styled(Base)`\r\n  border: 1px solid ${({ theme }) => theme.primary4};\r\n  color: ${({ theme }) => theme.primary1};\r\n  background-color: transparent;\r\n  font-size: 16px;\r\n  border-radius: 12px;\r\n  padding: ${({ padding }) => (padding ? padding : '10px')};\r\n\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => theme.primary4};\r\n    border: 1px solid ${({ theme }) => theme.primary3};\r\n  }\r\n  &:hover {\r\n    border: 1px solid ${({ theme }) => theme.primary3};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => theme.primary4};\r\n    border: 1px solid ${({ theme }) => theme.primary3};\r\n  }\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n  a:hover {\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\nexport const ButtonPink = styled(Base)`\r\n  background-color: ${({ theme }) => theme.primary1};\r\n  color: white;\r\n\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.05, theme.primary1)};\r\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.1, theme.primary1)};\r\n    background-color: ${({ theme }) => darken(0.1, theme.primary1)};\r\n  }\r\n  &:disabled {\r\n    background-color: ${({ theme }) => theme.primary1};\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nexport const ButtonUNIGradient = styled(ButtonPrimary)`\r\n  color: white;\r\n  padding: 4px 8px;\r\n  height: 36px;\r\n  font-weight: 500;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n  background: radial-gradient(174.47% 188.91% at 1.84% 0%, #71cbf8 0%, #71cbf8 100%), #edeef2;\r\n  width: fit-content;\r\n  position: relative;\r\n  cursor: pointer;\r\n  border: none;\r\n  white-space: no-wrap;\r\n  :hover {\r\n    opacity: 0.8;\r\n  }\r\n  :active {\r\n    opacity: 0.9;\r\n  }\r\n`\r\n\r\nexport const ButtonOutlined = styled(Base)`\r\n  border: 1px solid ${({ theme }) => theme.bg2};\r\n  background-color: transparent;\r\n  color: ${({ theme }) => theme.text1};\r\n\r\n  &:focus {\r\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.bg4};\r\n  }\r\n  &:hover {\r\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.bg4};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.bg4};\r\n  }\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nexport const ButtonEmpty = styled(Base)`\r\n  background-color: transparent;\r\n  color: ${({ theme }) => theme.primary1};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  &:focus {\r\n    text-decoration: underline;\r\n  }\r\n  &:hover {\r\n    text-decoration: none;\r\n  }\r\n  &:active {\r\n    text-decoration: none;\r\n  }\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nexport const ButtonWhite = styled(Base)`\r\n  border: 1px solid #edeef2;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  color: black;\r\n\r\n  &:focus {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    box-shadow: 0 0 0 1pt ${darken(0.05, '#edeef2')};\r\n  }\r\n  &:hover {\r\n    box-shadow: 0 0 0 1pt ${darken(0.1, '#edeef2')};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${darken(0.1, '#edeef2')};\r\n  }\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nconst ButtonConfirmedStyle = styled(Base)`\r\n  background-color: ${({ theme }) => lighten(0.5, theme.green1)};\r\n  color: ${({ theme }) => theme.green1};\r\n  border: 1px solid ${({ theme }) => theme.green1};\r\n\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nconst ButtonErrorStyle = styled(Base)`\r\n  background-color: ${({ theme }) => theme.red1};\r\n  border: 1px solid ${({ theme }) => theme.red1};\r\n\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.05, theme.red1)};\r\n    background-color: ${({ theme }) => darken(0.05, theme.red1)};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme }) => darken(0.05, theme.red1)};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.1, theme.red1)};\r\n    background-color: ${({ theme }) => darken(0.1, theme.red1)};\r\n  }\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n    box-shadow: none;\r\n    background-color: ${({ theme }) => theme.red1};\r\n    border: 1px solid ${({ theme }) => theme.red1};\r\n  }\r\n`\r\n\r\nexport function ButtonConfirmed({\r\n  confirmed,\r\n  altDisabledStyle,\r\n  ...rest\r\n}: { confirmed?: boolean; altDisabledStyle?: boolean } & ButtonProps) {\r\n  if (confirmed) {\r\n    return <ButtonConfirmedStyle {...rest} />\r\n  } else {\r\n    return <ButtonPrimary {...rest} altDisabledStyle={altDisabledStyle} />\r\n  }\r\n}\r\n\r\nexport function ButtonError({ error, ...rest }: { error?: boolean } & ButtonProps) {\r\n  if (error) {\r\n    return <ButtonErrorStyle {...rest} />\r\n  } else {\r\n    return <ButtonPrimary {...rest} />\r\n  }\r\n}\r\n\r\nexport function ButtonDropdown({ disabled = false, children, ...rest }: { disabled?: boolean } & ButtonProps) {\r\n  return (\r\n    <ButtonPrimary {...rest} disabled={disabled}>\r\n      <RowBetween>\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>{children}</div>\r\n        <ChevronDown size={24} />\r\n      </RowBetween>\r\n    </ButtonPrimary>\r\n  )\r\n}\r\n\r\nexport function ButtonDropdownGrey({ disabled = false, children, ...rest }: { disabled?: boolean } & ButtonProps) {\r\n  return (\r\n    <ButtonGray {...rest} disabled={disabled} style={{ borderRadius: '20px' }}>\r\n      <RowBetween>\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>{children}</div>\r\n        <ChevronDown size={24} />\r\n      </RowBetween>\r\n    </ButtonGray>\r\n  )\r\n}\r\n\r\nexport function ButtonDropdownLight({ disabled = false, children, ...rest }: { disabled?: boolean } & ButtonProps) {\r\n  return (\r\n    <ButtonOutlined {...rest} disabled={disabled}>\r\n      <RowBetween>\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>{children}</div>\r\n        <ChevronDown size={24} />\r\n      </RowBetween>\r\n    </ButtonOutlined>\r\n  )\r\n}\r\n\r\nexport function ButtonRadio({ active, ...rest }: { active?: boolean } & ButtonProps) {\r\n  if (!active) {\r\n    return <ButtonWhite {...rest} />\r\n  } else {\r\n    return <ButtonPrimary {...rest} />\r\n  }\r\n}\r\n\r\nconst ActiveOutlined = styled(ButtonOutlined)`\r\n  border: 1px solid;\r\n  border-color: ${({ theme }) => theme.primary1};\r\n`\r\n\r\nconst Circle = styled.div`\r\n  height: 20px;\r\n  width: 20px;\r\n  border-radius: 50%;\r\n  background-color: ${({ theme }) => theme.primary1};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nconst CheckboxWrapper = styled.div`\r\n  width: 30px;\r\n  padding: 0 10px;\r\n`\r\n\r\nexport function ButtonRadioChecked({ active = false, children, ...rest }: { active?: boolean } & ButtonProps) {\r\n  if (!active) {\r\n    return (\r\n      <ButtonOutlined borderRadius=\"12px\" padding=\"12px 8px\" {...rest}>\r\n        {<RowBetween>{children}</RowBetween>}\r\n      </ButtonOutlined>\r\n    )\r\n  } else {\r\n    return (\r\n      <ActiveOutlined {...rest} padding=\"12px 8px\" borderRadius=\"12px\">\r\n        {\r\n          <RowBetween>\r\n            {children}\r\n            <CheckboxWrapper>\r\n              <Circle>\r\n                <Check size={13} />\r\n              </Circle>\r\n            </CheckboxWrapper>\r\n          </RowBetween>\r\n        }\r\n      </ActiveOutlined>\r\n    )\r\n  }\r\n}\r\n\r\nconst HoverIcon = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 9999;\r\n  :hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n`\r\n\r\nexport const SavedIcon = ({\r\n  fill = false,\r\n  size = '20px',\r\n  ...rest\r\n}: { fill: boolean; size?: string } & HTMLAttributes<HTMLDivElement>) => {\r\n  const theme = useTheme()\r\n  return (\r\n    <HoverIcon {...rest}>\r\n      <Star stroke={theme.text2} fill={fill ? theme.text2 : 'transparent'} size={size} />\r\n    </HoverIcon>\r\n  )\r\n}\r\n\r\nexport const SmallOptionButton = styled(Base)<{ active?: boolean }>`\r\n  padding: 4px;\r\n  width: fit-content;\r\n  font-size: 12px;\r\n  border-radius: 4px;\r\n  min-width: 36px;\r\n  background-color: ${({ active, theme }) => (active ? theme.bg2 : theme.bg1)};\r\n  color: ${({ active, theme }) => (active ? theme.text1 : theme.text2)};\r\n\r\n  :hover {\r\n    opacity: 0.6;\r\n  }\r\n`\r\n","import { Placement } from '@popperjs/core'\r\nimport { transparentize } from 'polished'\r\nimport React, { useCallback, useState } from 'react'\r\nimport { usePopper } from 'react-popper'\r\nimport styled from 'styled-components'\r\nimport useInterval from '../../hooks/useInterval'\r\nimport Portal from '@reach/portal'\r\n\r\nconst PopoverContainer = styled.div<{ show: boolean }>`\r\n  z-index: 9999;\r\n\r\n  visibility: ${(props) => (props.show ? 'visible' : 'hidden')};\r\n  opacity: ${(props) => (props.show ? 1 : 0)};\r\n  transition: visibility 150ms linear, opacity 150ms linear;\r\n\r\n  background: ${({ theme }) => theme.bg2};\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.9, theme.shadow1)};\r\n  color: ${({ theme }) => theme.text2};\r\n  border-radius: 8px;\r\n`\r\n\r\nconst ReferenceElement = styled.div`\r\n  display: inline-block;\r\n`\r\n\r\nconst Arrow = styled.div`\r\n  width: 8px;\r\n  height: 8px;\r\n  z-index: 9998;\r\n\r\n  ::before {\r\n    position: absolute;\r\n    width: 8px;\r\n    height: 8px;\r\n    z-index: 9998;\r\n\r\n    content: '';\r\n    border: 1px solid ${({ theme }) => theme.bg3};\r\n    transform: rotate(45deg);\r\n    background: ${({ theme }) => theme.bg2};\r\n  }\r\n\r\n  &.arrow-top {\r\n    bottom: -5px;\r\n    ::before {\r\n      border-top: none;\r\n      border-left: none;\r\n    }\r\n  }\r\n\r\n  &.arrow-bottom {\r\n    top: -5px;\r\n    ::before {\r\n      border-bottom: none;\r\n      border-right: none;\r\n    }\r\n  }\r\n\r\n  &.arrow-left {\r\n    right: -5px;\r\n\r\n    ::before {\r\n      border-bottom: none;\r\n      border-left: none;\r\n    }\r\n  }\r\n\r\n  &.arrow-right {\r\n    left: -5px;\r\n    ::before {\r\n      border-right: none;\r\n      border-top: none;\r\n    }\r\n  }\r\n`\r\n\r\nexport interface PopoverProps {\r\n  content: React.ReactNode\r\n  show: boolean\r\n  children: React.ReactNode\r\n  placement?: Placement\r\n}\r\n\r\nexport default function Popover({ content, show, children, placement = 'auto' }: PopoverProps) {\r\n  const [referenceElement, setReferenceElement] = useState<HTMLDivElement | null>(null)\r\n  const [popperElement, setPopperElement] = useState<HTMLDivElement | null>(null)\r\n  const [arrowElement, setArrowElement] = useState<HTMLDivElement | null>(null)\r\n  const { styles, update, attributes } = usePopper(referenceElement, popperElement, {\r\n    placement,\r\n    strategy: 'fixed',\r\n    modifiers: [\r\n      { name: 'offset', options: { offset: [8, 8] } },\r\n      { name: 'arrow', options: { element: arrowElement } },\r\n    ],\r\n  })\r\n  const updateCallback = useCallback(() => {\r\n    update && update()\r\n  }, [update])\r\n  useInterval(updateCallback, show ? 100 : null)\r\n\r\n  return (\r\n    <>\r\n      <ReferenceElement ref={setReferenceElement as any}>{children}</ReferenceElement>\r\n      <Portal>\r\n        <PopoverContainer show={show} ref={setPopperElement as any} style={styles.popper} {...attributes.popper}>\r\n          {content}\r\n          <Arrow\r\n            className={`arrow-${attributes.popper?.['data-popper-placement'] ?? ''}`}\r\n            ref={setArrowElement as any}\r\n            style={styles.arrow}\r\n            {...attributes.arrow}\r\n          />\r\n        </PopoverContainer>\r\n      </Portal>\r\n    </>\r\n  )\r\n}\r\n","import { useEffect, useRef } from 'react'\r\n\r\nexport default function useInterval(callback: () => void, delay: null | number, leading = true) {\r\n  const savedCallback = useRef<() => void>()\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback\r\n  }, [callback])\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      const current = savedCallback.current\r\n      current && current()\r\n    }\r\n\r\n    if (delay !== null) {\r\n      if (leading) tick()\r\n      const id = setInterval(tick, delay)\r\n      return () => clearInterval(id)\r\n    }\r\n    return undefined\r\n  }, [delay, leading])\r\n}\r\n","import React, { useCallback, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport Popover, { PopoverProps } from '../Popover'\r\n\r\nconst TooltipContainer = styled.div`\r\n  width: 228px;\r\n  padding: 0.6rem 1rem;\r\n  line-height: 150%;\r\n  font-weight: 400;\r\n`\r\n\r\ninterface TooltipProps extends Omit<PopoverProps, 'content'> {\r\n  text: string\r\n}\r\n\r\nexport default function Tooltip({ text, ...rest }: TooltipProps) {\r\n  return <Popover content={<TooltipContainer>{text}</TooltipContainer>} {...rest} />\r\n}\r\n\r\nexport function MouseoverTooltip({ children, ...rest }: Omit<TooltipProps, 'show'>) {\r\n  const [show, setShow] = useState(false)\r\n  const open = useCallback(() => setShow(true), [setShow])\r\n  const close = useCallback(() => setShow(false), [setShow])\r\n  return (\r\n    <Tooltip {...rest} show={show}>\r\n      <div onMouseEnter={open} onMouseLeave={close}>\r\n        {children}\r\n      </div>\r\n    </Tooltip>\r\n  )\r\n}\r\n","import Tooltip from 'components/Tooltip'\r\nimport React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst TextWrapper = styled.div<{\r\n  margin: boolean\r\n  link: boolean\r\n  color?: string\r\n  fontSize?: string\r\n  adjustSize?: boolean\r\n}>`\r\n  position: relative;\r\n  margin-left: ${({ margin }) => margin && '4px'};\r\n  color: ${({ theme, link, color }) => (link ? theme.blue1 : color ?? theme.text1)};\r\n  font-size: ${({ fontSize }) => fontSize ?? 'inherit'};\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  @media screen and (max-width: 600px) {\r\n    font-size: ${({ adjustSize }) => adjustSize && '12px'};\r\n  }\r\n`\r\n\r\nconst HoverInlineText = ({\r\n  text,\r\n  maxCharacters = 20,\r\n  margin = false,\r\n  adjustSize = false,\r\n  fontSize,\r\n  color,\r\n  link,\r\n  ...rest\r\n}: {\r\n  text: string\r\n  maxCharacters?: number\r\n  margin?: boolean\r\n  adjustSize?: boolean\r\n  fontSize?: string\r\n  color?: string\r\n  link?: boolean\r\n}) => {\r\n  const [showHover, setShowHover] = useState(false)\r\n\r\n  if (!text) {\r\n    return <span></span>\r\n  }\r\n\r\n  if (text.length > maxCharacters) {\r\n    return (\r\n      <Tooltip text={text} show={showHover}>\r\n        <TextWrapper\r\n          onMouseEnter={() => setShowHover(true)}\r\n          onMouseLeave={() => setShowHover(false)}\r\n          margin={margin}\r\n          adjustSize={adjustSize}\r\n          link={!!link}\r\n          color={color}\r\n          fontSize={fontSize}\r\n          {...rest}\r\n        >\r\n          {' ' + text.slice(0, maxCharacters - 1) + '...'}\r\n        </TextWrapper>\r\n      </Tooltip>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <TextWrapper color={color} margin={margin} adjustSize={adjustSize} link={!!link} fontSize={fontSize} {...rest}>\r\n      {text}\r\n    </TextWrapper>\r\n  )\r\n}\r\n\r\nexport default HoverInlineText\r\n","import React, { useRef, useCallback, useState, useEffect, useMemo } from 'react'\r\nimport styled from 'styled-components'\r\nimport Row, { RowFixed } from 'components/Row'\r\nimport { HideSmall, TYPE } from 'theme'\r\nimport Hotkeys from 'react-hot-keys'\r\nimport { useFetchSearchResults } from 'data/search'\r\nimport { AutoColumn } from 'components/Column'\r\nimport CurrencyLogo from 'components/CurrencyLogo'\r\nimport { formatDollarAmount } from 'utils/numbers'\r\nimport DoubleCurrencyLogo from 'components/DoubleLogo'\r\nimport { GreyBadge } from 'components/Card'\r\nimport { feeTierPercent } from 'utils'\r\nimport { useSavedTokens, useSavedPools } from 'state/user/hooks'\r\nimport { SavedIcon } from 'components/Button'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useTokenDatas } from 'state/tokens/hooks'\r\nimport { usePoolDatas } from 'state/pools/hooks'\r\nimport HoverInlineText from 'components/HoverInlineText'\r\nimport { TOKEN_HIDE, POOL_HIDE } from '../../constants/index'\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  z-index: 30;\r\n  width: 100%;\r\n`\r\n\r\nconst Wrapper = styled(Row)`\r\n  background-color: ${({ theme }) => theme.black};\r\n  padding: 10px 16px;\r\n  width: 500px;\r\n  height: 38px;\r\n  border-radius: 20px;\r\n  positon: relative;\r\n  z-index: 9999;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    width: 100%;\r\n  `};\r\n`\r\n\r\nconst StyledInput = styled.input`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  white-space: nowrap;\r\n  background: none;\r\n  border: none;\r\n  width: 100%;\r\n  font-size: 16px;\r\n  outline: none;\r\n  color: ${({ theme }) => theme.text1};\r\n\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text3};\r\n    font-size: 16px;\r\n  }\r\n\r\n  @media screen and (max-width: 640px) {\r\n    ::placeholder {\r\n      font-size: 1rem;\r\n    }\r\n  }\r\n`\r\n\r\nconst Menu = styled.div<{ hide: boolean }>`\r\n  display: flex;\r\n  flex-direction: column;\r\n  z-index: 9999;\r\n  width: 800px;\r\n  top: 50px;\r\n  max-height: 600px;\r\n  overflow: auto;\r\n  right: 0;\r\n  padding: 1.5rem;\r\n  padding-bottom: 1.5rem;\r\n  position: absolute;\r\n  background: ${({ theme }) => theme.bg0};\r\n  border-radius: 8px;\r\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.04), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\r\n    0px 24px 32px rgba(0, 0, 0, 0.04);\r\n  display: ${({ hide }) => hide && 'none'};\r\n  border: 1px solid ${({ theme }) => theme.pink1};\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    position: absolute;\r\n    margin-top: 4px;\r\n    z-index: 9999;\r\n    width: 100%;\r\n    max-height: 400px;\r\n  `};\r\n`\r\n\r\nconst Blackout = styled.div`\r\n  position: absolute;\r\n  min-height: 100vh;\r\n  width: 100vw;\r\n  z-index: -40;\r\n  background-color: black;\r\n  opacity: 0.7;\r\n  left: 0;\r\n  top: 0;\r\n`\r\n\r\nconst ResponsiveGrid = styled.div`\r\n  display: grid;\r\n  grid-gap: 1em;\r\n  grid-template-columns: 1.5fr repeat(3, 1fr);\r\n  align-items: center;\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    grid-template-columns: 1fr;\r\n  `};\r\n`\r\n\r\nconst Break = styled.div`\r\n  height: 1px;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  width: 100%;\r\n`\r\n\r\nconst HoverText = styled.div<{ hide?: boolean | undefined }>`\r\n  color: ${({ theme }) => theme.blue1}\r\n  display: ${({ hide = false }) => hide && 'none'};\r\n  :hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n`\r\n\r\nconst HoverRowLink = styled.div`\r\n  :hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n`\r\n\r\nconst OptionButton = styled.div<{ enabled: boolean }>`\r\n  width: fit-content;\r\n  padding: 4px 8px;\r\n  border-radius: 8px;\r\n  display: flex;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  margin-right: 10px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: ${({ theme, enabled }) => (enabled ? theme.pink1 : 'transparent')};\r\n  color: ${({ theme, enabled }) => (enabled ? theme.white : theme.pink1)};\r\n  :hover {\r\n    opacity: 0.6;\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst Search = ({ ...rest }: React.HTMLAttributes<HTMLDivElement>) => {\r\n  const history = useHistory()\r\n\r\n  const ref = useRef<HTMLInputElement>(null)\r\n  const menuRef = useRef<HTMLDivElement>(null)\r\n  const textRef = useRef<HTMLDivElement>(null)\r\n\r\n  const handleDown = useCallback(() => {\r\n    if (ref != null && ref.current !== null) {\r\n      ref.current.focus()\r\n    }\r\n  }, [])\r\n\r\n  const [focused, setFocused] = useState<boolean>(false)\r\n  const [showMenu, setShowMenu] = useState(false)\r\n  const [value, setValue] = useState('')\r\n\r\n  const { tokens, pools } = useFetchSearchResults(value)\r\n\r\n  useEffect(() => {\r\n    if (value !== '') {\r\n      setFocused(true)\r\n    } else {\r\n      setFocused(false)\r\n    }\r\n  }, [value])\r\n\r\n  const [tokensShown, setTokensShown] = useState(3)\r\n  const [poolsShown, setPoolsShown] = useState(3)\r\n\r\n  const handleClick = (e: any) => {\r\n    if (!(menuRef.current && menuRef.current.contains(e.target)) && !(ref.current && ref.current.contains(e.target))) {\r\n      setPoolsShown(3)\r\n      setTokensShown(3)\r\n      setShowMenu(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', handleClick)\r\n    return () => {\r\n      document.removeEventListener('click', handleClick)\r\n    }\r\n  })\r\n\r\n  // watchlist\r\n  const [savedTokens, addSavedToken] = useSavedTokens()\r\n  const [savedPools, addSavedPool] = useSavedPools()\r\n\r\n  const handleNav = (to: string) => {\r\n    setShowMenu(false)\r\n    setPoolsShown(3)\r\n    setTokensShown(3)\r\n    history.push(to)\r\n  }\r\n\r\n  // get date for watchlist\r\n  const watchListTokenData = useTokenDatas(savedTokens)\r\n  const watchListPoolData = usePoolDatas(savedPools)\r\n\r\n  // filter on view\r\n  const [showWatchlist, setShowWatchlist] = useState(false)\r\n  const tokensForList = useMemo(\r\n    () => (showWatchlist ? watchListTokenData ?? [] : tokens.sort((t0, t1) => (t0.volumeUSD > t1.volumeUSD ? -1 : 1))),\r\n    [showWatchlist, tokens, watchListTokenData]\r\n  )\r\n  const poolForList = useMemo(\r\n    () =>\r\n      showWatchlist\r\n        ? watchListPoolData ?? []\r\n        : pools.sort((p0, p1) => (p0.totalValueLocked > p1.totalValueLocked ? -1 : 1)),\r\n    [pools, showWatchlist, watchListPoolData]\r\n  )\r\n\r\n  return (\r\n    <Hotkeys keyName=\"command+/\" onKeyDown={handleDown}>\r\n      {showMenu ? <Blackout /> : null}\r\n      <Container>\r\n        <Wrapper {...rest}>\r\n          <StyledInput\r\n            type=\"text\"\r\n            value={value}\r\n            onChange={(e) => {\r\n              setValue(e.target.value)\r\n            }}\r\n            placeholder=\"Search pools or tokens\"\r\n            ref={ref}\r\n            onFocus={() => {\r\n              setFocused(true)\r\n              setShowMenu(true)\r\n            }}\r\n            onBlur={() => setFocused(false)}\r\n          />\r\n          {!focused && <TYPE.gray pl=\"2px\">âŒ˜/</TYPE.gray>}\r\n        </Wrapper>\r\n        <Menu hide={!showMenu} ref={menuRef}>\r\n          <AutoColumn gap=\"lg\">\r\n            <AutoColumn gap=\"sm\">\r\n              <RowFixed>\r\n                <OptionButton enabled={!showWatchlist} onClick={() => setShowWatchlist(false)}>\r\n                  Search\r\n                </OptionButton>\r\n                <OptionButton enabled={showWatchlist} onClick={() => setShowWatchlist(true)}>\r\n                  Watchlist\r\n                </OptionButton>\r\n              </RowFixed>\r\n            </AutoColumn>\r\n            <ResponsiveGrid>\r\n              <TYPE.main>Tokens</TYPE.main>\r\n              <HideSmall>\r\n                <TYPE.main textAlign=\"end\" fontSize=\"12px\">\r\n                  Volume 24H\r\n                </TYPE.main>\r\n              </HideSmall>\r\n              <HideSmall>\r\n                <TYPE.main textAlign=\"end\" fontSize=\"12px\">\r\n                  TVL\r\n                </TYPE.main>\r\n              </HideSmall>\r\n              <HideSmall>\r\n                <TYPE.main textAlign=\"end\" fontSize=\"12px\">\r\n                  Price\r\n                </TYPE.main>\r\n              </HideSmall>\r\n            </ResponsiveGrid>\r\n            {tokensForList\r\n              .filter((t) => !TOKEN_HIDE.includes(t.address))\r\n              .slice(0, tokensShown)\r\n              .map((t, i) => {\r\n                return (\r\n                  <HoverRowLink onClick={() => handleNav('/tokens/' + t.address)} key={i}>\r\n                    <ResponsiveGrid>\r\n                      <RowFixed>\r\n                        <CurrencyLogo address={t.address} />\r\n                        <TYPE.label ml=\"10px\">\r\n                          <HoverInlineText text={`${t.name} (${t.symbol})`} />{' '}\r\n                        </TYPE.label>\r\n                        <SavedIcon\r\n                          id=\"watchlist-icon\"\r\n                          size={'16px'}\r\n                          style={{ marginLeft: '8px' }}\r\n                          fill={savedTokens.includes(t.address)}\r\n                          onClick={(e) => {\r\n                            e.stopPropagation()\r\n                            addSavedToken(t.address)\r\n                          }}\r\n                        />\r\n                      </RowFixed>\r\n                      <HideSmall>\r\n                        <TYPE.label textAlign=\"end\">{formatDollarAmount(t.volumeUSD)}</TYPE.label>\r\n                      </HideSmall>\r\n                      <HideSmall>\r\n                        <TYPE.label textAlign=\"end\">{formatDollarAmount(t.tvlUSD)}</TYPE.label>\r\n                      </HideSmall>\r\n                      <HideSmall>\r\n                        <TYPE.label textAlign=\"end\">{formatDollarAmount(t.priceUSD)}</TYPE.label>\r\n                      </HideSmall>\r\n                    </ResponsiveGrid>\r\n                  </HoverRowLink>\r\n                )\r\n              })}\r\n            {tokensForList.length === 0 ? (\r\n              <TYPE.main>{showWatchlist ? 'Saved tokens will appear here' : 'No results'}</TYPE.main>\r\n            ) : null}\r\n            <HoverText\r\n              onClick={() => {\r\n                setTokensShown(tokensShown + 5)\r\n              }}\r\n              hide={!(tokensForList.length > 3 && tokensForList.length >= tokensShown)}\r\n              ref={textRef}\r\n            >\r\n              See more...\r\n            </HoverText>\r\n            <Break />\r\n            <ResponsiveGrid>\r\n              <TYPE.main>Pools</TYPE.main>\r\n              <HideSmall>\r\n                <TYPE.main textAlign=\"end\" fontSize=\"12px\">\r\n                  Volume 24H\r\n                </TYPE.main>\r\n              </HideSmall>\r\n              <HideSmall>\r\n                <TYPE.main textAlign=\"end\" fontSize=\"12px\">\r\n                  TVL\r\n                </TYPE.main>\r\n              </HideSmall>\r\n              <HideSmall>\r\n                <TYPE.main textAlign=\"end\" fontSize=\"12px\">\r\n                  Price\r\n                </TYPE.main>\r\n              </HideSmall>\r\n            </ResponsiveGrid>\r\n            {poolForList\r\n              .filter((p) => !POOL_HIDE.includes(p.id))\r\n              .slice(0, poolsShown)\r\n              .map((p, i) => {\r\n                return (\r\n                  <HoverRowLink onClick={() => handleNav('/pools/' + p.id)} key={i}>\r\n                    <ResponsiveGrid key={i}>\r\n                      <RowFixed>\r\n                        <DoubleCurrencyLogo address0={p.token0.id} address1={p.token1.id} />\r\n                        <TYPE.label ml=\"10px\" style={{ whiteSpace: 'nowrap' }}>\r\n                          <HoverInlineText maxCharacters={12} text={`${p.token0.symbol} / ${p.token1.symbol}`} />\r\n                        </TYPE.label>\r\n                        <GreyBadge ml=\"10px\">{feeTierPercent(parseFloat(p.feeTier))}</GreyBadge>\r\n                        <SavedIcon\r\n                          id=\"watchlist-icon\"\r\n                          size={'16px'}\r\n                          style={{ marginLeft: '10px' }}\r\n                          fill={savedPools.includes(p.id)}\r\n                          onClick={(e) => {\r\n                            e.stopPropagation()\r\n                            addSavedPool(p.id)\r\n                          }}\r\n                        />\r\n                      </RowFixed>\r\n                      <HideSmall>\r\n                        <TYPE.label textAlign=\"end\">{formatDollarAmount(parseFloat(p.totalValueLocked))}</TYPE.label>\r\n                      </HideSmall>\r\n                      <HideSmall>\r\n                        <TYPE.label textAlign=\"end\">{formatDollarAmount(parseFloat(p.totalValueLocked))}</TYPE.label>\r\n                      </HideSmall>\r\n                      <HideSmall>\r\n                        <TYPE.label textAlign=\"end\">{formatDollarAmount(parseFloat(p.token0Price))}</TYPE.label>\r\n                      </HideSmall>\r\n                    </ResponsiveGrid>\r\n                  </HoverRowLink>\r\n                )\r\n              })}\r\n            {poolForList.length === 0 ? (\r\n              <TYPE.main>{showWatchlist ? 'Saved pools will appear here' : 'No results'}</TYPE.main>\r\n            ) : null}\r\n            <HoverText\r\n              onClick={() => {\r\n                setPoolsShown(poolsShown + 5)\r\n              }}\r\n              hide={!(poolForList.length > 3 && poolForList.length >= poolsShown)}\r\n              ref={textRef}\r\n            >\r\n              See more...\r\n            </HoverText>\r\n          </AutoColumn>\r\n        </Menu>\r\n      </Container>\r\n    </Hotkeys>\r\n  )\r\n}\r\n\r\nexport default Search\r\n","/* eslint-disable @typescript-eslint/no-var-requires */\r\n// import { ChainId } from '@uniswap/sdk'\r\nimport React from 'react'\r\n// import { Text } from 'rebass'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { darken } from 'polished'\r\n\r\nimport styled from 'styled-components'\r\n\r\n// import Logo from '../../assets/svg/logo.svg'\r\nimport LogoDark from '../../assets/svg/logo_white.svg'\r\nimport AquaLogo from '../../assets/svg/Aqua.svg'\r\n// import { useActiveWeb3React } from '../../hooks'\r\n// import { useDarkModeManager } from '../../state/user/hooks'\r\n// import { useETHBalances } from '../../state/wallet/hooks'\r\n\r\n// import { YellowCard } from '../Card'\r\n// import { Moon, Sun } from 'react-feather'\r\nimport Menu from '../Menu'\r\n\r\nimport Row, { RowFixed } from '../Row'\r\n// import Web3Status from '../Web3Status'\r\nimport SearchSmall from 'components/Search'\r\nimport { HideMedium } from 'theme'\r\n\r\nconst HeaderFrame = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 120px;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-direction: row;\r\n  width: 100%;\r\n  top: 0;\r\n  position: relative;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n  padding: 1rem;\r\n  z-index: 2;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\r\n\r\n  background-color: ${({ theme }) => theme.bg0};\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    grid-template-columns: 1fr;\r\n    padding: 0 1rem;\r\n    width: calc(100%);\r\n    position: relative;\r\n  `};\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n        padding: 0.5rem 1rem;\r\n  `}\r\n`\r\n\r\nconst HeaderControls = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-self: flex-end;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n      padding-bottom: 1rem;\r\n      width: 100%;\r\n  `};\r\n`\r\n\r\n// const HeaderElement = styled.div`\r\n//   display: flex;\r\n//   align-items: center;\r\n\r\n//   /* addresses safari's lack of support for \"gap\" */\r\n//   & > *:not(:first-child) {\r\n//     margin-left: 8px;\r\n//   }\r\n\r\n//   ${({ theme }) => theme.mediaWidth.upToMedium`\r\n//    flex-direction: row-reverse;\r\n//     align-items: center;\r\n//   `};\r\n// `\r\n\r\nconst HeaderElementWrap = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nconst HeaderRow = styled(RowFixed)`\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n   width: 100%;\r\n  `};\r\n`\r\n\r\nconst HeaderLinks = styled(Row)`\r\n  justify-content: center;\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    padding: 1rem 0 1rem 1rem;\r\n    justify-content: flex-end;\r\n`};\r\n`\r\n\r\n// const AccountElement = styled.div<{ active: boolean }>`\r\n//   display: flex;\r\n//   flex-direction: row;\r\n//   align-items: center;\r\n//   background-color: ${({ theme, active }) => (!active ? theme.bg0 : theme.bg1)};\r\n//   border-radius: 12px;\r\n//   white-space: nowrap;\r\n//   width: 100%;\r\n//   cursor: pointer;\r\n\r\n//   :focus {\r\n//     border: 1px solid blue;\r\n//   }\r\n// `\r\n\r\n// const HideSmall = styled.span`\r\n//   ${({ theme }) => theme.mediaWidth.upToSmall`\r\n//     display: none;\r\n//   `};\r\n// `\r\n\r\n// const NetworkCard = styled(YellowCard)`\r\n//   border-radius: 12px;\r\n//   padding: 8px 12px;\r\n//   ${({ theme }) => theme.mediaWidth.upToSmall`\r\n//     margin: 0;\r\n//     margin-right: 0.5rem;\r\n//     width: initial;\r\n//     overflow: hidden;\r\n//     text-overflow: ellipsis;\r\n//     flex-shrink: 1;\r\n//   `};\r\n// `\r\n\r\n// const BalanceText = styled(Text)`\r\n//   ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n//     display: none;\r\n//   `};\r\n// `\r\n\r\nconst Title = styled(NavLink)`\r\n  display: flex;\r\n  align-items: center;\r\n  pointer-events: auto;\r\n  justify-self: flex-start;\r\n  margin-right: 12px;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    justify-self: center;\r\n  `};\r\n`\r\n\r\nconst UniIcon = styled.div`\r\n  transition: transform 0.3s ease;\r\n  :hover {\r\n    transform: rotate(-5deg);\r\n  }\r\n`\r\n\r\nconst activeClassName = 'ACTIVE'\r\n\r\nconst StyledNavLink = styled(NavLink).attrs({\r\n  activeClassName,\r\n})`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  align-items: left;\r\n  border-radius: 3rem;\r\n  outline: none;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n  color: ${({ theme }) => theme.text3};\r\n  font-size: 1rem;\r\n  width: fit-content;\r\n  margin: 0 6px;\r\n  padding: 8px 12px;\r\n  font-weight: 500;\r\n\r\n  &.${activeClassName} {\r\n    border-radius: 12px;\r\n    background-color: ${({ theme }) => theme.bg2};\r\n    color: ${({ theme }) => theme.text1};\r\n  }\r\n\r\n  :hover,\r\n  :focus {\r\n    color: ${({ theme }) => darken(0.1, theme.text1)};\r\n  }\r\n`\r\n\r\nexport const StyledMenuButton = styled.button`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  border: none;\r\n  background-color: transparent;\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 35px;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n  margin-left: 8px;\r\n  padding: 0.15rem 0.5rem;\r\n  border-radius: 0.5rem;\r\n\r\n  :hover,\r\n  :focus {\r\n    cursor: pointer;\r\n    outline: none;\r\n    background-color: ${({ theme }) => theme.bg4};\r\n  }\r\n\r\n  svg {\r\n    margin-top: 2px;\r\n  }\r\n  > * {\r\n    stroke: ${({ theme }) => theme.text1};\r\n  }\r\n`\r\n\r\n// const NETWORK_LABELS: { [chainId in ChainId]?: string } = {\r\n//   [ChainId.RINKEBY]: 'Rinkeby',\r\n//   [ChainId.ROPSTEN]: 'Ropsten',\r\n//   [ChainId.GÃ–RLI]: 'GÃ¶rli',\r\n//   [ChainId.KOVAN]: 'Kovan',\r\n// }\r\n\r\nexport default function Header() {\r\n  // const { account, chainId } = useActiveWeb3React()\r\n\r\n  // const userEthBalance = useETHBalances(account ? [account] : [])?.[account ?? '']\r\n  // const [isDark] = useDarkModeManager()\r\n  // const [darkMode, toggleDarkMode] = useDarkModeManager()\r\n\r\n  return (\r\n    <HeaderFrame>\r\n      <HeaderRow>\r\n        <Title to=\"/\">\r\n          <UniIcon>\r\n            <img width={'24px'} src={AquaLogo} alt=\"logo\" />\r\n          </UniIcon>\r\n        </Title>\r\n        <HeaderLinks>\r\n          <StyledNavLink id={`pool-nav-link`} to={'/'} isActive={(match, { pathname }) => pathname === '/'}>\r\n            Overview\r\n          </StyledNavLink>\r\n          {/* <StyledNavLink id={`swap-nav-link`} to={'/protocol'}>\r\n            Protocol\r\n          </StyledNavLink> */}\r\n          <StyledNavLink id={`stake-nav-link`} to={'/pools'}>\r\n            Pools\r\n          </StyledNavLink>\r\n          {/* <StyledNavLink id={`stake-nav-link`} to={'/tokens'}>\r\n            Tokens\r\n          </StyledNavLink> */}\r\n          {/* <StyledNavLink id={`stake-nav-link`} to={'/wallet'}>\r\n            Wallet\r\n          </StyledNavLink> */}\r\n        </HeaderLinks>\r\n      </HeaderRow>\r\n      <HeaderControls>\r\n        <SearchSmall />\r\n        {/* <HeaderElement>\r\n          <HideSmall>\r\n            {chainId && NETWORK_LABELS[chainId] && (\r\n              <NetworkCard title={NETWORK_LABELS[chainId]}>{NETWORK_LABELS[chainId]}</NetworkCard>\r\n            )}\r\n          </HideSmall>\r\n          <AccountElement active={!!account} style={{ pointerEvents: 'auto' }}>\r\n            {account && userEthBalance ? (\r\n              <BalanceText style={{ flexShrink: 0 }} pl=\"0.75rem\" pr=\"0.5rem\" fontWeight={500}>\r\n                {userEthBalance?.toSignificant(4)} ETH\r\n              </BalanceText>\r\n            ) : null}\r\n            <Web3Status />\r\n          </AccountElement>\r\n        </HeaderElement> */}\r\n        <HideMedium>\r\n          <HeaderElementWrap>\r\n            {/* <StyledMenuButton onClick={() => toggleDarkMode()}>\r\n            {darkMode ? <Moon size={20} /> : <Sun size={20} />}\r\n          </StyledMenuButton> */}\r\n            <Menu />\r\n          </HeaderElementWrap>\r\n        </HideMedium>\r\n      </HeaderControls>\r\n    </HeaderFrame>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { AlertTriangle, X } from 'react-feather'\r\nimport { useURLWarningToggle, useURLWarningVisible } from '../../state/user/hooks'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nconst PhishAlert = styled.div<{ isActive: any }>`\r\n  width: 100%;\r\n  padding: 6px 6px;\r\n  background-color: ${({ theme }) => theme.blue1};\r\n  color: white;\r\n  font-size: 11px;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  display: ${({ isActive }) => (isActive ? 'flex' : 'none')};\r\n`\r\n\r\nexport const StyledClose = styled(X)`\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nexport default function URLWarning() {\r\n  const toggleURLWarning = useURLWarningToggle()\r\n  const showURLWarning = useURLWarningVisible()\r\n\r\n  return isMobile ? (\r\n    <PhishAlert isActive={showURLWarning}>\r\n      <div style={{ display: 'flex' }}>\r\n        <AlertTriangle style={{ marginRight: 6 }} size={12} /> Make sure the URL is\r\n        <code style={{ padding: '0 4px', display: 'inline', fontWeight: 'bold' }}>app.uniswap.org</code>\r\n      </div>\r\n      <StyledClose size={12} onClick={toggleURLWarning} />\r\n    </PhishAlert>\r\n  ) : window.location.hostname === 'app.uniswap.org' ? (\r\n    <PhishAlert isActive={showURLWarning}>\r\n      <div style={{ display: 'flex' }}>\r\n        <AlertTriangle style={{ marginRight: 6 }} size={12} /> Always make sure the URL is\r\n        <code style={{ padding: '0 4px', display: 'inline', fontWeight: 'bold' }}>app.uniswap.org</code> - bookmark it\r\n        to be safe.\r\n      </div>\r\n      <StyledClose size={12} onClick={toggleURLWarning} />\r\n    </PhishAlert>\r\n  ) : null\r\n}\r\n","import { ActionCreatorWithPayload, createAction } from '@reduxjs/toolkit'\r\nimport { TokenList, Version } from '@uniswap/token-lists'\r\n\r\nexport const fetchTokenList: Readonly<{\r\n  pending: ActionCreatorWithPayload<{ url: string; requestId: string }>\r\n  fulfilled: ActionCreatorWithPayload<{ url: string; tokenList: TokenList; requestId: string }>\r\n  rejected: ActionCreatorWithPayload<{ url: string; errorMessage: string; requestId: string }>\r\n}> = {\r\n  pending: createAction('lists/fetchTokenList/pending'),\r\n  fulfilled: createAction('lists/fetchTokenList/fulfilled'),\r\n  rejected: createAction('lists/fetchTokenList/rejected'),\r\n}\r\n// add and remove from list options\r\nexport const addList = createAction<string>('lists/addList')\r\nexport const removeList = createAction<string>('lists/removeList')\r\n\r\n// select which lists to search across from loaded lists\r\nexport const enableList = createAction<string>('lists/enableList')\r\nexport const disableList = createAction<string>('lists/disableList')\r\n\r\n// versioning\r\nexport const acceptListUpdate = createAction<string>('lists/acceptListUpdate')\r\nexport const rejectVersionUpdate = createAction<Version>('lists/rejectVersionUpdate')\r\n","import { Version } from '@uniswap/token-lists'\r\n\r\nexport default function listVersionLabel(version: Version): string {\r\n  return `v${version.major}.${version.minor}.${version.patch}`\r\n}\r\n","import { diffTokenLists, TokenList } from '@uniswap/token-lists'\r\nimport React, { useCallback, useMemo } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\nimport { AppDispatch } from '../../state'\r\nimport { useRemovePopup } from '../../state/application/hooks'\r\nimport { acceptListUpdate } from '../../state/lists/actions'\r\nimport { TYPE } from '../../theme'\r\nimport listVersionLabel from '../../utils/listVersionLabel'\r\nimport { ButtonSecondary } from '../Button'\r\nimport { AutoColumn } from '../Column'\r\nimport { AutoRow } from '../Row'\r\n\r\nexport const ChangesList = styled.ul`\r\n  max-height: 400px;\r\n  overflow: auto;\r\n`\r\n\r\nexport default function ListUpdatePopup({\r\n  popKey,\r\n  listUrl,\r\n  oldList,\r\n  newList,\r\n  auto,\r\n}: {\r\n  popKey: string\r\n  listUrl: string\r\n  oldList: TokenList\r\n  newList: TokenList\r\n  auto: boolean\r\n}) {\r\n  const removePopup = useRemovePopup()\r\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup])\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  const handleAcceptUpdate = useCallback(() => {\r\n    if (auto) return\r\n    ReactGA.event({\r\n      category: 'Lists',\r\n      action: 'Update List from Popup',\r\n      label: listUrl,\r\n    })\r\n    dispatch(acceptListUpdate(listUrl))\r\n    removeThisPopup()\r\n  }, [auto, dispatch, listUrl, removeThisPopup])\r\n\r\n  const { added: tokensAdded, changed: tokensChanged, removed: tokensRemoved } = useMemo(() => {\r\n    return diffTokenLists(oldList.tokens, newList.tokens)\r\n  }, [newList.tokens, oldList.tokens])\r\n  const numTokensChanged = useMemo(\r\n    () =>\r\n      Object.keys(tokensChanged).reduce((memo, chainId: any) => memo + Object.keys(tokensChanged[chainId]).length, 0),\r\n    [tokensChanged]\r\n  )\r\n\r\n  return (\r\n    <AutoRow>\r\n      <AutoColumn style={{ flex: '1' }} gap=\"8px\">\r\n        {auto ? (\r\n          <TYPE.body fontWeight={500}>\r\n            The token list &quot;{oldList.name}&quot; has been updated to{' '}\r\n            <strong>{listVersionLabel(newList.version)}</strong>.\r\n          </TYPE.body>\r\n        ) : (\r\n          <>\r\n            <div>\r\n              <Text>\r\n                An update is available for the token list &quot;{oldList.name}&quot; (\r\n                {listVersionLabel(oldList.version)} to {listVersionLabel(newList.version)}).\r\n              </Text>\r\n              <ChangesList>\r\n                {tokensAdded.length > 0 ? (\r\n                  <li>\r\n                    {tokensAdded.map((token, i) => (\r\n                      <React.Fragment key={`${token.chainId}-${token.address}`}>\r\n                        <strong title={token.address}>{token.symbol}</strong>\r\n                        {i === tokensAdded.length - 1 ? null : ', '}\r\n                      </React.Fragment>\r\n                    ))}{' '}\r\n                    added\r\n                  </li>\r\n                ) : null}\r\n                {tokensRemoved.length > 0 ? (\r\n                  <li>\r\n                    {tokensRemoved.map((token, i) => (\r\n                      <React.Fragment key={`${token.chainId}-${token.address}`}>\r\n                        <strong title={token.address}>{token.symbol}</strong>\r\n                        {i === tokensRemoved.length - 1 ? null : ', '}\r\n                      </React.Fragment>\r\n                    ))}{' '}\r\n                    removed\r\n                  </li>\r\n                ) : null}\r\n                {numTokensChanged > 0 ? <li>{numTokensChanged} tokens updated</li> : null}\r\n              </ChangesList>\r\n            </div>\r\n            <AutoRow>\r\n              <div style={{ flexGrow: 1, marginRight: 12 }}>\r\n                <ButtonSecondary onClick={handleAcceptUpdate}>Accept update</ButtonSecondary>\r\n              </div>\r\n              <div style={{ flexGrow: 1 }}>\r\n                <ButtonSecondary onClick={removeThisPopup}>Dismiss</ButtonSecondary>\r\n              </div>\r\n            </AutoRow>\r\n          </>\r\n        )}\r\n      </AutoColumn>\r\n    </AutoRow>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { AlertCircle, CheckCircle } from 'react-feather'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { TYPE } from '../../theme'\r\nimport { ExternalLink } from '../../theme/components'\r\nimport { getEtherscanLink } from '../../utils'\r\nimport { AutoColumn } from '../Column'\r\nimport { AutoRow } from '../Row'\r\n\r\nconst RowNoFlex = styled(AutoRow)`\r\n  flex-wrap: nowrap;\r\n`\r\n\r\nexport default function TransactionPopup({\r\n  hash,\r\n  success,\r\n  summary,\r\n}: {\r\n  hash: string\r\n  success?: boolean\r\n  summary?: string\r\n}) {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const theme = useContext(ThemeContext)\r\n\r\n  return (\r\n    <RowNoFlex>\r\n      <div style={{ paddingRight: 16 }}>\r\n        {success ? <CheckCircle color={theme.green1} size={24} /> : <AlertCircle color={theme.red1} size={24} />}\r\n      </div>\r\n      <AutoColumn gap=\"8px\">\r\n        <TYPE.body fontWeight={500}>{summary ?? 'Hash: ' + hash.slice(0, 8) + '...' + hash.slice(58, 65)}</TYPE.body>\r\n        {chainId && (\r\n          <ExternalLink href={getEtherscanLink(chainId, hash, 'transaction')}>View on Etherscan</ExternalLink>\r\n        )}\r\n      </AutoColumn>\r\n    </RowNoFlex>\r\n  )\r\n}\r\n","import React, { useCallback, useContext, useEffect } from 'react'\r\nimport { X } from 'react-feather'\r\nimport { useSpring } from 'react-spring/web'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { animated } from 'react-spring'\r\nimport { PopupContent } from '../../state/application/actions'\r\nimport { useRemovePopup } from '../../state/application/hooks'\r\nimport ListUpdatePopup from './ListUpdatePopup'\r\nimport TransactionPopup from './TransactionPopup'\r\n\r\nexport const StyledClose = styled(X)`\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 10px;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\nexport const Popup = styled.div`\r\n  display: inline-block;\r\n  width: 100%;\r\n  padding: 1em;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  position: relative;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  padding-right: 35px;\r\n  overflow: hidden;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    min-width: 290px;\r\n    &:not(:last-of-type) {\r\n      margin-right: 20px;\r\n    }\r\n  `}\r\n`\r\nconst Fader = styled.div`\r\n  position: absolute;\r\n  bottom: 0px;\r\n  left: 0px;\r\n  width: 100%;\r\n  height: 2px;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n`\r\n\r\nconst AnimatedFader = animated(Fader)\r\n\r\nexport default function PopupItem({\r\n  removeAfterMs,\r\n  content,\r\n  popKey,\r\n}: {\r\n  removeAfterMs: number | null\r\n  content: PopupContent\r\n  popKey: string\r\n}) {\r\n  const removePopup = useRemovePopup()\r\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup])\r\n  useEffect(() => {\r\n    if (removeAfterMs === null) return undefined\r\n\r\n    const timeout = setTimeout(() => {\r\n      removeThisPopup()\r\n    }, removeAfterMs)\r\n\r\n    return () => {\r\n      clearTimeout(timeout)\r\n    }\r\n  }, [removeAfterMs, removeThisPopup])\r\n\r\n  const theme = useContext(ThemeContext)\r\n\r\n  let popupContent\r\n  if ('txn' in content) {\r\n    const {\r\n      txn: { hash, success, summary },\r\n    } = content\r\n    popupContent = <TransactionPopup hash={hash} success={success} summary={summary} />\r\n  } else if ('listUpdate' in content) {\r\n    const {\r\n      listUpdate: { listUrl, oldList, newList, auto },\r\n    } = content\r\n    popupContent = <ListUpdatePopup popKey={popKey} listUrl={listUrl} oldList={oldList} newList={newList} auto={auto} />\r\n  }\r\n\r\n  const faderStyle = useSpring({\r\n    from: { width: '100%' },\r\n    to: { width: '0%' },\r\n    config: { duration: removeAfterMs ?? undefined },\r\n  })\r\n\r\n  return (\r\n    <Popup>\r\n      <StyledClose color={theme.text2} onClick={removeThisPopup} />\r\n      {popupContent}\r\n      {removeAfterMs !== null ? <AnimatedFader style={faderStyle} /> : null}\r\n    </Popup>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { useActivePopups } from '../../state/application/hooks'\r\nimport { AutoColumn } from '../Column'\r\nimport PopupItem from './PopupItem'\r\nimport { useURLWarningVisible } from '../../state/user/hooks'\r\n\r\nconst MobilePopupWrapper = styled.div<{ height: string | number }>`\r\n  position: relative;\r\n  max-width: 100%;\r\n  height: ${({ height }) => height};\r\n  margin: ${({ height }) => (height ? '0 auto;' : 0)};\r\n  margin-bottom: ${({ height }) => (height ? '20px' : 0)}};\r\n\r\n  display: none;\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    display: block;\r\n  `};\r\n`\r\n\r\nconst MobilePopupInner = styled.div`\r\n  height: 99%;\r\n  overflow-x: auto;\r\n  overflow-y: hidden;\r\n  display: flex;\r\n  flex-direction: row;\r\n  -webkit-overflow-scrolling: touch;\r\n  ::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst FixedPopupColumn = styled(AutoColumn)<{ extraPadding: boolean }>`\r\n  position: fixed;\r\n  top: ${({ extraPadding }) => (extraPadding ? '108px' : '88px')};\r\n  right: 1rem;\r\n  max-width: 355px !important;\r\n  width: 100%;\r\n  z-index: 3;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    display: none;\r\n  `};\r\n`\r\n\r\nexport default function Popups() {\r\n  // get all popups\r\n  const activePopups = useActivePopups()\r\n\r\n  const urlWarningActive = useURLWarningVisible()\r\n\r\n  return (\r\n    <>\r\n      <FixedPopupColumn gap=\"20px\" extraPadding={urlWarningActive}>\r\n        {activePopups.map((item) => (\r\n          <PopupItem key={item.key} content={item.content} popKey={item.key} removeAfterMs={item.removeAfterMs} />\r\n        ))}\r\n      </FixedPopupColumn>\r\n      <MobilePopupWrapper height={activePopups?.length > 0 ? 'fit-content' : 0}>\r\n        <MobilePopupInner>\r\n          {activePopups // reverse so new items up front\r\n            .slice(0)\r\n            .reverse()\r\n            .map((item) => (\r\n              <PopupItem key={item.key} content={item.content} popKey={item.key} removeAfterMs={item.removeAfterMs} />\r\n            ))}\r\n        </MobilePopupInner>\r\n      </MobilePopupWrapper>\r\n    </>\r\n  )\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { RouteComponentProps } from 'react-router-dom'\r\nimport { parse } from 'qs'\r\nimport { AppDispatch } from '../state'\r\nimport { updateUserDarkMode } from '../state/user/actions'\r\n\r\nexport default function DarkModeQueryParamReader({ location: { search } }: RouteComponentProps): null {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  useEffect(() => {\r\n    if (!search) return\r\n    if (search.length < 2) return\r\n\r\n    const parsed = parse(search, {\r\n      parseArrays: false,\r\n      ignoreQueryPrefix: true,\r\n    })\r\n\r\n    const theme = parsed.theme\r\n\r\n    if (typeof theme !== 'string') return\r\n\r\n    if (theme.toLowerCase() === 'light') {\r\n      dispatch(updateUserDarkMode({ userDarkMode: false }))\r\n    } else if (theme.toLowerCase() === 'dark') {\r\n      dispatch(updateUserDarkMode({ userDarkMode: true }))\r\n    }\r\n  }, [dispatch, search])\r\n\r\n  return null\r\n}\r\n","import React, { Dispatch, SetStateAction, ReactNode } from 'react'\r\nimport { ResponsiveContainer, XAxis, Tooltip, AreaChart, Area } from 'recharts'\r\nimport styled from 'styled-components'\r\nimport Card from 'components/Card'\r\nimport { RowBetween } from 'components/Row'\r\nimport dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport useTheme from 'hooks/useTheme'\r\nimport { darken } from 'polished'\r\ndayjs.extend(utc)\r\n\r\nconst DEFAULT_HEIGHT = 300\r\n\r\nconst Wrapper = styled(Card)`\r\n  width: 100%;\r\n  height: ${DEFAULT_HEIGHT}px;\r\n  padding: 1rem;\r\n  padding-right: 2rem;\r\n  display: flex;\r\n  background-color: ${({ theme }) => theme.bg0}\r\n  flex-direction: column;\r\n  > * {\r\n    font-size: 1rem;\r\n  }\r\n`\r\n\r\nexport type LineChartProps = {\r\n  data: any[]\r\n  color?: string | undefined\r\n  height?: number | undefined\r\n  minHeight?: number\r\n  setValue?: Dispatch<SetStateAction<number | undefined>> // used for value on hover\r\n  setLabel?: Dispatch<SetStateAction<string | undefined>> // used for label of valye\r\n  value?: number\r\n  label?: string\r\n  topLeft?: ReactNode | undefined\r\n  topRight?: ReactNode | undefined\r\n  bottomLeft?: ReactNode | undefined\r\n  bottomRight?: ReactNode | undefined\r\n} & React.HTMLAttributes<HTMLDivElement>\r\n\r\nconst Chart = ({\r\n  data,\r\n  color = '#56B2A4',\r\n  value,\r\n  label,\r\n  setValue,\r\n  setLabel,\r\n  topLeft,\r\n  topRight,\r\n  bottomLeft,\r\n  bottomRight,\r\n  minHeight = DEFAULT_HEIGHT,\r\n  ...rest\r\n}: LineChartProps) => {\r\n  const theme = useTheme()\r\n  const parsedValue = value\r\n\r\n  return (\r\n    <Wrapper minHeight={minHeight} {...rest}>\r\n      <RowBetween>\r\n        {topLeft ?? null}\r\n        {topRight ?? null}\r\n      </RowBetween>\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <AreaChart\r\n          width={500}\r\n          height={300}\r\n          data={data}\r\n          margin={{\r\n            top: 5,\r\n            right: 30,\r\n            left: 20,\r\n            bottom: 5,\r\n          }}\r\n          onMouseLeave={() => {\r\n            setLabel && setLabel(undefined)\r\n            setValue && setValue(undefined)\r\n          }}\r\n        >\r\n          <defs>\r\n            <linearGradient id=\"gradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n              <stop offset=\"5%\" stopColor={darken(0.36, color)} stopOpacity={0.5} />\r\n              <stop offset=\"100%\" stopColor={color} stopOpacity={0} />\r\n            </linearGradient>\r\n          </defs>\r\n          <XAxis\r\n            dataKey=\"time\"\r\n            axisLine={false}\r\n            tickLine={false}\r\n            tickFormatter={(time) => dayjs(time).format('DD')}\r\n            minTickGap={10}\r\n          />\r\n          <Tooltip\r\n            cursor={{ stroke: theme.bg2 }}\r\n            contentStyle={{ display: 'none' }}\r\n            formatter={(value: number, name: string, props: { payload: { time: string; value: number } }) => {\r\n              if (setValue && parsedValue !== props.payload.value) {\r\n                setValue(props.payload.value)\r\n              }\r\n              const formattedTime = dayjs(props.payload.time).format('MMM D, YYYY')\r\n              if (setLabel && label !== formattedTime) setLabel(formattedTime)\r\n            }}\r\n          />\r\n          <Area dataKey=\"value\" type=\"monotone\" stroke={color} fill=\"url(#gradient)\" strokeWidth={2} />\r\n        </AreaChart>\r\n      </ResponsiveContainer>\r\n      <RowBetween>\r\n        {bottomLeft ?? null}\r\n        {bottomRight ?? null}\r\n      </RowBetween>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default Chart\r\n","import { ProtocolData } from './reducer'\r\nimport { createAction } from '@reduxjs/toolkit'\r\nimport { ChartDayData, Transaction } from 'types'\r\n\r\n// protocol wide info\r\nexport const updateProtocolData = createAction<{ protocolData: ProtocolData }>('protocol/updateProtocolData')\r\nexport const updateChartData = createAction<{ chartData: ChartDayData[] }>('protocol/updateChartData')\r\nexport const updateTransactions = createAction<{ transactions: Transaction[] }>('protocol/updateTransactions')\r\n","import { updateProtocolData, updateChartData, updateTransactions } from './actions'\r\nimport { AppState, AppDispatch } from './../index'\r\nimport { ProtocolData } from './reducer'\r\nimport { useCallback } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { ChartDayData, Transaction } from 'types'\r\n\r\nexport function useProtocolData(): [ProtocolData | undefined, (protocolData: ProtocolData) => void] {\r\n  const protocolData: ProtocolData | undefined = useSelector((state: AppState) => state.protocol.data)\r\n\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const setProtocolData: (protocolData: ProtocolData) => void = useCallback(\r\n    (protocolData: ProtocolData) => dispatch(updateProtocolData({ protocolData })),\r\n    [dispatch]\r\n  )\r\n\r\n  return [protocolData, setProtocolData]\r\n}\r\n\r\nexport function useProtocolChartData(): [ChartDayData[] | undefined, (chartData: ChartDayData[]) => void] {\r\n  const chartData: ChartDayData[] | undefined = useSelector((state: AppState) => state.protocol.chartData)\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const setChartData: (chartData: ChartDayData[]) => void = useCallback(\r\n    (chartData: ChartDayData[]) => dispatch(updateChartData({ chartData })),\r\n    [dispatch]\r\n  )\r\n  return [chartData, setChartData]\r\n}\r\n\r\nexport function useProtocolTransactions(): [Transaction[] | undefined, (transactions: Transaction[]) => void] {\r\n  const transactions: Transaction[] | undefined = useSelector((state: AppState) => state.protocol.transactions)\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const setTransactions: (transactions: Transaction[]) => void = useCallback(\r\n    (transactions: Transaction[]) => dispatch(updateTransactions({ transactions })),\r\n    [dispatch]\r\n  )\r\n  return [transactions, setTransactions]\r\n}\r\n","import React from 'react'\r\nimport { TYPE } from 'theme'\r\nimport styled from 'styled-components'\r\n\r\nconst Wrapper = styled(TYPE.main)<{ fontWeight: number; fontSize: string; negative: boolean; neutral: boolean }>`\r\n  font-size: ${({ fontSize }) => fontSize};\r\n  font-weight: ${({ fontWeight }) => fontWeight};\r\n  color: ${({ theme, negative }) => (negative ? theme.red1 : theme.green1)};\r\n`\r\n\r\nexport interface LogoProps {\r\n  value: number | undefined\r\n  decimals?: number\r\n  fontSize?: string\r\n  fontWeight?: number\r\n  wrap?: boolean\r\n  simple?: boolean\r\n}\r\n\r\nexport default function Percent({\r\n  value,\r\n  decimals = 2,\r\n  fontSize = '16px',\r\n  fontWeight = 500,\r\n  wrap = false,\r\n  simple = false,\r\n  ...rest\r\n}: LogoProps) {\r\n  if (value === undefined || value === null) {\r\n    return (\r\n      <TYPE.main fontWeight={fontWeight} fontSize={fontSize}>\r\n        -\r\n      </TYPE.main>\r\n    )\r\n  }\r\n\r\n  const truncated = parseFloat(value.toFixed(decimals))\r\n\r\n  if (simple) {\r\n    return (\r\n      <Wrapper {...rest} fontWeight={fontWeight} fontSize={fontSize} negative={false} neutral={true}>\r\n        {Math.abs(value).toFixed(decimals)}%\r\n      </Wrapper>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Wrapper {...rest} fontWeight={fontWeight} fontSize={fontSize} negative={truncated < 0} neutral={truncated === 0}>\r\n      {wrap && '('}\r\n      {truncated < 0 && 'â†“'}\r\n      {truncated > 0 && 'â†‘'}\r\n      {Math.abs(value).toFixed(decimals)}%{wrap && ')'}\r\n    </Wrapper>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/whitev3.280959f9.svg\";","import React from 'react'\r\nimport v3 from '../../assets/images/whitev3.svg'\r\nimport styled, { keyframes, css } from 'styled-components'\r\n\r\nconst rotate = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`\r\n\r\nconst StyledSVG = styled.svg<{ size: string; stroke?: string }>`\r\n  animation: 2s ${rotate} linear infinite;\r\n  height: ${({ size }) => size};\r\n  width: ${({ size }) => size};\r\n  path {\r\n    stroke: ${({ stroke, theme }) => stroke ?? theme.primary1};\r\n  }\r\n`\r\n\r\n/**\r\n * Takes in custom size and stroke for circle color, default to primary color as fill,\r\n * need ...rest for layered styles on top\r\n */\r\nexport default function Loader({\r\n  size = '16px',\r\n  stroke,\r\n  ...rest\r\n}: {\r\n  size?: string\r\n  stroke?: string\r\n  [k: string]: any\r\n}) {\r\n  return (\r\n    <StyledSVG viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" size={size} stroke={stroke} {...rest}>\r\n      <path\r\n        d=\"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 9.27455 20.9097 6.80375 19.1414 5\"\r\n        strokeWidth=\"2.5\"\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      />\r\n    </StyledSVG>\r\n  )\r\n}\r\n\r\nconst pulse = keyframes`\r\n  0% { transform: scale(1); }\r\n  60% { transform: scale(1.1); }\r\n  100% { transform: scale(1); }\r\n`\r\n\r\nconst Wrapper = styled.div<{ fill: number; height?: string }>`\r\n  pointer-events: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: ${({ theme, fill }) => (fill ? 'black' : theme.bg0)};\r\n  height: 100%;\r\n  width: 100%;\r\n  ${(props) =>\r\n    props.fill && !props.height\r\n      ? css`\r\n          height: 100vh;\r\n        `\r\n      : css`\r\n          height: 180px;\r\n        `}\r\n`\r\n\r\nconst AnimatedImg = styled.div`\r\n  animation: ${pulse} 800ms linear infinite;\r\n  & > * {\r\n    width: 72px;\r\n  }\r\n`\r\n\r\nexport const LocalLoader = ({ fill }: { fill: boolean }) => {\r\n  return (\r\n    <Wrapper fill={fill ? 1 : 0}>\r\n      <AnimatedImg>\r\n        <img src={v3} alt=\"loading-icon\" />\r\n      </AnimatedImg>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst loadingAnimation = keyframes`\r\n  0% {\r\n    background-position: 100% 50%;\r\n  }\r\n  100% {\r\n    background-position: 0% 50%;\r\n  }\r\n`\r\n\r\nexport const LoadingRows = styled.div`\r\n  display: grid;\r\n  min-width: 75%;\r\n  max-width: 100%;\r\n  grid-column-gap: 0.5em;\r\n  grid-row-gap: 0.8em;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  & > div {\r\n    animation: ${loadingAnimation} 1.5s infinite;\r\n    animation-fill-mode: both;\r\n    background: linear-gradient(\r\n      to left,\r\n      ${({ theme }) => theme.bg1} 25%,\r\n      ${({ theme }) => theme.bg2} 50%,\r\n      ${({ theme }) => theme.bg1} 75%\r\n    );\r\n    background-size: 400%;\r\n    border-radius: 12px;\r\n    height: 2.4em;\r\n    will-change: background-position;\r\n  }\r\n  & > div:nth-child(4n + 1) {\r\n    grid-column: 1 / 3;\r\n  }\r\n  & > div:nth-child(4n) {\r\n    grid-column: 3 / 4;\r\n    margin-bottom: 2em;\r\n  }\r\n`\r\n","import styled from 'styled-components'\r\nimport { TYPE } from 'theme'\r\n\r\n// responsive text\r\nexport const Label = styled(TYPE.label)<{ end?: number }>`\r\n  display: flex;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  justify-content: ${({ end }) => (end ? 'flex-end' : 'flex-start')};\r\n  align-items: center;\r\n  font-variant-numeric: tabular-nums;\r\n  @media screen and (max-width: 640px) {\r\n    font-size: 14px;\r\n  }\r\n`\r\n\r\nexport const ClickableText = styled(Label)`\r\n  text-align: end;\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n  user-select: none;\r\n  @media screen and (max-width: 640px) {\r\n    font-size: 12px;\r\n  }\r\n`\r\n","import Row from 'components/Row'\r\nimport React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nexport const PageButtons = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 0.2em;\r\n  margin-bottom: 0.5em;\r\n`\r\n\r\nexport const Arrow = styled.div<{ faded: boolean }>`\r\n  color: ${({ theme }) => theme.primary1};\r\n  opacity: ${(props) => (props.faded ? 0.3 : 1)};\r\n  padding: 0 20px;\r\n  user-select: none;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nexport const Break = styled.div`\r\n  height: 1px;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  width: 100%;\r\n`\r\n\r\nexport const FixedSpan = styled.span<{ width?: string | null }>`\r\n  width: ${({ width }) => width ?? ''};\r\n`\r\n\r\nexport const MonoSpace = styled.span`\r\n  font-variant-numeric: tabular-nums;\r\n`\r\n","import React, { useCallback, useState, useMemo, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { TYPE } from 'theme'\r\nimport { DarkGreyCard, GreyBadge } from 'components/Card'\r\nimport Loader, { LoadingRows } from 'components/Loader'\r\nimport { AutoColumn } from 'components/Column'\r\nimport { RowFixed } from 'components/Row'\r\nimport { formatDollarAmount } from 'utils/numbers'\r\nimport { PoolData } from 'state/pools/reducer'\r\nimport DoubleCurrencyLogo from 'components/DoubleLogo'\r\nimport { feeTierPercent } from 'utils'\r\nimport { Label, ClickableText } from 'components/Text'\r\nimport { PageButtons, Arrow, Break } from 'components/shared'\r\nimport { POOL_HIDE } from '../../constants/index'\r\nimport useTheme from 'hooks/useTheme'\r\n\r\nconst Wrapper = styled(DarkGreyCard)`\r\n  width: 100%;\r\n`\r\n\r\nconst ResponsiveGrid = styled.div`\r\n  display: grid;\r\n  grid-gap: 1em;\r\n  align-items: center;\r\n\r\n  grid-template-columns: 20px 3.5fr repeat(3, 1fr);\r\n\r\n  @media screen and (max-width: 900px) {\r\n    grid-template-columns: 20px 1.5fr repeat(2, 1fr);\r\n    & :nth-child(3) {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 500px) {\r\n    grid-template-columns: 20px 1.5fr repeat(1, 1fr);\r\n    & :nth-child(5) {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 480px) {\r\n    grid-template-columns: 2.5fr repeat(1, 1fr);\r\n    > *:nth-child(1) {\r\n      display: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst LinkWrapper = styled(Link)`\r\n  text-decoration: none;\r\n  :hover {\r\n    cursor: pointer;\r\n    opacity: 0.7;\r\n  }\r\n`\r\n\r\nconst SORT_FIELD = {\r\n  feeTier: 'feeTier',\r\n  volumeUSD: 'volumeUSD',\r\n  tvlUSD: 'tvlUSD',\r\n  volumeUSDWeek: 'volumeUSDWeek',\r\n}\r\n\r\nconst DataRow = ({ poolData, index }: { poolData: PoolData; index: number }) => {\r\n  return (\r\n    <LinkWrapper to={'/pools/' + poolData.id}>\r\n      <ResponsiveGrid>\r\n        <Label fontWeight={400}>{index + 1}</Label>\r\n        <Label fontWeight={400}>\r\n          <RowFixed>\r\n            <DoubleCurrencyLogo address0={poolData.token0.id} address1={poolData.token1.id} />\r\n            <TYPE.label ml=\"8px\">\r\n              {poolData.token0.symbol}/{poolData.token1.symbol}\r\n            </TYPE.label>\r\n            <GreyBadge ml=\"10px\" fontSize=\"14px\">\r\n              {feeTierPercent(parseFloat(poolData.feeTier))}\r\n            </GreyBadge>\r\n          </RowFixed>\r\n        </Label>\r\n        <Label end={1} fontWeight={400}>\r\n          {formatDollarAmount(parseFloat(poolData.totalValueLocked))}\r\n        </Label>\r\n        <Label end={1} fontWeight={400}>\r\n          {formatDollarAmount(parseFloat(poolData.aquaPremiumCollectedUSD))}\r\n        </Label>\r\n        <Label end={1} fontWeight={400}>\r\n          {parseFloat(poolData.aquaPremium) / 100}%\r\n        </Label>\r\n      </ResponsiveGrid>\r\n    </LinkWrapper>\r\n  )\r\n}\r\n\r\nconst MAX_ITEMS = 10\r\n\r\nexport default function PoolTable({ poolDatas, maxItems = MAX_ITEMS }: { poolDatas: PoolData[]; maxItems?: number }) {\r\n  // theming\r\n  const theme = useTheme()\r\n\r\n  // for sorting\r\n  const [sortField, setSortField] = useState(SORT_FIELD.tvlUSD)\r\n  const [sortDirection, setSortDirection] = useState<boolean>(true)\r\n\r\n  // pagination\r\n  const [page, setPage] = useState(1)\r\n  const [maxPage, setMaxPage] = useState(1)\r\n  useEffect(() => {\r\n    let extraPages = 1\r\n    if (poolDatas.length % maxItems === 0) {\r\n      extraPages = 0\r\n    }\r\n    setMaxPage(Math.floor(poolDatas.length / maxItems) + extraPages)\r\n  }, [maxItems, poolDatas])\r\n\r\n  const sortedPools = useMemo(() => {\r\n    return poolDatas\r\n      ? poolDatas\r\n          .filter((x) => !!x && !POOL_HIDE.includes(x.id))\r\n          .sort((a, b) => {\r\n            if (a && b) {\r\n              return a[sortField as keyof PoolData] > b[sortField as keyof PoolData]\r\n                ? (sortDirection ? -1 : 1) * 1\r\n                : (sortDirection ? -1 : 1) * -1\r\n            } else {\r\n              return -1\r\n            }\r\n          })\r\n          .slice(maxItems * (page - 1), page * maxItems)\r\n      : []\r\n  }, [maxItems, page, poolDatas, sortDirection, sortField])\r\n\r\n  const handleSort = useCallback(\r\n    (newField: string) => {\r\n      setSortField(newField)\r\n      setSortDirection(sortField !== newField ? true : !sortDirection)\r\n    },\r\n    [sortDirection, sortField]\r\n  )\r\n\r\n  const arrow = useCallback(\r\n    (field: string) => {\r\n      return sortField === field ? (!sortDirection ? 'â†‘' : 'â†“') : ''\r\n    },\r\n    [sortDirection, sortField]\r\n  )\r\n\r\n  if (!poolDatas) {\r\n    return <Loader />\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      {sortedPools.length > 0 ? (\r\n        <AutoColumn gap=\"16px\">\r\n          <ResponsiveGrid>\r\n            {' '}\r\n            <Label color={theme.text2}>#</Label>{' '}\r\n            <ClickableText color={theme.text2} onClick={() => handleSort(SORT_FIELD.feeTier)}>\r\n              {' '}\r\n              Pool {arrow(SORT_FIELD.feeTier)}{' '}\r\n            </ClickableText>{' '}\r\n            <ClickableText color={theme.text2} end={1} onClick={() => handleSort(SORT_FIELD.tvlUSD)}>\r\n              {' '}\r\n              TVL {arrow(SORT_FIELD.tvlUSD)}{' '}\r\n            </ClickableText>{' '}\r\n            <ClickableText color={theme.text2} end={1} onClick={() => handleSort(SORT_FIELD.volumeUSD)}>\r\n              {' '}\r\n              Aqua Premium {arrow(SORT_FIELD.volumeUSD)}{' '}\r\n            </ClickableText>{' '}\r\n            <ClickableText color={theme.text2} end={1} onClick={() => handleSort(SORT_FIELD.volumeUSDWeek)}>\r\n              {' '}\r\n              Premium % {arrow(SORT_FIELD.volumeUSDWeek)}{' '}\r\n            </ClickableText>{' '}\r\n          </ResponsiveGrid>\r\n          <Break />\r\n          {sortedPools.map((poolData, i) => {\r\n            // console.log('SORTED POOlS======', sortedPools)\r\n            if (poolData) {\r\n              return (\r\n                <React.Fragment key={i}>\r\n                  <DataRow index={(page - 1) * MAX_ITEMS + i} poolData={poolData} />\r\n                  <Break />\r\n                </React.Fragment>\r\n              )\r\n            }\r\n            return null\r\n          })}\r\n          <PageButtons>\r\n            <div\r\n              onClick={() => {\r\n                setPage(page === 1 ? page : page - 1)\r\n              }}\r\n            >\r\n              <Arrow faded={page === 1 ? true : false}>â†</Arrow>\r\n            </div>\r\n            <TYPE.body>{'Page ' + page + ' of ' + maxPage}</TYPE.body>\r\n            <div\r\n              onClick={() => {\r\n                setPage(page === maxPage ? page : page + 1)\r\n              }}\r\n            >\r\n              <Arrow faded={page === maxPage ? true : false}>â†’</Arrow>\r\n            </div>\r\n          </PageButtons>\r\n        </AutoColumn>\r\n      ) : (\r\n        <LoadingRows>\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n        </LoadingRows>\r\n      )}\r\n    </Wrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\n\r\nexport const PageWrapper = styled.div`\r\n  width: 90%;\r\n`\r\n\r\nexport const ThemedBackground = styled.div<{ backgroundColor: string }>`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  pointer-events: none;\r\n  max-width: 100vw !important;\r\n  height: 200vh;\r\n  mix-blend-mode: color;\r\n  background: ${({ backgroundColor }) =>\r\n    `radial-gradient(50% 50% at 50% 50%, ${backgroundColor} 0%, rgba(255, 255, 255, 0) 100%)`};\r\n  transform: translateY(-176vh);\r\n`\r\n\r\nexport const ThemedBackgroundGlobal = styled.div<{ backgroundColor: string }>`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  pointer-events: none;\r\n  max-width: 100vw !important;\r\n  height: 200vh;\r\n  mix-blend-mode: color;\r\n  background: ${({ backgroundColor }) =>\r\n    `radial-gradient(50% 50% at 50% 50%, ${backgroundColor} 0%, rgba(255, 255, 255, 0) 100%)`};\r\n  transform: translateY(-150vh);\r\n`\r\n","import dayjs from 'dayjs'\r\n\r\nexport function unixToDate(unix: number, format = 'YYYY-MM-DD'): string {\r\n  return dayjs.unix(unix).format(format)\r\n}\r\n\r\nexport const formatTime = (unix: string) => {\r\n  const now = dayjs()\r\n  const timestamp = dayjs.unix(parseInt(unix))\r\n\r\n  const inSeconds = now.diff(timestamp, 'second')\r\n  const inMinutes = now.diff(timestamp, 'minute')\r\n  const inHours = now.diff(timestamp, 'hour')\r\n  const inDays = now.diff(timestamp, 'day')\r\n\r\n  if (inHours >= 24) {\r\n    return `${inDays} ${inDays === 1 ? 'day' : 'days'} ago`\r\n  } else if (inMinutes >= 60) {\r\n    return `${inHours} ${inHours === 1 ? 'hour' : 'hours'} ago`\r\n  } else if (inSeconds >= 60) {\r\n    return `${inMinutes} ${inMinutes === 1 ? 'minute' : 'minutes'} ago`\r\n  } else {\r\n    return `${inSeconds} ${inSeconds === 1 ? 'second' : 'seconds'} ago`\r\n  }\r\n}\r\n","import React, { Dispatch, SetStateAction, ReactNode } from 'react'\r\nimport { BarChart, ResponsiveContainer, XAxis, Tooltip, Bar } from 'recharts'\r\nimport styled from 'styled-components'\r\nimport Card from 'components/Card'\r\nimport { RowBetween } from 'components/Row'\r\nimport dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport useTheme from 'hooks/useTheme'\r\ndayjs.extend(utc)\r\n\r\nconst DEFAULT_HEIGHT = 300\r\n\r\nconst Wrapper = styled(Card)`\r\n  width: 100%;\r\n  height: ${DEFAULT_HEIGHT}px;\r\n  padding: 1rem;\r\n  padding-right: 2rem;\r\n  display: flex;\r\n  background-color: ${({ theme }) => theme.bg0}\r\n  flex-direction: column;\r\n  > * {\r\n    font-size: 1rem;\r\n  }\r\n`\r\n\r\nexport type LineChartProps = {\r\n  data: any[]\r\n  color?: string | undefined\r\n  height?: number | undefined\r\n  minHeight?: number\r\n  setValue?: Dispatch<SetStateAction<number | undefined>> // used for value on hover\r\n  setLabel?: Dispatch<SetStateAction<string | undefined>> // used for label of valye\r\n  value?: number\r\n  label?: string\r\n  topLeft?: ReactNode | undefined\r\n  topRight?: ReactNode | undefined\r\n  bottomLeft?: ReactNode | undefined\r\n  bottomRight?: ReactNode | undefined\r\n} & React.HTMLAttributes<HTMLDivElement>\r\n\r\nconst CustomBar = ({\r\n  x,\r\n  y,\r\n  width,\r\n  height,\r\n  fill,\r\n}: {\r\n  x: number\r\n  y: number\r\n  width: number\r\n  height: number\r\n  fill: string\r\n}) => {\r\n  return (\r\n    <g>\r\n      <rect x={x} y={y} fill={fill} width={width} height={height} rx=\"2\" />\r\n    </g>\r\n  )\r\n}\r\n\r\nconst Chart = ({\r\n  data,\r\n  color = '#56B2A4',\r\n  setValue,\r\n  setLabel,\r\n  value,\r\n  label,\r\n  topLeft,\r\n  topRight,\r\n  bottomLeft,\r\n  bottomRight,\r\n  minHeight = DEFAULT_HEIGHT,\r\n  ...rest\r\n}: LineChartProps) => {\r\n  const theme = useTheme()\r\n  const parsedValue = value\r\n\r\n  return (\r\n    <Wrapper minHeight={minHeight} {...rest}>\r\n      <RowBetween>\r\n        {topLeft ?? null}\r\n        {topRight ?? null}\r\n      </RowBetween>\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <BarChart\r\n          width={500}\r\n          height={300}\r\n          data={data}\r\n          margin={{\r\n            top: 5,\r\n            right: 30,\r\n            left: 20,\r\n            bottom: 5,\r\n          }}\r\n          onMouseLeave={() => {\r\n            setLabel && setLabel(undefined)\r\n            setValue && setValue(undefined)\r\n          }}\r\n        >\r\n          <XAxis\r\n            dataKey=\"time\"\r\n            axisLine={false}\r\n            tickLine={false}\r\n            tickFormatter={(time) => dayjs(time).format('DD')}\r\n            minTickGap={10}\r\n          />\r\n          <Tooltip\r\n            cursor={{ fill: theme.bg2 }}\r\n            contentStyle={{ display: 'none' }}\r\n            formatter={(value: number, name: string, props: { payload: { time: string; value: number } }) => {\r\n              if (setValue && parsedValue !== props.payload.value) {\r\n                setValue(props.payload.value)\r\n              }\r\n              const formattedTime = dayjs(props.payload.time).format('MMM D, YYYY')\r\n              if (setLabel && label !== formattedTime) setLabel(formattedTime)\r\n            }}\r\n          />\r\n          <Bar\r\n            dataKey=\"value\"\r\n            fill={color}\r\n            shape={(props) => {\r\n              return <CustomBar height={props.height} width={props.width} x={props.x} y={props.y} fill={color} />\r\n            }}\r\n          />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n      <RowBetween>\r\n        {bottomLeft ?? null}\r\n        {bottomRight ?? null}\r\n      </RowBetween>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default Chart\r\n","import React, { useCallback, useState, useMemo, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { DarkGreyCard } from 'components/Card'\r\nimport Loader from 'components/Loader'\r\nimport { AutoColumn } from 'components/Column'\r\nimport { formatDollarAmount, formatAmount } from 'utils/numbers'\r\nimport { shortenAddress, getEtherscanLink } from 'utils'\r\nimport { Label, ClickableText } from 'components/Text'\r\nimport { Transaction, TransactionType } from 'types'\r\nimport { formatTime } from 'utils/date'\r\nimport { RowFixed } from 'components/Row'\r\nimport { ExternalLink, TYPE } from 'theme'\r\nimport { PageButtons, Arrow, Break } from 'components/shared'\r\nimport useTheme from 'hooks/useTheme'\r\nimport HoverInlineText from 'components/HoverInlineText'\r\n\r\nconst Wrapper = styled(DarkGreyCard)`\r\n  width: 100%;\r\n`\r\n\r\nconst ResponsiveGrid = styled.div`\r\n  display: grid;\r\n  grid-gap: 1em;\r\n  align-items: center;\r\n\r\n  grid-template-columns: 1.5fr repeat(5, 1fr);\r\n\r\n  @media screen and (max-width: 940px) {\r\n    grid-template-columns: 1.5fr repeat(4, 1fr);\r\n    & > *:nth-child(5) {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 800px) {\r\n    grid-template-columns: 1.5fr repeat(2, 1fr);\r\n    & > *:nth-child(5) {\r\n      display: none;\r\n    }\r\n    & > *:nth-child(3) {\r\n      display: none;\r\n    }\r\n    & > *:nth-child(4) {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 500px) {\r\n    grid-template-columns: 1.5fr repeat(1, 1fr);\r\n    & > *:nth-child(5) {\r\n      display: none;\r\n    }\r\n    & > *:nth-child(3) {\r\n      display: none;\r\n    }\r\n    & > *:nth-child(4) {\r\n      display: none;\r\n    }\r\n    & > *:nth-child(2) {\r\n      display: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst SortText = styled.button<{ active: boolean }>`\r\n  cursor: pointer;\r\n  font-weight: ${({ active }) => (active ? 500 : 400)};\r\n  margin-right: 0.75rem !important;\r\n  border: none;\r\n  background-color: transparent;\r\n  font-size: 1rem;\r\n  padding: 0px;\r\n  color: ${({ active, theme }) => (active ? theme.text1 : theme.text3)};\r\n  outline: none;\r\n  @media screen and (max-width: 600px) {\r\n    font-size: 14px;\r\n  }\r\n`\r\n\r\nconst SORT_FIELD = {\r\n  pool: {\r\n    feeTier: 'feeTier',\r\n    token0: {\r\n      id: 'id',\r\n      symbol: 'symbol',\r\n    },\r\n    token1: {\r\n      id: 'id',\r\n\r\n      symbol: 'symbol',\r\n    },\r\n  },\r\n  tokenId: 'tokenId',\r\n  totalValueLocked: 'totalValueLocked',\r\n  staker: 'staker',\r\n  stakeTime: 'stakeTime',\r\n\r\n  // amountUSD: 'amountUSD',\r\n  // timestamp: 'timestamp',\r\n  // sender: 'sender',\r\n  // amountToken0: 'amountToken0',\r\n  // amountToken1: 'amountToken1',\r\n}\r\nconsole.log('SORT FIED=====', SORT_FIELD)\r\nconst DataRow = ({ transaction, color }: { transaction: Transaction; color?: string }) => {\r\n  // const abs0 = Math.abs(transaction.amountToken0)\r\n  // const abs1 = Math.abs(transaction.amountToken1)\r\n  // const outputTokenSymbol = transaction.amountToken0 < 0 ? transaction.token0Symbol : transaction.token1Symbol\r\n  // const inputTokenSymbol = transaction.amountToken1 < 0 ? transaction.token0Symbol : transaction.token1Symbol\r\n\r\n  const theme = useTheme()\r\n\r\n  return (\r\n    <ResponsiveGrid>\r\n      <ExternalLink href={getEtherscanLink(1, transaction.hash, 'transaction')}>\r\n        <Label color={color ?? theme.blue1} fontWeight={400}>\r\n          {\r\n            transaction.type === TransactionType.MINT\r\n              ? `Stake`\r\n              : // : transaction.type === TransactionType.SWAP\r\n                `Unstake`\r\n            // : `Remove ${transaction.pool.token0.symbol} and ${transaction.pool.token1.symbol\r\n          }\r\n        </Label>\r\n      </ExternalLink>\r\n\r\n      <Label end={1} fontWeight={400}>\r\n        {parseFloat(transaction.tokenId)}\r\n      </Label>\r\n      <Label end={1} fontWeight={400}>\r\n        {transaction.pool.token0.symbol} / {transaction.pool.token1.symbol}\r\n      </Label>\r\n      <Label end={1} fontWeight={400}>\r\n        {formatDollarAmount(parseFloat(transaction.totalValueLocked))}\r\n      </Label>\r\n      <Label end={1} fontWeight={400}>\r\n        <ExternalLink href={getEtherscanLink(1, transaction.staker, 'address')} style={{ color: color ?? theme.blue1 }}>\r\n          {shortenAddress(transaction.staker)}\r\n        </ExternalLink>\r\n      </Label>\r\n      <Label end={1} fontWeight={400}>\r\n        {formatTime(transaction.stakeTime)}\r\n      </Label>\r\n    </ResponsiveGrid>\r\n  )\r\n}\r\n\r\nexport default function TransactionTable({\r\n  transactions,\r\n  maxItems = 10,\r\n  color,\r\n}: {\r\n  transactions: Transaction[]\r\n  maxItems?: number\r\n  color?: string\r\n}) {\r\n  // theming\r\n  const theme = useTheme()\r\n\r\n  // for sorting\r\n  const [sortField, setSortField] = useState(SORT_FIELD.stakeTime)\r\n  const [sortDirection, setSortDirection] = useState<boolean>(true)\r\n\r\n  // pagination\r\n  const [page, setPage] = useState(1)\r\n  const [maxPage, setMaxPage] = useState(1)\r\n\r\n  useEffect(() => {\r\n    let extraPages = 1\r\n    if (transactions.length % maxItems === 0) {\r\n      extraPages = 0\r\n    }\r\n    setMaxPage(Math.floor(transactions.length / maxItems) + extraPages)\r\n  }, [maxItems, transactions])\r\n\r\n  // filter on txn type\r\n  const [txFilter, setTxFilter] = useState<TransactionType | undefined>(undefined)\r\n\r\n  const sortedTransactions = useMemo(() => {\r\n    return transactions\r\n      ? transactions\r\n          .slice()\r\n          .sort((a, b) => {\r\n            if (a && b) {\r\n              return a[sortField as keyof Transaction] > b[sortField as keyof Transaction]\r\n                ? (sortDirection ? -1 : 1) * 1\r\n                : (sortDirection ? -1 : 1) * -1\r\n            } else {\r\n              return -1\r\n            }\r\n          })\r\n          .filter((x) => {\r\n            return txFilter === undefined || x.type === txFilter\r\n          })\r\n          .slice(maxItems * (page - 1), page * maxItems)\r\n      : []\r\n  }, [transactions, maxItems, page, sortField, sortDirection, txFilter])\r\n\r\n  const handleSort = useCallback(\r\n    (newField: string) => {\r\n      setSortField(newField)\r\n      setSortDirection(sortField !== newField ? true : !sortDirection)\r\n    },\r\n    [sortDirection, sortField]\r\n  )\r\n\r\n  const arrow = useCallback(\r\n    (field: string) => {\r\n      return sortField === field ? (!sortDirection ? 'â†‘' : 'â†“') : ''\r\n    },\r\n    [sortDirection, sortField]\r\n  )\r\n\r\n  if (!transactions) {\r\n    return <Loader />\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <AutoColumn gap=\"16px\">\r\n        <ResponsiveGrid>\r\n          <RowFixed>\r\n            <SortText\r\n              onClick={() => {\r\n                setTxFilter(undefined)\r\n              }}\r\n              active={txFilter === undefined}\r\n            >\r\n              All\r\n            </SortText>\r\n            {/* <SortText\r\n              onClick={() => {\r\n                setTxFilter(TransactionType.SWAP)\r\n              }}\r\n              active={txFilter === TransactionType.SWAP}\r\n            >\r\n              Swaps\r\n            </SortText> */}\r\n            <SortText\r\n              onClick={() => {\r\n                setTxFilter(TransactionType.MINT)\r\n              }}\r\n              active={txFilter === TransactionType.MINT}\r\n            >\r\n              Stakes\r\n            </SortText>\r\n            <SortText\r\n              onClick={() => {\r\n                setTxFilter(TransactionType.BURN)\r\n              }}\r\n              active={txFilter === TransactionType.BURN}\r\n            >\r\n              Unstakes\r\n            </SortText>\r\n          </RowFixed>\r\n          <ClickableText color={theme.text2} onClick={() => handleSort(SORT_FIELD.tokenId)} end={1}>\r\n            NFT {arrow(SORT_FIELD.tokenId)}\r\n          </ClickableText>\r\n          <ClickableText color={theme.text2} end={1}>\r\n            Pool\r\n          </ClickableText>\r\n          <ClickableText color={theme.text2} end={1} onClick={() => handleSort(SORT_FIELD.totalValueLocked)}>\r\n            TVL {arrow(SORT_FIELD.totalValueLocked)}\r\n          </ClickableText>\r\n          {/* <ClickableText color={theme.text2} end={1} onClick={() => handleSort(SORT_FIELD.amountToken1)}>\r\n            Token Amount {arrow(SORT_FIELD.amountToken1)}\r\n          </ClickableText> */}\r\n          <ClickableText color={theme.text2} end={1} onClick={() => handleSort(SORT_FIELD.staker)}>\r\n            Staker {arrow(SORT_FIELD.staker)}\r\n          </ClickableText>\r\n          <ClickableText color={theme.text2} end={1} onClick={() => handleSort(SORT_FIELD.stakeTime)}>\r\n            Time {arrow(SORT_FIELD.stakeTime)}\r\n          </ClickableText>\r\n        </ResponsiveGrid>\r\n        <Break />\r\n        {console.log('SORT txn ======', sortedTransactions)}\r\n        {sortedTransactions.map((t, i) => {\r\n          if (t) {\r\n            return (\r\n              <React.Fragment key={i}>\r\n                <DataRow transaction={t} color={color} />\r\n                <Break />\r\n              </React.Fragment>\r\n            )\r\n          }\r\n          return null\r\n        })}\r\n        {sortedTransactions.length === 0 ? <TYPE.main>No Transactions</TYPE.main> : undefined}\r\n        <PageButtons>\r\n          <div\r\n            onClick={() => {\r\n              setPage(page === 1 ? page : page - 1)\r\n            }}\r\n          >\r\n            <Arrow faded={page === 1 ? true : false}>â†</Arrow>\r\n          </div>\r\n          <TYPE.body>{'Page ' + page + ' of ' + maxPage}</TYPE.body>\r\n          <div\r\n            onClick={() => {\r\n              setPage(page === maxPage ? page : page + 1)\r\n            }}\r\n          >\r\n            <Arrow faded={page === maxPage ? true : false}>â†’</Arrow>\r\n          </div>\r\n        </PageButtons>\r\n      </AutoColumn>\r\n    </Wrapper>\r\n  )\r\n}\r\n","import React, { useState, useEffect, useMemo } from 'react'\r\nimport styled from 'styled-components'\r\nimport { AutoColumn } from 'components/Column'\r\nimport { TYPE } from 'theme'\r\nimport { ResponsiveRow, RowBetween, RowFixed } from 'components/Row'\r\nimport LineChart from 'components/LineChart/alt'\r\nimport useTheme from 'hooks/useTheme'\r\nimport { useProtocolData, useProtocolChartData, useProtocolTransactions } from 'state/protocol/hooks'\r\nimport { DarkGreyCard } from 'components/Card'\r\nimport { formatDollarAmount } from 'utils/numbers'\r\nimport Percent from 'components/Percent'\r\nimport { HideMedium, HideSmall, StyledInternalLink } from '../../theme/components'\r\nimport TokenTable from 'components/tokens/TokenTable'\r\nimport PoolTable from 'components/pools/PoolTable'\r\nimport { PageWrapper, ThemedBackgroundGlobal } from 'pages/styled'\r\nimport { unixToDate } from 'utils/date'\r\nimport BarChart from 'components/BarChart/alt'\r\nimport { useAllPoolData } from 'state/pools/hooks'\r\nimport { notEmpty } from 'utils'\r\nimport TransactionsTable from '../../components/TransactionsTable'\r\nimport { useAllTokenData } from 'state/tokens/hooks'\r\nimport { MonoSpace } from 'components/shared'\r\nimport dayjs from 'dayjs'\r\n\r\nconst ChartWrapper = styled.div`\r\n  width: 49%;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    width: 100%;\r\n  `};\r\n`\r\n\r\nexport default function Home() {\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [])\r\n\r\n  const theme = useTheme()\r\n\r\n  const [protocolData] = useProtocolData()\r\n  const [chartData] = useProtocolChartData()\r\n  const [transactions] = useProtocolTransactions()\r\n  // console.log('Protocol DATA=========', protocolData)\r\n  const [volumeHover, setVolumeHover] = useState<number | undefined>()\r\n  const [liquidityHover, setLiquidityHover] = useState<number | undefined>()\r\n  const [leftLabel, setLeftLabel] = useState<string | undefined>()\r\n  const [rightLabel, setRightLabel] = useState<string | undefined>()\r\n\r\n  // get all the pool datas that exist\r\n  const allPoolData = useAllPoolData()\r\n  const poolDatas = useMemo(() => {\r\n    return Object.values(allPoolData)\r\n      .map((p) => p.data)\r\n      .filter(notEmpty)\r\n  }, [allPoolData])\r\n  // console.log('TXNNNNNNNNNNNNNNNNNNNNN=====', transactions)\r\n  // if hover value undefined, reset to current day value\r\n  // useEffect(() => {\r\n  //   if (!volumeHover && protocolData) {\r\n  //     setVolumeHover(protocolData.volumeUSD)\r\n  //   }\r\n  // }, [protocolData, volumeHover])\r\n  // useEffect(() => {\r\n  //   if (!liquidityHover && protocolData) {\r\n  //     setLiquidityHover(protocolData.tvlUSD)\r\n  //   }\r\n  // }, [liquidityHover, protocolData])\r\n\r\n  const formattedTvlData = useMemo(() => {\r\n    if (chartData) {\r\n      return chartData.map((day) => {\r\n        return {\r\n          time: unixToDate(day.date),\r\n          value: day.tvlUSD,\r\n        }\r\n      })\r\n    } else {\r\n      return []\r\n    }\r\n  }, [chartData])\r\n\r\n  const formattedVolumeData = useMemo(() => {\r\n    if (chartData) {\r\n      return chartData.map((day) => {\r\n        return {\r\n          time: unixToDate(day.date),\r\n          value: day.aquaPremiumUSD,\r\n        }\r\n      })\r\n    } else {\r\n      return []\r\n    }\r\n  }, [chartData])\r\n\r\n  const allTokens = useAllTokenData()\r\n\r\n  const formattedTokens = useMemo(() => {\r\n    return Object.values(allTokens)\r\n      .map((t) => t.data)\r\n      .filter(notEmpty)\r\n  }, [allTokens])\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <ThemedBackgroundGlobal backgroundColor={'#71cbc7'} />\r\n      <AutoColumn gap=\"16px\">\r\n        <TYPE.main>Uniswap Overview</TYPE.main>\r\n        <ResponsiveRow>\r\n          <ChartWrapper>\r\n            <LineChart\r\n              data={formattedTvlData}\r\n              height={220}\r\n              minHeight={332}\r\n              color={theme.pink1}\r\n              value={liquidityHover}\r\n              label={leftLabel}\r\n              setValue={setLiquidityHover}\r\n              setLabel={setLeftLabel}\r\n              topLeft={\r\n                <AutoColumn gap=\"4px\">\r\n                  <TYPE.mediumHeader fontSize=\"16px\">TVL</TYPE.mediumHeader>\r\n                  <TYPE.largeHeader fontSize=\"32px\">\r\n                    <MonoSpace>{formatDollarAmount(liquidityHover, 2, true)} </MonoSpace>\r\n                  </TYPE.largeHeader>\r\n                  <TYPE.main fontSize=\"12px\" height=\"14px\">\r\n                    {leftLabel ? (\r\n                      <MonoSpace>{leftLabel}</MonoSpace>\r\n                    ) : (\r\n                      <MonoSpace>{dayjs.utc().format('MMM D, YYYY')}</MonoSpace>\r\n                    )}\r\n                  </TYPE.main>\r\n                </AutoColumn>\r\n              }\r\n            />\r\n          </ChartWrapper>\r\n          <ChartWrapper>\r\n            <BarChart\r\n              height={220}\r\n              minHeight={332}\r\n              data={formattedVolumeData}\r\n              color={theme.blue1}\r\n              setValue={setVolumeHover}\r\n              setLabel={setRightLabel}\r\n              value={volumeHover}\r\n              label={rightLabel}\r\n              topLeft={\r\n                <AutoColumn gap=\"4px\">\r\n                  <TYPE.mediumHeader fontSize=\"16px\">Aqua Premium</TYPE.mediumHeader>\r\n                  <TYPE.largeHeader fontSize=\"32px\">\r\n                    <MonoSpace> {formatDollarAmount(volumeHover, 2)}</MonoSpace>\r\n                  </TYPE.largeHeader>\r\n                  <TYPE.main fontSize=\"12px\" height=\"14px\">\r\n                    {rightLabel ? (\r\n                      <MonoSpace>{rightLabel}</MonoSpace>\r\n                    ) : (\r\n                      <MonoSpace>{dayjs.utc().format('MMM D, YYYY')}</MonoSpace>\r\n                    )}\r\n                  </TYPE.main>\r\n                </AutoColumn>\r\n              }\r\n            />\r\n          </ChartWrapper>\r\n        </ResponsiveRow>\r\n        <HideSmall>\r\n          <DarkGreyCard>\r\n            <RowBetween>\r\n              <RowFixed>\r\n                <RowFixed mr=\"20px\">\r\n                  <TYPE.main mr=\"4px\">TVL: </TYPE.main>\r\n                  <TYPE.label mr=\"4px\">{formatDollarAmount(protocolData?.tvlUSD)}</TYPE.label>\r\n                  <TYPE.main></TYPE.main>\r\n                  <Percent value={protocolData?.activeTvlUSD} wrap={true} />\r\n                </RowFixed>\r\n                <RowFixed mr=\"20px\">\r\n                  <TYPE.main mr=\"4px\">Active TVL : </TYPE.main>\r\n                  <TYPE.label mr=\"4px\">{formatDollarAmount(protocolData?.activeTvlUSD)}</TYPE.label>\r\n                  <Percent value={protocolData?.activeTvlUSDChange} wrap={true} />\r\n                </RowFixed>\r\n                <HideMedium>\r\n                  <RowFixed mr=\"20px\">\r\n                    <TYPE.main mr=\"4px\">Aqua Premium </TYPE.main>\r\n                    <TYPE.label mr=\"4px\">{formatDollarAmount(protocolData?.aquaPremiumUSD)}</TYPE.label>\r\n                    <Percent value={protocolData?.aquaPremiumChange} wrap={true} />\r\n                  </RowFixed>\r\n                </HideMedium>\r\n              </RowFixed>\r\n            </RowBetween>\r\n          </DarkGreyCard>\r\n        </HideSmall>\r\n        {/* <RowBetween>\r\n          <TYPE.main>Top Tokens</TYPE.main>\r\n          <StyledInternalLink to=\"/tokens\">Explore</StyledInternalLink>\r\n        </RowBetween>\r\n        <TokenTable tokenDatas={formattedTokens} /> */}\r\n        <RowBetween>\r\n          <TYPE.main>Top Pools</TYPE.main>\r\n          <StyledInternalLink to=\"/pools\">Explore</StyledInternalLink>\r\n        </RowBetween>\r\n        <PoolTable poolDatas={poolDatas} />\r\n        <RowBetween>\r\n          <TYPE.main>Transactions</TYPE.main>\r\n        </RowBetween>\r\n        {transactions ? <TransactionsTable transactions={transactions} /> : null}\r\n      </AutoColumn>\r\n    </PageWrapper>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Protocol() {\r\n  return <div></div>\r\n}\r\n","import React, { useEffect, useMemo } from 'react'\r\nimport { PageWrapper } from 'pages/styled'\r\nimport { AutoColumn } from 'components/Column'\r\nimport { TYPE } from 'theme'\r\nimport PoolTable from 'components/pools/PoolTable'\r\nimport { useAllPoolData, usePoolDatas } from 'state/pools/hooks'\r\nimport { notEmpty } from 'utils'\r\nimport { useSavedPools } from 'state/user/hooks'\r\nimport { DarkGreyCard } from 'components/Card'\r\n// import TopPoolMovers from 'components/pools/TopPoolMovers'\r\n\r\nexport default function PoolPage() {\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [])\r\n\r\n  // get all the pool datas that exist\r\n  const allPoolData = useAllPoolData()\r\n  const poolDatas = useMemo(() => {\r\n    return Object.values(allPoolData)\r\n      .map((p) => p.data)\r\n      .filter(notEmpty)\r\n  }, [allPoolData])\r\n\r\n  const [savedPools] = useSavedPools()\r\n  const watchlistPools = usePoolDatas(savedPools)\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <AutoColumn gap=\"lg\">\r\n        <TYPE.main>Your Watchlist</TYPE.main>\r\n        {watchlistPools.length > 0 ? (\r\n          <PoolTable poolDatas={watchlistPools} />\r\n        ) : (\r\n          <DarkGreyCard>\r\n            <TYPE.main>Saved pools will appear here</TYPE.main>\r\n          </DarkGreyCard>\r\n        )}\r\n        {/* <HideSmall>\r\n          <DarkGreyCard style={{ paddingTop: '12px' }}>\r\n            <AutoColumn gap=\"md\">\r\n              <TYPE.mediumHeader fontSize=\"16px\">Trending by 24H Volume</TYPE.mediumHeader>\r\n              <TopPoolMovers />\r\n            </AutoColumn>\r\n          </DarkGreyCard>\r\n        </HideSmall> */}\r\n        <TYPE.main>All Pools</TYPE.main>\r\n        <PoolTable poolDatas={poolDatas} />\r\n      </AutoColumn>\r\n    </PageWrapper>\r\n  )\r\n}\r\n","import React, { useState, useMemo, useCallback, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { ExtraSmallOnly, HideExtraSmall, TYPE } from 'theme'\r\nimport { DarkGreyCard } from 'components/Card'\r\nimport { TokenData } from '../../state/tokens/reducer'\r\nimport Loader, { LoadingRows } from 'components/Loader'\r\nimport { Link } from 'react-router-dom'\r\nimport { AutoColumn } from 'components/Column'\r\nimport CurrencyLogo from 'components/CurrencyLogo'\r\nimport { RowFixed } from 'components/Row'\r\nimport { formatDollarAmount } from 'utils/numbers'\r\nimport Percent from 'components/Percent'\r\nimport { Label, ClickableText } from '../Text'\r\nimport { PageButtons, Arrow, Break } from 'components/shared'\r\nimport HoverInlineText from '../HoverInlineText'\r\nimport useTheme from 'hooks/useTheme'\r\nimport { TOKEN_HIDE } from '../../constants/index'\r\n\r\nconst Wrapper = styled(DarkGreyCard)`\r\n  width: 100%;\r\n`\r\n\r\nconst ResponsiveGrid = styled.div`\r\n  display: grid;\r\n  grid-gap: 1em;\r\n  align-items: center;\r\n\r\n  grid-template-columns: 20px 3fr repeat(4, 1fr);\r\n\r\n  @media screen and (max-width: 900px) {\r\n    grid-template-columns: 20px 1.5fr repeat(3, 1fr);\r\n    & :nth-child(4) {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 800px) {\r\n    grid-template-columns: 20px 1.5fr repeat(2, 1fr);\r\n    & :nth-child(6) {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 670px) {\r\n    grid-template-columns: repeat(2, 1fr);\r\n    > *:first-child {\r\n      display: none;\r\n    }\r\n    > *:nth-child(3) {\r\n      display: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst LinkWrapper = styled(Link)`\r\n  text-decoration: none;\r\n  :hover {\r\n    cursor: pointer;\r\n    opacity: 0.7;\r\n  }\r\n`\r\n\r\nconst ResponsiveLogo = styled(CurrencyLogo)`\r\n  @media screen and (max-width: 670px) {\r\n    width: 16px;\r\n    height: 16px;\r\n  }\r\n`\r\n\r\nconst DataRow = ({ tokenData, index }: { tokenData: TokenData; index: number }) => {\r\n  const theme = useTheme()\r\n  return (\r\n    <LinkWrapper to={'tokens/' + tokenData.address}>\r\n      <ResponsiveGrid>\r\n        <Label>{index + 1}</Label>\r\n        <Label>\r\n          <RowFixed>\r\n            <ResponsiveLogo address={tokenData.address} />\r\n          </RowFixed>\r\n          <ExtraSmallOnly style={{ marginLeft: '6px' }}>\r\n            <Label ml=\"8px\">{tokenData.symbol}</Label>\r\n          </ExtraSmallOnly>\r\n          <HideExtraSmall style={{ marginLeft: '10px' }}>\r\n            <RowFixed>\r\n              <HoverInlineText text={tokenData.name} />\r\n              <Label ml=\"8px\" color={theme.text3}>\r\n                ({tokenData.symbol})\r\n              </Label>\r\n            </RowFixed>\r\n          </HideExtraSmall>\r\n        </Label>\r\n        <Label end={1} fontWeight={400}>\r\n          {formatDollarAmount(tokenData.priceUSD)}\r\n        </Label>\r\n        <Label end={1} fontWeight={400}>\r\n          <Percent value={tokenData.priceUSDChange} fontWeight={400} />\r\n        </Label>\r\n        <Label end={1} fontWeight={400}>\r\n          {formatDollarAmount(tokenData.volumeUSD)}\r\n        </Label>\r\n        <Label end={1} fontWeight={400}>\r\n          {formatDollarAmount(tokenData.tvlUSD)}\r\n        </Label>\r\n      </ResponsiveGrid>\r\n    </LinkWrapper>\r\n  )\r\n}\r\n\r\nconst SORT_FIELD = {\r\n  name: 'name',\r\n  volumeUSD: 'volumeUSD',\r\n  tvlUSD: 'tvlUSD',\r\n  priceUSD: 'priceUSD',\r\n  priceUSDChange: 'priceUSDChange',\r\n  priceUSDChangeWeek: 'priceUSDChangeWeek',\r\n}\r\n\r\nconst MAX_ITEMS = 10\r\n\r\nexport default function TokenTable({\r\n  tokenDatas,\r\n  maxItems = MAX_ITEMS,\r\n}: {\r\n  tokenDatas: TokenData[] | undefined\r\n  maxItems?: number\r\n}) {\r\n  // theming\r\n  const theme = useTheme()\r\n\r\n  // for sorting\r\n  const [sortField, setSortField] = useState(SORT_FIELD.tvlUSD)\r\n  const [sortDirection, setSortDirection] = useState<boolean>(true)\r\n\r\n  // pagination\r\n  const [page, setPage] = useState(1)\r\n  const [maxPage, setMaxPage] = useState(1)\r\n  useEffect(() => {\r\n    let extraPages = 1\r\n    if (tokenDatas) {\r\n      if (tokenDatas.length % maxItems === 0) {\r\n        extraPages = 0\r\n      }\r\n      setMaxPage(Math.floor(tokenDatas.length / maxItems) + extraPages)\r\n    }\r\n  }, [maxItems, tokenDatas])\r\n\r\n  const sortedTokens = useMemo(() => {\r\n    return tokenDatas\r\n      ? tokenDatas\r\n          .filter((x) => !!x && !TOKEN_HIDE.includes(x.address))\r\n          .sort((a, b) => {\r\n            if (a && b) {\r\n              return a[sortField as keyof TokenData] > b[sortField as keyof TokenData]\r\n                ? (sortDirection ? -1 : 1) * 1\r\n                : (sortDirection ? -1 : 1) * -1\r\n            } else {\r\n              return -1\r\n            }\r\n          })\r\n          .slice(maxItems * (page - 1), page * maxItems)\r\n      : []\r\n  }, [tokenDatas, maxItems, page, sortDirection, sortField])\r\n\r\n  const handleSort = useCallback(\r\n    (newField: string) => {\r\n      setSortField(newField)\r\n      setSortDirection(sortField !== newField ? true : !sortDirection)\r\n    },\r\n    [sortDirection, sortField]\r\n  )\r\n\r\n  const arrow = useCallback(\r\n    (field: string) => {\r\n      return sortField === field ? (!sortDirection ? 'â†‘' : 'â†“') : ''\r\n    },\r\n    [sortDirection, sortField]\r\n  )\r\n\r\n  if (!tokenDatas) {\r\n    return <Loader />\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      {sortedTokens.length > 0 ? (\r\n        <AutoColumn gap=\"16px\">\r\n          <ResponsiveGrid>\r\n            <Label color={theme.text2}>#</Label>\r\n            <ClickableText color={theme.text2} onClick={() => handleSort(SORT_FIELD.name)}>\r\n              Name {arrow(SORT_FIELD.name)}\r\n            </ClickableText>\r\n            <ClickableText color={theme.text2} end={1} onClick={() => handleSort(SORT_FIELD.priceUSD)}>\r\n              Price {arrow(SORT_FIELD.priceUSD)}\r\n            </ClickableText>\r\n            <ClickableText color={theme.text2} end={1} onClick={() => handleSort(SORT_FIELD.priceUSDChange)}>\r\n              Price Change {arrow(SORT_FIELD.priceUSDChange)}\r\n            </ClickableText>\r\n            {/* <ClickableText end={1} onClick={() => handleSort(SORT_FIELD.priceUSDChangeWeek)}>\r\n            7d {arrow(SORT_FIELD.priceUSDChangeWeek)}\r\n          </ClickableText> */}\r\n            <ClickableText color={theme.text2} end={1} onClick={() => handleSort(SORT_FIELD.volumeUSD)}>\r\n              Volume 24H {arrow(SORT_FIELD.volumeUSD)}\r\n            </ClickableText>\r\n            <ClickableText color={theme.text2} end={1} onClick={() => handleSort(SORT_FIELD.tvlUSD)}>\r\n              TVL {arrow(SORT_FIELD.tvlUSD)}\r\n            </ClickableText>\r\n          </ResponsiveGrid>\r\n\r\n          <Break />\r\n          {sortedTokens.map((data, i) => {\r\n            if (data) {\r\n              return (\r\n                <React.Fragment key={i}>\r\n                  <DataRow index={(page - 1) * MAX_ITEMS + i} tokenData={data} />\r\n                  <Break />\r\n                </React.Fragment>\r\n              )\r\n            }\r\n            return null\r\n          })}\r\n          <PageButtons>\r\n            <div\r\n              onClick={() => {\r\n                setPage(page === 1 ? page : page - 1)\r\n              }}\r\n            >\r\n              <Arrow faded={page === 1 ? true : false}>â†</Arrow>\r\n            </div>\r\n            <TYPE.body>{'Page ' + page + ' of ' + maxPage}</TYPE.body>\r\n            <div\r\n              onClick={() => {\r\n                setPage(page === maxPage ? page : page + 1)\r\n              }}\r\n            >\r\n              <Arrow faded={page === maxPage ? true : false}>â†’</Arrow>\r\n            </div>\r\n          </PageButtons>\r\n        </AutoColumn>\r\n      ) : (\r\n        <LoadingRows>\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n        </LoadingRows>\r\n      )}\r\n    </Wrapper>\r\n  )\r\n}\r\n","import React, { useMemo, useRef, useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useAllTokenData } from 'state/tokens/hooks'\r\nimport { GreyCard } from 'components/Card'\r\nimport { TokenData } from 'state/tokens/reducer'\r\nimport { AutoColumn } from 'components/Column'\r\nimport { RowFixed, RowFlat } from 'components/Row'\r\nimport CurrencyLogo from 'components/CurrencyLogo'\r\nimport { TYPE, StyledInternalLink } from 'theme'\r\nimport { formatDollarAmount } from 'utils/numbers'\r\nimport Percent from 'components/Percent'\r\nimport HoverInlineText from 'components/HoverInlineText'\r\n\r\nconst CardWrapper = styled(StyledInternalLink)`\r\n  min-width: 190px;\r\n  margin-right: 16px;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n`\r\n\r\nconst FixedContainer = styled(AutoColumn)``\r\n\r\nexport const ScrollableRow = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n  overflow-x: auto;\r\n  white-space: nowrap;\r\n\r\n  ::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst DataCard = ({ tokenData }: { tokenData: TokenData }) => {\r\n  return (\r\n    <CardWrapper to={'tokens/' + tokenData.address}>\r\n      <GreyCard padding=\"16px\">\r\n        <RowFixed>\r\n          <CurrencyLogo address={tokenData.address} size=\"32px\" />\r\n          <AutoColumn gap=\"3px\" style={{ marginLeft: '12px' }}>\r\n            <TYPE.label fontSize=\"14px\">\r\n              <HoverInlineText text={tokenData.symbol} />\r\n            </TYPE.label>\r\n            <RowFlat>\r\n              <TYPE.label fontSize=\"14px\" mr=\"6px\" lineHeight=\"16px\">\r\n                {formatDollarAmount(tokenData.priceUSD)}\r\n              </TYPE.label>\r\n              <Percent fontSize=\"14px\" value={tokenData.priceUSDChange} />\r\n            </RowFlat>\r\n          </AutoColumn>\r\n        </RowFixed>\r\n      </GreyCard>\r\n    </CardWrapper>\r\n  )\r\n}\r\n\r\nexport default function TopTokenMovers() {\r\n  const allTokens = useAllTokenData()\r\n\r\n  const topPriceIncrease = useMemo(() => {\r\n    return Object.values(allTokens)\r\n      .sort(({ data: a }, { data: b }) => {\r\n        return a && b ? (Math.abs(a?.priceUSDChange) > Math.abs(b?.priceUSDChange) ? -1 : 1) : -1\r\n      })\r\n      .slice(0, Math.min(20, Object.values(allTokens).length))\r\n  }, [allTokens])\r\n\r\n  const increaseRef = useRef<HTMLDivElement>(null)\r\n  const [increaseSet, setIncreaseSet] = useState(false)\r\n  // const [pauseAnimation, setPauseAnimation] = useState(false)\r\n  // const [resetInterval, setClearInterval] = useState<() => void | undefined>()\r\n\r\n  useEffect(() => {\r\n    if (!increaseSet && increaseRef && increaseRef.current) {\r\n      setInterval(() => {\r\n        if (increaseRef.current && increaseRef.current.scrollLeft !== increaseRef.current.scrollWidth) {\r\n          increaseRef.current.scrollTo(increaseRef.current.scrollLeft + 1, 0)\r\n        }\r\n      }, 30)\r\n      setIncreaseSet(true)\r\n    }\r\n  }, [increaseRef, increaseSet])\r\n\r\n  // function handleHover() {\r\n  //   if (resetInterval) {\r\n  //     resetInterval()\r\n  //   }\r\n  //   setPauseAnimation(true)\r\n  // }\r\n\r\n  return (\r\n    <FixedContainer gap=\"md\">\r\n      <ScrollableRow ref={increaseRef}>\r\n        {topPriceIncrease.map((entry) =>\r\n          entry.data ? <DataCard key={'top-card-token-' + entry.data?.address} tokenData={entry.data} /> : null\r\n        )}\r\n      </ScrollableRow>\r\n    </FixedContainer>\r\n  )\r\n}\r\n","import React, { useMemo, useEffect } from 'react'\r\nimport { PageWrapper } from 'pages/styled'\r\nimport { AutoColumn } from 'components/Column'\r\nimport { TYPE, HideSmall } from 'theme'\r\nimport TokenTable from 'components/tokens/TokenTable'\r\nimport { useAllTokenData, useTokenDatas } from 'state/tokens/hooks'\r\nimport { notEmpty } from 'utils'\r\nimport { useSavedTokens } from 'state/user/hooks'\r\nimport { DarkGreyCard } from 'components/Card'\r\nimport TopTokenMovers from 'components/tokens/TopTokenMovers'\r\n\r\nexport default function TokensOverview() {\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [])\r\n\r\n  const allTokens = useAllTokenData()\r\n\r\n  const formattedTokens = useMemo(() => {\r\n    return Object.values(allTokens)\r\n      .map((t) => t.data)\r\n      .filter(notEmpty)\r\n  }, [allTokens])\r\n\r\n  const [savedTokens] = useSavedTokens()\r\n  const watchListTokens = useTokenDatas(savedTokens)\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <AutoColumn gap=\"lg\">\r\n        <TYPE.main>Your Watchlist</TYPE.main>\r\n        {savedTokens.length > 0 ? (\r\n          <TokenTable tokenDatas={watchListTokens} />\r\n        ) : (\r\n          <DarkGreyCard>\r\n            <TYPE.main>Saved tokens will appear here</TYPE.main>\r\n          </DarkGreyCard>\r\n        )}\r\n        <HideSmall>\r\n          <DarkGreyCard style={{ paddingTop: '12px' }}>\r\n            <AutoColumn gap=\"md\">\r\n              <TYPE.mediumHeader fontSize=\"16px\">Top Movers</TYPE.mediumHeader>\r\n              <TopTokenMovers />\r\n            </AutoColumn>\r\n          </DarkGreyCard>\r\n        </HideSmall>\r\n        <TYPE.main>All Tokens</TYPE.main>\r\n        <TokenTable tokenDatas={formattedTokens} />\r\n      </AutoColumn>\r\n    </PageWrapper>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport styled, { keyframes } from 'styled-components'\r\nimport { TYPE, ExternalLink } from '../../theme'\r\n\r\nimport { useSubgraphStatus } from '../../state/application/hooks'\r\nimport { getEtherscanLink } from '../../utils'\r\nimport useTheme from 'hooks/useTheme'\r\n\r\nconst StyledPolling = styled.div`\r\n  display: flex;\r\n  color: white;\r\n  margin-right: 1rem;\r\n  border-radius: 4px;\r\n  width: 192px;\r\n  padding: 4px;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  transition: opacity 0.25s ease;\r\n  color: ${({ theme }) => theme.green1};\r\n  :hover {\r\n    opacity: 1;\r\n  }\r\n  z-index: 9999;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    display: none;\r\n  `}\r\n`\r\nconst StyledPollingDot = styled.div`\r\n  width: 8px;\r\n  height: 8px;\r\n  min-height: 8px;\r\n  min-width: 8px;\r\n  margin-left: 0.4rem;\r\n  margin-top: 3px;\r\n  border-radius: 50%;\r\n  position: relative;\r\n  background-color: ${({ theme }) => theme.green1};\r\n`\r\n\r\nconst rotate360 = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`\r\n\r\nconst Spinner = styled.div`\r\n  animation: ${rotate360} 1s cubic-bezier(0.83, 0, 0.17, 1) infinite;\r\n  transform: translateZ(0);\r\n  border-top: 1px solid transparent;\r\n  border-right: 1px solid transparent;\r\n  border-bottom: 1px solid transparent;\r\n  border-left: 2px solid ${({ theme }) => theme.green1};\r\n  background: transparent;\r\n  width: 14px;\r\n  height: 14px;\r\n  border-radius: 50%;\r\n  position: relative;\r\n  left: -3px;\r\n  top: -3px;\r\n`\r\n\r\nexport default function Polling() {\r\n  const theme = useTheme()\r\n\r\n  const [status] = useSubgraphStatus()\r\n\r\n  const [isMounted, setIsMounted] = useState(true)\r\n\r\n  const latestBlock = status.syncedBlock\r\n\r\n  useEffect(\r\n    () => {\r\n      const timer1 = setTimeout(() => setIsMounted(true), 1000)\r\n\r\n      // this will clear Timeout when component unmount like in willComponentUnmount\r\n      return () => {\r\n        setIsMounted(false)\r\n        clearTimeout(timer1)\r\n      }\r\n    },\r\n    [status] //useEffect will run only one time\r\n    //if you pass a value to array, like this [data] than clearTimeout will run every time this value changes (useEffect re-run)\r\n  )\r\n\r\n  return (\r\n    <ExternalLink href={latestBlock ? getEtherscanLink(1, latestBlock.toString(), 'block') : ''}>\r\n      <StyledPolling>\r\n        <TYPE.small mr=\"4px\" color={theme.text3}>\r\n          Latest synced block:{' '}\r\n        </TYPE.small>\r\n        <TYPE.small style={{ opacity: isMounted ? '0.6' : '0.8' }}>{latestBlock}</TYPE.small>\r\n        <StyledPollingDot>{!isMounted && <Spinner />}</StyledPollingDot>\r\n      </StyledPolling>\r\n    </ExternalLink>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { RowBetween, RowFixed, AutoRow } from 'components/Row'\r\nimport { TYPE, ExternalLink } from 'theme'\r\nimport { useEthPrices } from 'hooks/useEthPrices'\r\nimport { formatDollarAmount } from 'utils/numbers'\r\nimport { changeProtocol } from '../../state/user/actions'\r\nimport { AppDispatch } from '../../state/index'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport Polling from './Polling'\r\nimport { fontSize } from 'styled-system'\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  background-color: ${({ theme }) => theme.black};\r\n  padding: 10px 20px;\r\n`\r\n\r\nconst Item = styled(TYPE.main)`\r\n  font-size: 12px;\r\n`\r\n\r\nconst StyledLink = styled(ExternalLink)`\r\n  font-size: 12px;\r\n  color: ${({ theme }) => theme.text1};\r\n`\r\n\r\nconst TopBar = () => {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  const ethPrices = useEthPrices()\r\n\r\n  return (\r\n    <Wrapper>\r\n      <RowBetween>\r\n        <Polling />\r\n        <AutoRow gap=\"6px\">\r\n          <RowFixed>\r\n            <Item>ETH Price:</Item>\r\n            <Item fontWeight=\"700\" ml=\"4px\">\r\n              {formatDollarAmount(ethPrices?.current)}\r\n            </Item>\r\n          </RowFixed>\r\n        </AutoRow>\r\n        <AutoRow gap=\"6px\" style={{ justifyContent: 'flex-end' }}>\r\n          <span style={{ cursor: 'pointer', fontSize: '12px' }} onClick={() => dispatch(changeProtocol('v277'))}>\r\n            V2 Analytics\r\n          </span>\r\n          <StyledLink href=\"https://docs.uniswap.org/\">Docs</StyledLink>\r\n          <StyledLink href=\"https://app.uniswap.org/#/swap\">App</StyledLink>\r\n        </AutoRow>\r\n      </RowBetween>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default TopBar\r\n","import { useState, useLayoutEffect, useMemo } from 'react'\r\nimport { shade } from 'polished'\r\nimport Vibrant from 'node-vibrant'\r\nimport { hex } from 'wcag-contrast'\r\nimport { Token, ChainId } from '@uniswap/sdk-core'\r\nimport uriToHttp from 'utils/uriToHttp'\r\nimport { isAddress } from 'utils'\r\n\r\nasync function getColorFromToken(token: Token): Promise<string | null> {\r\n  if (token.chainId === ChainId.RINKEBY && token.address === '0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735') {\r\n    return Promise.resolve('#FAAB14')\r\n  }\r\n\r\n  const path = `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/${token.address}/logo.png`\r\n\r\n  return Vibrant.from(path)\r\n    .getPalette()\r\n    .then((palette) => {\r\n      if (palette?.Vibrant) {\r\n        let detectedHex = palette.Vibrant.hex\r\n        let AAscore = hex(detectedHex, '#FFF')\r\n        while (AAscore < 3) {\r\n          detectedHex = shade(0.005, detectedHex)\r\n          AAscore = hex(detectedHex, '#FFF')\r\n        }\r\n        return detectedHex\r\n      }\r\n      return null\r\n    })\r\n    .catch(() => null)\r\n}\r\n\r\nasync function getColorFromUriPath(uri: string): Promise<string | null> {\r\n  const formattedPath = uriToHttp(uri)[0]\r\n\r\n  return Vibrant.from(formattedPath)\r\n    .getPalette()\r\n    .then((palette) => {\r\n      if (palette?.Vibrant) {\r\n        return palette.Vibrant.hex\r\n      }\r\n      return null\r\n    })\r\n    .catch(() => null)\r\n}\r\n\r\nexport function useColor(address?: string) {\r\n  const [color, setColor] = useState('#71cbf8')\r\n\r\n  const formattedAddress = isAddress(address)\r\n\r\n  const token = useMemo(() => {\r\n    return formattedAddress ? new Token(1, formattedAddress, 0) : undefined\r\n  }, [formattedAddress])\r\n\r\n  useLayoutEffect(() => {\r\n    let stale = false\r\n\r\n    if (token) {\r\n      getColorFromToken(token).then((tokenColor) => {\r\n        if (!stale && tokenColor !== null) {\r\n          setColor(tokenColor)\r\n        }\r\n      })\r\n    }\r\n\r\n    return () => {\r\n      stale = true\r\n      setColor('#71cbf8')\r\n    }\r\n  }, [token])\r\n\r\n  return color\r\n}\r\n\r\nexport function useListColor(listImageUri?: string) {\r\n  const [color, setColor] = useState('#71cbf8')\r\n\r\n  useLayoutEffect(() => {\r\n    let stale = false\r\n\r\n    if (listImageUri) {\r\n      getColorFromUriPath(listImageUri).then((color) => {\r\n        if (!stale && color !== null) {\r\n          setColor(color)\r\n        }\r\n      })\r\n    }\r\n\r\n    return () => {\r\n      stale = true\r\n      setColor('#71cbf8')\r\n    }\r\n  }, [listImageUri])\r\n\r\n  return color\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst ToggleElement = styled.span<{ isActive?: boolean; isOnSwitch?: boolean }>`\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 14px;\r\n  background: ${({ theme, isActive, isOnSwitch }) => (isActive ? (isOnSwitch ? theme.primary1 : theme.text4) : 'none')};\r\n  color: ${({ theme, isActive, isOnSwitch }) => (isActive ? (isOnSwitch ? theme.white : theme.text2) : theme.text3)};\r\n  font-size: 1rem;\r\n  font-weight: 400;\r\n\r\n  padding: 0.35rem 0.6rem;\r\n  border-radius: 12px;\r\n  background: ${({ theme, isActive, isOnSwitch }) => (isActive ? (isOnSwitch ? theme.primary1 : theme.text4) : 'none')};\r\n  color: ${({ theme, isActive, isOnSwitch }) => (isActive ? (isOnSwitch ? theme.white : theme.text2) : theme.text2)};\r\n  font-size: 1rem;\r\n  font-weight: ${({ isOnSwitch }) => (isOnSwitch ? '500' : '400')};\r\n  :hover {\r\n    user-select: ${({ isOnSwitch }) => (isOnSwitch ? 'none' : 'initial')};\r\n    background: ${({ theme, isActive, isOnSwitch }) =>\r\n      isActive ? (isOnSwitch ? theme.primary1 : theme.text3) : 'none'};\r\n    color: ${({ theme, isActive, isOnSwitch }) => (isActive ? (isOnSwitch ? theme.white : theme.text2) : theme.text3)};\r\n  }\r\n`\r\n\r\nconst StyledToggle = styled.button<{ isActive?: boolean; activeElement?: boolean }>`\r\n  border-radius: 12px;\r\n  border: none;\r\n  background: ${({ theme }) => theme.bg3};\r\n  display: flex;\r\n  width: fit-content;\r\n  cursor: pointer;\r\n  outline: none;\r\n  padding: 0;\r\n`\r\n\r\nexport interface ToggleProps {\r\n  id?: string\r\n  isActive: boolean\r\n  toggle: () => void\r\n}\r\n\r\nexport default function Toggle({ id, isActive, toggle }: ToggleProps) {\r\n  return (\r\n    <StyledToggle id={id} isActive={isActive} onClick={toggle}>\r\n      <ToggleElement isActive={isActive} isOnSwitch={true}>\r\n        On\r\n      </ToggleElement>\r\n      <ToggleElement isActive={!isActive} isOnSwitch={false}>\r\n        Off\r\n      </ToggleElement>\r\n    </StyledToggle>\r\n  )\r\n}\r\n\r\nexport const ToggleWrapper = styled.button<{ width?: string }>`\r\n  display: flex;\r\n  align-items: center;\r\n  width: ${({ width }) => width ?? '100%'}\r\n  padding: 1px;\r\n  background: ${({ theme }) => theme.bg2};\r\n  border-radius: 12px;\r\n  border: ${({ theme }) => '2px solid ' + theme.bg2};\r\n  cursor: pointer;\r\n  outline: none;\r\n  color: ${({ theme }) => theme.text2};\r\n\r\n`\r\n\r\nexport const ToggleElementFree = styled.span<{ isActive?: boolean; fontSize?: string }>`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding: 2px 10px;\r\n  border-radius: 12px;\r\n  justify-content: center;\r\n  height: 100%;\r\n  background: ${({ theme, isActive }) => (isActive ? theme.black : 'none')};\r\n  color: ${({ theme, isActive }) => (isActive ? theme.text1 : theme.text2)};\r\n  font-size: ${({ fontSize }) => fontSize ?? '1rem'};\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n  :hover {\r\n    user-select: initial;\r\n    color: ${({ theme, isActive }) => (isActive ? theme.text2 : theme.text3)};\r\n  }\r\n  margin-top: 0.5px;\r\n`\r\n","import React, { useRef, useState, useEffect, useCallback, Dispatch, SetStateAction, ReactNode } from 'react'\r\nimport { createChart, IChartApi } from 'lightweight-charts'\r\nimport { RowBetween } from 'components/Row'\r\nimport Card from '../Card'\r\nimport styled from 'styled-components'\r\nimport dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport useTheme from 'hooks/useTheme'\r\n\r\ndayjs.extend(utc)\r\n\r\nconst Wrapper = styled(Card)`\r\n  width: 100%;\r\n  padding: 1rem;\r\n  display: flex;\r\n  background-color: ${({ theme }) => theme.bg0}\r\n  flex-direction: column;\r\n  > * {\r\n    font-size: 1rem;\r\n  }\r\n`\r\n\r\nconst DEFAULT_HEIGHT = 300\r\n\r\nexport type LineChartProps = {\r\n  data: any[]\r\n  color?: string | undefined\r\n  height?: number | undefined\r\n  minHeight?: number\r\n  setValue?: Dispatch<SetStateAction<number | undefined>> // used for value on hover\r\n  setLabel?: Dispatch<SetStateAction<string | undefined>> // used for value label on hover\r\n  topLeft?: ReactNode | undefined\r\n  topRight?: ReactNode | undefined\r\n  bottomLeft?: ReactNode | undefined\r\n  bottomRight?: ReactNode | undefined\r\n} & React.HTMLAttributes<HTMLDivElement>\r\n\r\nconst CandleChart = ({\r\n  data,\r\n  color = '#56B2A4',\r\n  setValue,\r\n  setLabel,\r\n  topLeft,\r\n  topRight,\r\n  bottomLeft,\r\n  bottomRight,\r\n  height = DEFAULT_HEIGHT,\r\n  minHeight = DEFAULT_HEIGHT,\r\n  ...rest\r\n}: LineChartProps) => {\r\n  const theme = useTheme()\r\n  const textColor = theme.text3\r\n  const chartRef = useRef<HTMLDivElement>(null)\r\n  const [chartCreated, setChart] = useState<IChartApi | undefined>()\r\n\r\n  const handleResize = useCallback(() => {\r\n    if (chartCreated && chartRef?.current?.parentElement) {\r\n      chartCreated.resize(chartRef.current.parentElement.clientWidth - 32, height)\r\n      chartCreated.timeScale().fitContent()\r\n      chartCreated.timeScale().scrollToPosition(0, false)\r\n    }\r\n  }, [chartCreated, chartRef, height])\r\n\r\n  // add event listener for resize\r\n  const isClient = typeof window === 'object'\r\n  useEffect(() => {\r\n    if (!isClient) {\r\n      return\r\n    }\r\n    window.addEventListener('resize', handleResize)\r\n    return () => window.removeEventListener('resize', handleResize)\r\n  }, [isClient, chartRef, handleResize]) // Empty array ensures that effect is only run on mount and unmount\r\n\r\n  // if chart not instantiated in canvas, create it\r\n  useEffect(() => {\r\n    if (!chartCreated && data && !!chartRef?.current?.parentElement) {\r\n      const chart = createChart(chartRef.current, {\r\n        height: height,\r\n        width: chartRef.current.parentElement.clientWidth - 32,\r\n        layout: {\r\n          backgroundColor: 'transparent',\r\n          textColor: '#565A69',\r\n          fontFamily: 'Inter var',\r\n        },\r\n        rightPriceScale: {\r\n          scaleMargins: {\r\n            top: 0.1,\r\n            bottom: 0.1,\r\n          },\r\n          borderVisible: false,\r\n        },\r\n        timeScale: {\r\n          borderVisible: false,\r\n          secondsVisible: true,\r\n          tickMarkFormatter: (unixTime: number) => {\r\n            return dayjs.unix(unixTime).format('MM/DD h:mm A')\r\n          },\r\n        },\r\n        watermark: {\r\n          visible: false,\r\n        },\r\n        grid: {\r\n          horzLines: {\r\n            visible: false,\r\n          },\r\n          vertLines: {\r\n            visible: false,\r\n          },\r\n        },\r\n        crosshair: {\r\n          horzLine: {\r\n            visible: false,\r\n            labelVisible: false,\r\n          },\r\n          mode: 1,\r\n          vertLine: {\r\n            visible: true,\r\n            labelVisible: false,\r\n            style: 3,\r\n            width: 1,\r\n            color: '#505050',\r\n            labelBackgroundColor: color,\r\n          },\r\n        },\r\n      })\r\n\r\n      chart.timeScale().fitContent()\r\n      setChart(chart)\r\n    }\r\n  }, [color, chartCreated, data, height, setValue, textColor, theme])\r\n\r\n  useEffect(() => {\r\n    if (chartCreated && data) {\r\n      const series = chartCreated.addCandlestickSeries({\r\n        upColor: 'green',\r\n        downColor: 'red',\r\n        borderDownColor: 'red',\r\n        borderUpColor: 'green',\r\n        wickDownColor: 'red',\r\n        wickUpColor: 'green',\r\n      })\r\n\r\n      series.setData(data)\r\n\r\n      // update the title when hovering on the chart\r\n      chartCreated.subscribeCrosshairMove(function (param) {\r\n        if (\r\n          chartRef?.current &&\r\n          (param === undefined ||\r\n            param.time === undefined ||\r\n            (param && param.point && param.point.x < 0) ||\r\n            (param && param.point && param.point.x > chartRef.current.clientWidth) ||\r\n            (param && param.point && param.point.y < 0) ||\r\n            (param && param.point && param.point.y > height))\r\n        ) {\r\n          // reset values\r\n          setValue && setValue(undefined)\r\n          setLabel && setLabel(undefined)\r\n        } else if (series && param) {\r\n          const timestamp = param.time as number\r\n          const time = dayjs.unix(timestamp).utc().format('MMM D, YYYY h:mm A') + ' (UTC)'\r\n          const parsed = param.seriesPrices.get(series) as { open: number } | undefined\r\n          setValue && setValue(parsed?.open)\r\n          setLabel && setLabel(time)\r\n        }\r\n      })\r\n    }\r\n  }, [chartCreated, color, data, height, setValue, setLabel, theme.bg0])\r\n\r\n  return (\r\n    <Wrapper minHeight={minHeight}>\r\n      <RowBetween>\r\n        {topLeft ?? null}\r\n        {topRight ?? null}\r\n      </RowBetween>\r\n      <div ref={chartRef} id={'candle-chart'} {...rest} />\r\n      <RowBetween>\r\n        {bottomLeft ?? null}\r\n        {bottomRight ?? null}\r\n      </RowBetween>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default CandleChart\r\n","import React, { useMemo, useState, useEffect } from 'react'\r\nimport { RouteComponentProps } from 'react-router-dom'\r\nimport {\r\n  useTokenData,\r\n  usePoolsForToken,\r\n  useTokenChartData,\r\n  useTokenPriceData,\r\n  // useTokenTransactions,\r\n} from 'state/tokens/hooks'\r\nimport styled from 'styled-components'\r\nimport { useColor } from 'hooks/useColor'\r\nimport { ThemedBackground, PageWrapper } from 'pages/styled'\r\nimport { shortenAddress, getEtherscanLink, currentTimestamp } from 'utils'\r\nimport { AutoColumn } from 'components/Column'\r\nimport { RowBetween, RowFixed, AutoRow, RowFlat } from 'components/Row'\r\nimport { TYPE, StyledInternalLink } from 'theme'\r\nimport Loader, { LocalLoader } from 'components/Loader'\r\nimport { ExternalLink, Download } from 'react-feather'\r\nimport { ExternalLink as StyledExternalLink } from '../../theme/components'\r\nimport useTheme from 'hooks/useTheme'\r\nimport CurrencyLogo from 'components/CurrencyLogo'\r\nimport { formatDollarAmount } from 'utils/numbers'\r\nimport Percent from 'components/Percent'\r\nimport { ButtonPrimary, ButtonGray, SavedIcon } from 'components/Button'\r\nimport { DarkGreyCard, LightGreyCard } from 'components/Card'\r\nimport { usePoolDatas } from 'state/pools/hooks'\r\nimport PoolTable from 'components/pools/PoolTable'\r\nimport LineChart from 'components/LineChart/alt'\r\nimport { unixToDate } from 'utils/date'\r\nimport { ToggleWrapper, ToggleElementFree } from 'components/Toggle/index'\r\nimport BarChart from 'components/BarChart/alt'\r\nimport CandleChart from 'components/CandleChart'\r\nimport TransactionTable from 'components/TransactionsTable'\r\nimport { useSavedTokens } from 'state/user/hooks'\r\nimport { ONE_HOUR_SECONDS, TimeWindow } from 'constants/intervals'\r\nimport { MonoSpace } from 'components/shared'\r\nimport dayjs from 'dayjs'\r\n// import { SmallOptionButton } from '../../components/Button'\r\n\r\nconst PriceText = styled(TYPE.label)`\r\n  font-size: 36px;\r\n  line-height: 0.8;\r\n`\r\n\r\nconst ContentLayout = styled.div`\r\n  margin-top: 16px;\r\n  display: grid;\r\n  grid-template-columns: 260px 1fr;\r\n  grid-gap: 1em;\r\n\r\n  @media screen and (max-width: 800px) {\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: 1fr 1fr;\r\n  }\r\n`\r\n\r\nconst ResponsiveRow = styled(RowBetween)`\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    row-gap: 24px;\r\n    width: 100%:\r\n  `};\r\n`\r\n\r\nenum ChartView {\r\n  TVL,\r\n  VOL,\r\n  PRICE,\r\n}\r\n\r\nconst DEFAULT_TIME_WINDOW = TimeWindow.WEEK\r\n\r\nexport default function TokenPage({\r\n  match: {\r\n    params: { address },\r\n  },\r\n}: RouteComponentProps<{ address: string }>) {\r\n  address = address.toLowerCase()\r\n  // theming\r\n  const backgroundColor = useColor(address)\r\n  const theme = useTheme()\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [])\r\n\r\n  const tokenData = useTokenData(address)\r\n  const poolsForToken = usePoolsForToken(address)\r\n  const poolDatas = usePoolDatas(poolsForToken ?? [])\r\n  // const transactions = useTokenTransactions(address)\r\n  const chartData = useTokenChartData(address)\r\n\r\n  // format for chart component\r\n  const formattedTvlData = useMemo(() => {\r\n    if (chartData) {\r\n      return chartData.map((day) => {\r\n        return {\r\n          time: unixToDate(day.date),\r\n          value: day.totalValueLockedUSD,\r\n        }\r\n      })\r\n    } else {\r\n      return []\r\n    }\r\n  }, [chartData])\r\n  const formattedVolumeData = useMemo(() => {\r\n    if (chartData) {\r\n      return chartData.map((day) => {\r\n        return {\r\n          time: unixToDate(day.date),\r\n          value: day.volumeUSD,\r\n        }\r\n      })\r\n    } else {\r\n      return []\r\n    }\r\n  }, [chartData])\r\n\r\n  // chart labels\r\n  const [view, setView] = useState(ChartView.PRICE)\r\n  const [latestValue, setLatestValue] = useState<number | undefined>()\r\n  const [valueLabel, setValueLabel] = useState<string | undefined>()\r\n  const [timeWindow] = useState(DEFAULT_TIME_WINDOW)\r\n\r\n  // pricing data\r\n  const priceData = useTokenPriceData(address, ONE_HOUR_SECONDS, timeWindow)\r\n  const adjustedToCurrent = useMemo(() => {\r\n    if (priceData && tokenData && priceData.length > 0) {\r\n      const adjusted = Object.assign([], priceData)\r\n      adjusted.push({\r\n        time: currentTimestamp() / 1000,\r\n        open: priceData[priceData.length - 1].close,\r\n        close: tokenData?.priceUSD,\r\n        high: tokenData?.priceUSD,\r\n        low: priceData[priceData.length - 1].close,\r\n      })\r\n      return adjusted\r\n    } else {\r\n      return undefined\r\n    }\r\n  }, [priceData, tokenData])\r\n\r\n  // watchlist\r\n  const [savedTokens, addSavedToken] = useSavedTokens()\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <ThemedBackground backgroundColor={backgroundColor} />\r\n      {tokenData ? (\r\n        !tokenData.exists ? (\r\n          <LightGreyCard style={{ textAlign: 'center' }}>\r\n            No pool has been created with this token yet. Create one\r\n            <StyledExternalLink style={{ marginLeft: '4px' }} href={`https://app.uniswap.org/#/add/${address}`}>\r\n              here.\r\n            </StyledExternalLink>\r\n          </LightGreyCard>\r\n        ) : (\r\n          <AutoColumn gap=\"lg\">\r\n            <AutoColumn gap=\"40px\">\r\n              <RowBetween>\r\n                <AutoRow gap=\"4px\">\r\n                  <StyledInternalLink to={'/'}>\r\n                    <TYPE.main>{`Home > `}</TYPE.main>\r\n                  </StyledInternalLink>\r\n                  <StyledInternalLink to={'/tokens'}>\r\n                    <TYPE.label>{` Tokens `}</TYPE.label>\r\n                  </StyledInternalLink>\r\n                  <TYPE.main>{` > `}</TYPE.main>\r\n                  <TYPE.label>{` ${tokenData.symbol} `}</TYPE.label>\r\n                  <StyledExternalLink href={getEtherscanLink(1, address, 'address')}>\r\n                    <TYPE.main>{` (${shortenAddress(address)}) `}</TYPE.main>\r\n                  </StyledExternalLink>\r\n                </AutoRow>\r\n                <RowFixed gap=\"10px\" align=\"center\">\r\n                  <SavedIcon fill={savedTokens.includes(address)} onClick={() => addSavedToken(address)} />\r\n                  <StyledExternalLink href={getEtherscanLink(1, address, 'address')}>\r\n                    <ExternalLink stroke={theme.text2} size={'17px'} style={{ marginLeft: '12px' }} />\r\n                  </StyledExternalLink>\r\n                </RowFixed>\r\n              </RowBetween>\r\n              <ResponsiveRow align=\"flex-end\">\r\n                <AutoColumn gap=\"md\">\r\n                  <RowFixed gap=\"4px\">\r\n                    <CurrencyLogo address={address} />\r\n                    <TYPE.label ml={'12px'} fontSize=\"20px\">\r\n                      {tokenData.name}\r\n                    </TYPE.label>\r\n                    <TYPE.main ml={'12px'} fontSize=\"20px\">\r\n                      ({tokenData.symbol})\r\n                    </TYPE.main>\r\n                  </RowFixed>\r\n                  <RowFlat style={{ marginTop: '8px' }}>\r\n                    <PriceText mr=\"10px\"> {formatDollarAmount(tokenData.priceUSD)}</PriceText>\r\n                    (<Percent value={tokenData.priceUSDChange} />)\r\n                  </RowFlat>\r\n                </AutoColumn>\r\n                <RowFixed>\r\n                  <StyledExternalLink href={`https://app.uniswap.org/#/add/${address}`}>\r\n                    <ButtonGray width=\"170px\" mr=\"12px\" height={'100%'} style={{ height: '44px' }}>\r\n                      <RowBetween>\r\n                        <Download size={24} />\r\n                        <div style={{ display: 'flex', alignItems: 'center' }}>Add Liquidity</div>\r\n                      </RowBetween>\r\n                    </ButtonGray>\r\n                  </StyledExternalLink>\r\n                  <StyledExternalLink href={`https://app.uniswap.org/#/swap?inputCurrency=${address}`}>\r\n                    <ButtonPrimary width=\"100px\" bgColor={backgroundColor} style={{ height: '44px' }}>\r\n                      Trade\r\n                    </ButtonPrimary>\r\n                  </StyledExternalLink>\r\n                </RowFixed>\r\n              </ResponsiveRow>\r\n            </AutoColumn>\r\n            <ContentLayout>\r\n              <DarkGreyCard>\r\n                <AutoColumn gap=\"lg\">\r\n                  <AutoColumn gap=\"4px\">\r\n                    <TYPE.main fontWeight={400}>TVL</TYPE.main>\r\n                    <TYPE.label fontSize=\"24px\">{formatDollarAmount(tokenData.tvlUSD)}</TYPE.label>\r\n                    <Percent value={tokenData.tvlUSDChange} />\r\n                  </AutoColumn>\r\n                  <AutoColumn gap=\"4px\">\r\n                    <TYPE.main fontWeight={400}>24h Trading Vol</TYPE.main>\r\n                    <TYPE.label fontSize=\"24px\">{formatDollarAmount(tokenData.volumeUSD)}</TYPE.label>\r\n                    <Percent value={tokenData.volumeUSDChange} />\r\n                  </AutoColumn>\r\n                  <AutoColumn gap=\"4px\">\r\n                    <TYPE.main fontWeight={400}>7d Trading Vol</TYPE.main>\r\n                    <TYPE.label fontSize=\"24px\">{formatDollarAmount(tokenData.volumeUSDWeek)}</TYPE.label>\r\n                  </AutoColumn>\r\n                  <AutoColumn gap=\"4px\">\r\n                    <TYPE.main fontWeight={400}>24h Fees</TYPE.main>\r\n                    <TYPE.label fontSize=\"24px\">{formatDollarAmount(tokenData.feesUSD)}</TYPE.label>\r\n                  </AutoColumn>\r\n                </AutoColumn>\r\n              </DarkGreyCard>\r\n              <DarkGreyCard>\r\n                <RowBetween align=\"flex-start\">\r\n                  <AutoColumn>\r\n                    <RowFixed>\r\n                      <TYPE.label fontSize=\"24px\" height=\"30px\">\r\n                        <MonoSpace>\r\n                          {latestValue\r\n                            ? formatDollarAmount(latestValue, 2)\r\n                            : view === ChartView.VOL\r\n                            ? formatDollarAmount(formattedVolumeData[formattedVolumeData.length - 1]?.value)\r\n                            : view === ChartView.TVL\r\n                            ? formatDollarAmount(formattedTvlData[formattedTvlData.length - 1]?.value)\r\n                            : formatDollarAmount(tokenData.priceUSD, 2)}\r\n                        </MonoSpace>\r\n                      </TYPE.label>\r\n                    </RowFixed>\r\n                    <TYPE.main height=\"20px\" fontSize=\"12px\">\r\n                      {valueLabel ? (\r\n                        <MonoSpace>{valueLabel}</MonoSpace>\r\n                      ) : (\r\n                        <MonoSpace>{dayjs.utc().format('MMM D, YYYY')}</MonoSpace>\r\n                      )}\r\n                    </TYPE.main>\r\n                  </AutoColumn>\r\n                  <ToggleWrapper width=\"180px\">\r\n                    <ToggleElementFree\r\n                      isActive={view === ChartView.VOL}\r\n                      fontSize=\"12px\"\r\n                      onClick={() => (view === ChartView.VOL ? setView(ChartView.TVL) : setView(ChartView.VOL))}\r\n                    >\r\n                      Volume\r\n                    </ToggleElementFree>\r\n                    <ToggleElementFree\r\n                      isActive={view === ChartView.TVL}\r\n                      fontSize=\"12px\"\r\n                      onClick={() => (view === ChartView.TVL ? setView(ChartView.PRICE) : setView(ChartView.TVL))}\r\n                    >\r\n                      TVL\r\n                    </ToggleElementFree>\r\n                    <ToggleElementFree\r\n                      isActive={view === ChartView.PRICE}\r\n                      fontSize=\"12px\"\r\n                      onClick={() => setView(ChartView.PRICE)}\r\n                    >\r\n                      Price\r\n                    </ToggleElementFree>\r\n                  </ToggleWrapper>\r\n                </RowBetween>\r\n                {view === ChartView.TVL ? (\r\n                  <LineChart\r\n                    data={formattedTvlData}\r\n                    color={backgroundColor}\r\n                    minHeight={340}\r\n                    value={latestValue}\r\n                    label={valueLabel}\r\n                    setValue={setLatestValue}\r\n                    setLabel={setValueLabel}\r\n                  />\r\n                ) : view === ChartView.VOL ? (\r\n                  <BarChart\r\n                    data={formattedVolumeData}\r\n                    color={backgroundColor}\r\n                    minHeight={340}\r\n                    value={latestValue}\r\n                    label={valueLabel}\r\n                    setValue={setLatestValue}\r\n                    setLabel={setValueLabel}\r\n                  />\r\n                ) : view === ChartView.PRICE ? (\r\n                  adjustedToCurrent ? (\r\n                    <CandleChart\r\n                      data={adjustedToCurrent}\r\n                      setValue={setLatestValue}\r\n                      setLabel={setValueLabel}\r\n                      color={backgroundColor}\r\n                    />\r\n                  ) : (\r\n                    <LocalLoader fill={false} />\r\n                  )\r\n                ) : null}\r\n                {/* <RowBetween width=\"100%\">\r\n                  <div> </div>\r\n                  <AutoRow gap=\"4px\" width=\"fit-content\">\r\n                    <SmallOptionButton\r\n                      active={timeWindow === TimeWindow.DAY}\r\n                      onClick={() => setTimeWindow(TimeWindow.DAY)}\r\n                    >\r\n                      24H\r\n                    </SmallOptionButton>\r\n                    <SmallOptionButton\r\n                      active={timeWindow === TimeWindow.WEEK}\r\n                      onClick={() => setTimeWindow(TimeWindow.WEEK)}\r\n                    >\r\n                      1W\r\n                    </SmallOptionButton>\r\n                    <SmallOptionButton\r\n                      active={timeWindow === TimeWindow.MONTH}\r\n                      onClick={() => setTimeWindow(TimeWindow.MONTH)}\r\n                    >\r\n                      1M\r\n                    </SmallOptionButton>\r\n                    <SmallOptionButton\r\n                      active={timeWindow === TimeWindow.DAY}\r\n                      onClick={() => setTimeWindow(TimeWindow.DAY)}\r\n                    >\r\n                      All\r\n                    </SmallOptionButton>\r\n                  </AutoRow>\r\n                </RowBetween> */}\r\n              </DarkGreyCard>\r\n            </ContentLayout>\r\n            <TYPE.main>Pools</TYPE.main>\r\n            <DarkGreyCard>\r\n              <PoolTable poolDatas={poolDatas} />\r\n            </DarkGreyCard>\r\n            {/* <TYPE.main>Transactions</TYPE.main>\r\n            <DarkGreyCard>\r\n              {transactions ? (\r\n                <TransactionTable transactions={transactions} color={backgroundColor} />\r\n              ) : (\r\n                <LocalLoader fill={false} />\r\n              )}\r\n            </DarkGreyCard> */}\r\n          </AutoColumn>\r\n        )\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </PageWrapper>\r\n  )\r\n}\r\n","/**\r\n * Constanst for historical data fetching.\r\n *\r\n */\r\n\r\nimport { OpUnitType } from 'dayjs'\r\n\r\nexport const ONE_HOUR_SECONDS = 3600\r\n\r\nexport const TimeWindow: {\r\n  [key: string]: OpUnitType\r\n} = {\r\n  DAY: 'day',\r\n  WEEK: 'week',\r\n  MONTH: 'month',\r\n}\r\n","import React from 'react'\r\nimport { Redirect, RouteComponentProps } from 'react-router-dom'\r\nimport TokenPage from './TokenPage'\r\nimport { isAddress } from 'ethers/lib/utils'\r\n\r\nexport function RedirectInvalidToken(props: RouteComponentProps<{ address: string }>) {\r\n  const {\r\n    match: {\r\n      params: { address },\r\n    },\r\n  } = props\r\n\r\n  if (!isAddress(address)) {\r\n    return <Redirect to={`/`} />\r\n  }\r\n  return <TokenPage {...props} />\r\n}\r\n","import gql from 'graphql-tag'\r\nimport { client } from 'apollo/client'\r\nimport JSBI from 'jsbi'\r\nimport keyBy from 'lodash.keyby'\r\nimport { TickMath, tickToPrice } from '@uniswap/v3-sdk'\r\nimport { Token } from '@uniswap/sdk-core'\r\n\r\nconst PRICE_FIXED_DIGITS = 4\r\nconst DEFAULT_SURROUNDING_TICKS = 300\r\nconst FEE_TIER_TO_TICK_SPACING = (feeTier: string): number => {\r\n  switch (feeTier) {\r\n    case '10000':\r\n      return 200\r\n    case '3000':\r\n      return 60\r\n    case '500':\r\n      return 10\r\n    default:\r\n      throw Error(`Tick spacing for fee tier ${feeTier} undefined.`)\r\n  }\r\n}\r\n\r\ninterface TickPool {\r\n  tick: string\r\n  feeTier: string\r\n  token0: {\r\n    symbol: string\r\n    id: string\r\n    decimals: string\r\n  }\r\n  token1: {\r\n    symbol: string\r\n    id: string\r\n    decimals: string\r\n  }\r\n  sqrtPrice: string\r\n  liquidity: string\r\n}\r\n\r\ninterface PoolResult {\r\n  pool: TickPool\r\n}\r\n\r\n// Raw tick returned from GQL\r\ninterface Tick {\r\n  tickIdx: string\r\n  liquidityGross: string\r\n  liquidityNet: string\r\n  price0: string\r\n  price1: string\r\n}\r\n\r\ninterface SurroundingTicksResult {\r\n  ticks: Tick[]\r\n}\r\n\r\n// Tick with fields parsed to JSBIs, and active liquidity computed.\r\nexport interface TickProcessed {\r\n  liquidityGross: JSBI\r\n  liquidityNet: JSBI\r\n  tickIdx: number\r\n  liquidityActive: JSBI\r\n  price0: string\r\n  price1: string\r\n}\r\n\r\nconst fetchInitializedTicks = async (\r\n  poolAddress: string,\r\n  tickIdxLowerBound: number,\r\n  tickIdxUpperBound: number\r\n): Promise<{ loading?: boolean; error?: boolean; ticks?: Tick[] }> => {\r\n  const tickQuery = gql`\r\n    query surroundingTicks(\r\n      $poolAddress: String!\r\n      $tickIdxLowerBound: BigInt!\r\n      $tickIdxUpperBound: BigInt!\r\n      $skip: Int!\r\n    ) {\r\n      ticks(\r\n        first: 1000\r\n        skip: $skip\r\n        where: { poolAddress: $poolAddress, tickIdx_lte: $tickIdxUpperBound, tickIdx_gte: $tickIdxLowerBound }\r\n      ) {\r\n        tickIdx\r\n        liquidityGross\r\n        liquidityNet\r\n        price0\r\n        price1\r\n      }\r\n    }\r\n  `\r\n\r\n  let surroundingTicks: Tick[] = []\r\n  let surroundingTicksResult: Tick[] = []\r\n  let skip = 0\r\n  do {\r\n    const { data, error, loading } = await client.query<SurroundingTicksResult>({\r\n      query: tickQuery,\r\n      fetchPolicy: 'network-only',\r\n      variables: {\r\n        poolAddress,\r\n        tickIdxLowerBound,\r\n        tickIdxUpperBound,\r\n        skip,\r\n      },\r\n    })\r\n\r\n    // console.log({ data, error, loading }, 'Result. Skip: ' + skip)\r\n\r\n    if (loading) {\r\n      continue\r\n    }\r\n\r\n    if (error) {\r\n      return { error: Boolean(error), loading, ticks: surroundingTicksResult }\r\n    }\r\n\r\n    surroundingTicks = data.ticks\r\n    surroundingTicksResult = surroundingTicksResult.concat(surroundingTicks)\r\n    skip += 1000\r\n  } while (surroundingTicks.length > 0)\r\n\r\n  return { ticks: surroundingTicksResult, loading: false, error: false }\r\n}\r\n\r\nexport interface PoolTickData {\r\n  ticksProcessed: TickProcessed[]\r\n  feeTier: string\r\n  tickSpacing: number\r\n  activeTickIdx: number\r\n}\r\n\r\nconst poolQuery = gql`\r\n  query pool($poolAddress: String!) {\r\n    pool(id: $poolAddress) {\r\n      tick\r\n      token0 {\r\n        symbol\r\n        id\r\n        decimals\r\n      }\r\n      token1 {\r\n        symbol\r\n        id\r\n        decimals\r\n      }\r\n      feeTier\r\n      sqrtPrice\r\n      liquidity\r\n    }\r\n  }\r\n`\r\n\r\nexport const fetchTicksSurroundingPrice = async (\r\n  poolAddress: string,\r\n  numSurroundingTicks = DEFAULT_SURROUNDING_TICKS\r\n): Promise<{\r\n  loading?: boolean\r\n  error?: boolean\r\n  data?: PoolTickData\r\n}> => {\r\n  const { data: poolResult, error, loading } = await client.query<PoolResult>({\r\n    query: poolQuery,\r\n    variables: {\r\n      poolAddress,\r\n    },\r\n  })\r\n\r\n  if (loading || error || !poolResult) {\r\n    return {\r\n      loading,\r\n      error: Boolean(error),\r\n      data: undefined,\r\n    }\r\n  }\r\n\r\n  const {\r\n    pool: {\r\n      tick: poolCurrentTick,\r\n      feeTier,\r\n      liquidity,\r\n      token0: { id: token0Address, decimals: token0Decimals },\r\n      token1: { id: token1Address, decimals: token1Decimals },\r\n    },\r\n  } = poolResult\r\n\r\n  const poolCurrentTickIdx = parseInt(poolCurrentTick)\r\n  const tickSpacing = FEE_TIER_TO_TICK_SPACING(feeTier)\r\n\r\n  // The pools current tick isn't necessarily a tick that can actually be initialized.\r\n  // Find the nearest valid tick given the tick spacing.\r\n  const activeTickIdx = Math.floor(poolCurrentTickIdx / tickSpacing) * tickSpacing\r\n\r\n  // Our search bounds must take into account fee spacing. i.e. for fee tier 1%, only\r\n  // ticks with index 200, 400, 600, etc can be active.\r\n  const tickIdxLowerBound = activeTickIdx - numSurroundingTicks * tickSpacing\r\n  const tickIdxUpperBound = activeTickIdx + numSurroundingTicks * tickSpacing\r\n\r\n  const initializedTicksResult = await fetchInitializedTicks(poolAddress, tickIdxLowerBound, tickIdxUpperBound)\r\n  if (initializedTicksResult.error || initializedTicksResult.loading) {\r\n    return {\r\n      error: initializedTicksResult.error,\r\n      loading: initializedTicksResult.loading,\r\n    }\r\n  }\r\n\r\n  const { ticks: initializedTicks } = initializedTicksResult\r\n\r\n  const tickIdxToInitializedTick = keyBy(initializedTicks, 'tickIdx')\r\n\r\n  const token0 = new Token(1, token0Address, parseInt(token0Decimals))\r\n  const token1 = new Token(1, token1Address, parseInt(token1Decimals))\r\n\r\n  // console.log({ activeTickIdx, poolCurrentTickIdx }, 'Active ticks')\r\n\r\n  // If the pool's tick is MIN_TICK (-887272), then when we find the closest\r\n  // initializable tick to its left, the value would be smaller than MIN_TICK.\r\n  // In this case we must ensure that the prices shown never go below/above.\r\n  // what actual possible from the protocol.\r\n  let activeTickIdxForPrice = activeTickIdx\r\n  if (activeTickIdxForPrice < TickMath.MIN_TICK) {\r\n    activeTickIdxForPrice = TickMath.MIN_TICK\r\n  }\r\n  if (activeTickIdxForPrice > TickMath.MAX_TICK) {\r\n    activeTickIdxForPrice = TickMath.MAX_TICK\r\n  }\r\n\r\n  const activeTickProcessed: TickProcessed = {\r\n    liquidityActive: JSBI.BigInt(liquidity),\r\n    tickIdx: activeTickIdx,\r\n    liquidityNet: JSBI.BigInt(0),\r\n    price0: tickToPrice(token0, token1, activeTickIdxForPrice).toFixed(PRICE_FIXED_DIGITS),\r\n    price1: tickToPrice(token1, token0, activeTickIdxForPrice).toFixed(PRICE_FIXED_DIGITS),\r\n    liquidityGross: JSBI.BigInt(0),\r\n  }\r\n\r\n  // If our active tick happens to be initialized (i.e. there is a position that starts or\r\n  // ends at that tick), ensure we set the gross and net.\r\n  // correctly.\r\n  const activeTick = tickIdxToInitializedTick[activeTickIdx]\r\n  if (activeTick) {\r\n    activeTickProcessed.liquidityGross = JSBI.BigInt(activeTick.liquidityGross)\r\n    activeTickProcessed.liquidityNet = JSBI.BigInt(activeTick.liquidityNet)\r\n  }\r\n\r\n  enum Direction {\r\n    ASC,\r\n    DESC,\r\n  }\r\n\r\n  // Computes the numSurroundingTicks above or below the active tick.\r\n  const computeSurroundingTicks = (\r\n    activeTickProcessed: TickProcessed,\r\n    tickSpacing: number,\r\n    numSurroundingTicks: number,\r\n    direction: Direction\r\n  ) => {\r\n    let previousTickProcessed: TickProcessed = {\r\n      ...activeTickProcessed,\r\n    }\r\n\r\n    // Iterate outwards (either up or down depending on 'Direction') from the active tick,\r\n    // building active liquidity for every tick.\r\n    let processedTicks: TickProcessed[] = []\r\n    for (let i = 0; i < numSurroundingTicks; i++) {\r\n      const currentTickIdx =\r\n        direction == Direction.ASC\r\n          ? previousTickProcessed.tickIdx + tickSpacing\r\n          : previousTickProcessed.tickIdx - tickSpacing\r\n\r\n      if (currentTickIdx < TickMath.MIN_TICK || currentTickIdx > TickMath.MAX_TICK) {\r\n        break\r\n      }\r\n\r\n      const currentTickProcessed: TickProcessed = {\r\n        liquidityActive: previousTickProcessed.liquidityActive,\r\n        tickIdx: currentTickIdx,\r\n        liquidityNet: JSBI.BigInt(0),\r\n        price0: tickToPrice(token0, token1, currentTickIdx).toFixed(PRICE_FIXED_DIGITS),\r\n        price1: tickToPrice(token1, token0, currentTickIdx).toFixed(PRICE_FIXED_DIGITS),\r\n        liquidityGross: JSBI.BigInt(0),\r\n      }\r\n\r\n      // Check if there is an initialized tick at our current tick.\r\n      // If so copy the gross and net liquidity from the initialized tick.\r\n      const currentInitializedTick = tickIdxToInitializedTick[currentTickIdx.toString()]\r\n      if (currentInitializedTick) {\r\n        currentTickProcessed.liquidityGross = JSBI.BigInt(currentInitializedTick.liquidityGross)\r\n        currentTickProcessed.liquidityNet = JSBI.BigInt(currentInitializedTick.liquidityNet)\r\n      }\r\n\r\n      // Update the active liquidity.\r\n      // If we are iterating ascending and we found an initialized tick we immediately apply\r\n      // it to the current processed tick we are building.\r\n      // If we are iterating descending, we don't want to apply the net liquidity until the following tick.\r\n      if (direction == Direction.ASC && currentInitializedTick) {\r\n        currentTickProcessed.liquidityActive = JSBI.add(\r\n          previousTickProcessed.liquidityActive,\r\n          JSBI.BigInt(currentInitializedTick.liquidityNet)\r\n        )\r\n      } else if (direction == Direction.DESC && JSBI.notEqual(previousTickProcessed.liquidityNet, JSBI.BigInt(0))) {\r\n        // We are iterating descending, so look at the previous tick and apply any net liquidity.\r\n        currentTickProcessed.liquidityActive = JSBI.subtract(\r\n          previousTickProcessed.liquidityActive,\r\n          previousTickProcessed.liquidityNet\r\n        )\r\n      }\r\n\r\n      processedTicks.push(currentTickProcessed)\r\n      previousTickProcessed = currentTickProcessed\r\n    }\r\n\r\n    if (direction == Direction.DESC) {\r\n      processedTicks = processedTicks.reverse()\r\n    }\r\n\r\n    return processedTicks\r\n  }\r\n\r\n  const subsequentTicks: TickProcessed[] = computeSurroundingTicks(\r\n    activeTickProcessed,\r\n    tickSpacing,\r\n    numSurroundingTicks,\r\n    Direction.ASC\r\n  )\r\n\r\n  const previousTicks: TickProcessed[] = computeSurroundingTicks(\r\n    activeTickProcessed,\r\n    tickSpacing,\r\n    numSurroundingTicks,\r\n    Direction.DESC\r\n  )\r\n\r\n  const ticksProcessed = previousTicks.concat(activeTickProcessed).concat(subsequentTicks)\r\n\r\n  return {\r\n    data: {\r\n      ticksProcessed,\r\n      feeTier,\r\n      tickSpacing,\r\n      activeTickIdx,\r\n    },\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { ChartEntry } from './index'\r\nimport { PoolData } from 'state/pools/reducer'\r\nimport useTheme from 'hooks/useTheme'\r\nimport styled from 'styled-components'\r\nimport { AutoColumn } from 'components/Column'\r\nimport { RowFixed } from 'components/Row'\r\nimport { TYPE } from 'theme'\r\n\r\nconst Wrapper = styled.div`\r\n  border-radius: 8px;\r\n  padding: 6px 12px;\r\n  color: white;\r\n  width: fit-content;\r\n  font-size: 14px;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n`\r\n\r\ninterface LabelProps {\r\n  x: number\r\n  y: number\r\n  index: number\r\n}\r\n\r\ninterface CurrentPriceLabelProps {\r\n  data: ChartEntry[] | undefined\r\n  chartProps: any\r\n  poolData: PoolData\r\n}\r\n\r\nexport function CurrentPriceLabel({ data, chartProps, poolData }: CurrentPriceLabelProps) {\r\n  const theme = useTheme()\r\n  const labelData = chartProps as LabelProps\r\n  const entryData = data?.[labelData.index]\r\n  if (entryData?.isCurrent) {\r\n    const price0 = entryData.price0\r\n    const price1 = entryData.price1\r\n    return (\r\n      <g>\r\n        <foreignObject x={labelData.x - 80} y={318} width={'100%'} height={100}>\r\n          <Wrapper>\r\n            <AutoColumn gap=\"6px\">\r\n              <RowFixed align=\"center\">\r\n                <TYPE.main mr=\"6px\">Current Price</TYPE.main>\r\n                <div\r\n                  style={{\r\n                    marginTop: '2px',\r\n                    height: '6px',\r\n                    width: '6px',\r\n                    borderRadius: '50%',\r\n                    backgroundColor: theme.pink1,\r\n                  }}\r\n                ></div>\r\n              </RowFixed>\r\n              <TYPE.label>{`1 ${poolData.token0.symbol} = ${Number(price0).toLocaleString(undefined, {\r\n                minimumSignificantDigits: 1,\r\n              })} ${poolData.token1.symbol}`}</TYPE.label>\r\n              <TYPE.label>{`1 ${poolData.token1.symbol} = ${Number(price1).toLocaleString(undefined, {\r\n                minimumSignificantDigits: 1,\r\n              })} ${poolData.token0.symbol}`}</TYPE.label>\r\n            </AutoColumn>\r\n          </Wrapper>\r\n        </foreignObject>\r\n      </g>\r\n    )\r\n  }\r\n  return null\r\n}\r\n","import React from 'react'\r\nimport { PoolData } from 'state/pools/reducer'\r\nimport styled from 'styled-components'\r\nimport { LightCard } from 'components/Card'\r\nimport useTheme from 'hooks/useTheme'\r\nimport { AutoColumn } from 'components/Column'\r\nimport { TYPE } from 'theme'\r\nimport { RowBetween } from 'components/Row'\r\nimport { formatAmount } from 'utils/numbers'\r\n\r\nconst TooltipWrapper = styled(LightCard)`\r\n  padding: 12px;\r\n  width: 320px;\r\n  opacity: 0.6;\r\n  font-size: 12px;\r\n  z-index: 10;\r\n`\r\n\r\ninterface CustomToolTipProps {\r\n  chartProps: any\r\n  poolData: PoolData\r\n  currentPrice: number | undefined\r\n}\r\n\r\nexport function CustomToolTip({ chartProps, poolData, currentPrice }: CustomToolTipProps) {\r\n  const theme = useTheme()\r\n  const price0 = chartProps?.payload?.[0]?.payload.price0\r\n  const price1 = chartProps?.payload?.[0]?.payload.price1\r\n  const tvlToken0 = chartProps?.payload?.[0]?.payload.tvlToken0\r\n  const tvlToken1 = chartProps?.payload?.[0]?.payload.tvlToken1\r\n\r\n  return (\r\n    <TooltipWrapper>\r\n      <AutoColumn gap=\"sm\">\r\n        <TYPE.main color={theme.text3}>Tick stats</TYPE.main>\r\n        <RowBetween>\r\n          <TYPE.label>{poolData?.token0?.symbol} Price: </TYPE.label>\r\n          <TYPE.label>\r\n            {price0\r\n              ? Number(price0).toLocaleString(undefined, {\r\n                  minimumSignificantDigits: 1,\r\n                })\r\n              : ''}{' '}\r\n            {poolData?.token1?.symbol}\r\n          </TYPE.label>\r\n        </RowBetween>\r\n        <RowBetween>\r\n          <TYPE.label>{poolData?.token1?.symbol} Price: </TYPE.label>\r\n          <TYPE.label>\r\n            {price1\r\n              ? Number(price1).toLocaleString(undefined, {\r\n                  minimumSignificantDigits: 1,\r\n                })\r\n              : ''}{' '}\r\n            {poolData?.token0?.symbol}\r\n          </TYPE.label>\r\n        </RowBetween>\r\n        {currentPrice && price0 && currentPrice > price1 ? (\r\n          <RowBetween>\r\n            <TYPE.label>{poolData?.token0?.symbol} Locked: </TYPE.label>\r\n            <TYPE.label>\r\n              {tvlToken0 ? formatAmount(tvlToken0) : ''} {poolData?.token0?.symbol}\r\n            </TYPE.label>\r\n          </RowBetween>\r\n        ) : (\r\n          <RowBetween>\r\n            <TYPE.label>{poolData?.token1?.symbol} Locked: </TYPE.label>\r\n            <TYPE.label>\r\n              {tvlToken1 ? formatAmount(tvlToken1) : ''} {poolData?.token1?.symbol}\r\n            </TYPE.label>\r\n          </RowBetween>\r\n        )}\r\n      </AutoColumn>\r\n    </TooltipWrapper>\r\n  )\r\n}\r\n\r\nexport default CustomToolTip\r\n","import { fetchTicksSurroundingPrice, TickProcessed } from 'data/pools/tickData'\r\nimport React, { useEffect, useMemo, useState, useCallback } from 'react'\r\nimport { BarChart, Bar, LabelList, XAxis, Tooltip, ResponsiveContainer, Cell } from 'recharts'\r\nimport Loader from 'components/Loader'\r\nimport styled from 'styled-components'\r\nimport useTheme from 'hooks/useTheme'\r\nimport { usePoolDatas, usePoolTickData } from 'state/pools/hooks'\r\nimport { MAX_UINT128 } from '../../constants/index'\r\nimport { isAddress } from 'utils'\r\nimport { Pool, TickMath, TICK_SPACINGS, FeeAmount } from '@uniswap/v3-sdk'\r\nimport { PoolData } from 'state/pools/reducer'\r\nimport { CurrentPriceLabel } from './CurrentPriceLabel'\r\nimport CustomToolTip from './CustomToolTip'\r\nimport { Token, CurrencyAmount } from '@uniswap/sdk-core'\r\nimport JSBI from 'jsbi'\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 400px;\r\n`\r\n\r\nconst ControlsWrapper = styled.div`\r\n  position: absolute;\r\n  right: 40px;\r\n  bottom: 100px;\r\n  padding: 4px;\r\n  border-radius: 8px;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  grid-column-gap: 6px;\r\n`\r\n\r\nconst ActionButton = styled.div<{ disabled?: boolean }>`\r\n  width: 32x;\r\n  border-radius: 50%;\r\n  background-color: black;\r\n  padding: 4px 8px;\r\n  display: flex;\r\n  justify-content: center;\r\n  font-size: 18px;\r\n  font-weight: 500;\r\n  align-items: center;\r\n  opacity: ${({ disabled }) => (disabled ? 0.4 : 0.9)};\r\n  background-color: ${({ theme, disabled }) => (disabled ? theme.bg3 : theme.bg2)};\r\n  user-select: none;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n    opacity: 0.4;\r\n  }\r\n`\r\n\r\ninterface DensityChartProps {\r\n  address: string\r\n}\r\n\r\nexport interface ChartEntry {\r\n  index: number\r\n  isCurrent: boolean\r\n  activeLiquidity: number\r\n  price0: number\r\n  price1: number\r\n  tvlToken0: number\r\n  tvlToken1: number\r\n}\r\n\r\ninterface ZoomStateProps {\r\n  left: number\r\n  right: number\r\n  refAreaLeft: string | number\r\n  refAreaRight: string | number\r\n}\r\n\r\nconst INITIAL_TICKS_TO_FETCH = 200\r\nconst ZOOM_INTERVAL = 20\r\n\r\nconst initialState = {\r\n  left: 0,\r\n  right: INITIAL_TICKS_TO_FETCH * 2 + 1,\r\n  refAreaLeft: '',\r\n  refAreaRight: '',\r\n}\r\n\r\nexport default function DensityChart({ address }: DensityChartProps) {\r\n  const theme = useTheme()\r\n\r\n  // poolData\r\n  const poolData: PoolData = usePoolDatas([address])[0]\r\n  const formattedAddress0 = isAddress(poolData.token0.id)\r\n  const formattedAddress1 = isAddress(poolData.token1.id)\r\n  const feeTier = poolData?.feeTier\r\n\r\n  // parsed tokens\r\n  const token0 = useMemo(() => {\r\n    return poolData && formattedAddress0 && formattedAddress1\r\n      ? new Token(1, formattedAddress0, parseInt(poolData.token0.decimals))\r\n      : undefined\r\n  }, [formattedAddress0, formattedAddress1, poolData])\r\n  const token1 = useMemo(() => {\r\n    return poolData && formattedAddress1 && formattedAddress1\r\n      ? new Token(1, formattedAddress1, parseInt(poolData.token1.decimals))\r\n      : undefined\r\n  }, [formattedAddress1, poolData])\r\n\r\n  // tick data tracking\r\n  const [poolTickData, updatePoolTickData] = usePoolTickData(address)\r\n  const [ticksToFetch, setTicksToFetch] = useState(INITIAL_TICKS_TO_FETCH)\r\n  const amountTicks = ticksToFetch * 2 + 1\r\n\r\n  const [loading, setLoading] = useState(false)\r\n  const [zoomState, setZoomState] = useState<ZoomStateProps>(initialState)\r\n\r\n  useEffect(() => {\r\n    async function fetch() {\r\n      const { data } = await fetchTicksSurroundingPrice(address, ticksToFetch)\r\n      if (data) {\r\n        updatePoolTickData(address, data)\r\n      }\r\n    }\r\n    if (!poolTickData || (poolTickData && poolTickData.ticksProcessed.length < amountTicks)) {\r\n      fetch()\r\n    }\r\n  }, [address, poolTickData, updatePoolTickData, ticksToFetch, amountTicks])\r\n\r\n  const [formattedData, setFormattedData] = useState<ChartEntry[] | undefined>()\r\n  useEffect(() => {\r\n    async function formatData() {\r\n      if (poolTickData) {\r\n        const newData = await Promise.all(\r\n          poolTickData.ticksProcessed.map(async (t: TickProcessed, i) => {\r\n            const active = t.tickIdx === poolTickData.activeTickIdx\r\n            const sqrtPriceX96 = TickMath.getSqrtRatioAtTick(t.tickIdx)\r\n            const feeAmount: FeeAmount = parseInt(poolData.feeTier)\r\n            const mockTicks = [\r\n              {\r\n                index: t.tickIdx - TICK_SPACINGS[feeAmount],\r\n                liquidityGross: t.liquidityGross,\r\n                liquidityNet: JSBI.multiply(t.liquidityNet, JSBI.BigInt('-1')),\r\n              },\r\n              {\r\n                index: t.tickIdx,\r\n                liquidityGross: t.liquidityGross,\r\n                liquidityNet: t.liquidityNet,\r\n              },\r\n            ]\r\n            const pool =\r\n              token0 && token1 && feeTier\r\n                ? new Pool(token0, token1, parseInt(feeTier), sqrtPriceX96, t.liquidityActive, t.tickIdx, mockTicks)\r\n                : undefined\r\n            const nextSqrtX96 = poolTickData.ticksProcessed[i - 1]\r\n              ? TickMath.getSqrtRatioAtTick(poolTickData.ticksProcessed[i - 1].tickIdx)\r\n              : undefined\r\n            const maxAmountToken0 = token0 ? CurrencyAmount.fromRawAmount(token0, MAX_UINT128.toString()) : undefined\r\n            const outputRes0 =\r\n              pool && maxAmountToken0 ? await pool.getOutputAmount(maxAmountToken0, nextSqrtX96) : undefined\r\n\r\n            const token1Amount = outputRes0?.[0] as CurrencyAmount<Token> | undefined\r\n\r\n            const amount0 = token1Amount ? parseFloat(token1Amount.toExact()) * parseFloat(t.price1) : 0\r\n            const amount1 = token1Amount ? parseFloat(token1Amount.toExact()) : 0\r\n\r\n            return {\r\n              index: i,\r\n              isCurrent: active,\r\n              activeLiquidity: parseFloat(t.liquidityActive.toString()),\r\n              price0: parseFloat(t.price0),\r\n              price1: parseFloat(t.price1),\r\n              tvlToken0: amount0,\r\n              tvlToken1: amount1,\r\n            }\r\n          })\r\n        )\r\n        // offset the values to line off bars with TVL used to swap across bar\r\n        newData?.map((entry, i) => {\r\n          if (i > 0) {\r\n            newData[i - 1].tvlToken0 = entry.tvlToken0\r\n            newData[i - 1].tvlToken1 = entry.tvlToken1\r\n          }\r\n        })\r\n\r\n        if (newData) {\r\n          if (loading) {\r\n            setLoading(false)\r\n          }\r\n          setFormattedData(newData)\r\n        }\r\n        return\r\n      } else {\r\n        return []\r\n      }\r\n    }\r\n    if (!formattedData) {\r\n      formatData()\r\n    }\r\n  }, [feeTier, formattedData, loading, poolData.feeTier, poolTickData, token0, token1])\r\n\r\n  const atZoomMax = zoomState.left + ZOOM_INTERVAL >= zoomState.right - ZOOM_INTERVAL - 1\r\n  const atZoomMin = zoomState.left - ZOOM_INTERVAL < 0\r\n\r\n  const handleZoomIn = useCallback(() => {\r\n    !atZoomMax &&\r\n      setZoomState({\r\n        ...zoomState,\r\n        left: zoomState.left + ZOOM_INTERVAL,\r\n        right: zoomState.right - ZOOM_INTERVAL,\r\n      })\r\n  }, [zoomState, atZoomMax])\r\n\r\n  const handleZoomOut = useCallback(() => {\r\n    if (atZoomMin) {\r\n      setLoading(true)\r\n      setTicksToFetch(ticksToFetch + ZOOM_INTERVAL)\r\n      setFormattedData(undefined)\r\n      setZoomState({\r\n        ...zoomState,\r\n        left: 0,\r\n        right: amountTicks,\r\n      })\r\n    } else {\r\n      setZoomState({\r\n        ...zoomState,\r\n        left: zoomState.left - ZOOM_INTERVAL,\r\n        right: zoomState.right + ZOOM_INTERVAL,\r\n      })\r\n    }\r\n  }, [amountTicks, atZoomMin, ticksToFetch, zoomState])\r\n\r\n  const zoomedData = useMemo(() => {\r\n    if (formattedData) {\r\n      return formattedData.slice(zoomState.left, zoomState.right)\r\n    }\r\n    return undefined\r\n  }, [formattedData, zoomState.left, zoomState.right])\r\n\r\n  // reset data on address change\r\n  useEffect(() => {\r\n    setFormattedData(undefined)\r\n  }, [address])\r\n\r\n  if (!poolTickData) {\r\n    return <Loader />\r\n  }\r\n\r\n  const CustomBar = ({\r\n    x,\r\n    y,\r\n    width,\r\n    height,\r\n    fill,\r\n  }: {\r\n    x: number\r\n    y: number\r\n    width: number\r\n    height: number\r\n    fill: string\r\n  }) => {\r\n    return (\r\n      <g>\r\n        <rect x={x} y={y} fill={fill} width={width} height={height} rx=\"2\" />\r\n      </g>\r\n    )\r\n  }\r\n  return (\r\n    <Wrapper>\r\n      {!loading ? (\r\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n          <BarChart\r\n            width={500}\r\n            height={300}\r\n            data={zoomedData}\r\n            margin={{\r\n              top: 5,\r\n              right: 30,\r\n              left: 20,\r\n              bottom: 60,\r\n            }}\r\n          >\r\n            <Tooltip\r\n              content={(props) => (\r\n                <CustomToolTip chartProps={props} poolData={poolData} currentPrice={parseInt(poolData.token0Price)} />\r\n              )}\r\n            />\r\n            <XAxis reversed={true} tick={false} />\r\n            <Bar\r\n              dataKey=\"activeLiquidity\"\r\n              fill=\"#71cbf8\"\r\n              isAnimationActive={false}\r\n              shape={(props) => {\r\n                // eslint-disable-next-line react/prop-types\r\n                return <CustomBar height={props.height} width={props.width} x={props.x} y={props.y} fill={props.fill} />\r\n              }}\r\n            >\r\n              {zoomedData?.map((entry, index) => {\r\n                return <Cell key={`cell-${index}`} fill={entry.isCurrent ? theme.pink1 : theme.blue1} />\r\n              })}\r\n              <LabelList\r\n                dataKey=\"activeLiquidity\"\r\n                position=\"inside\"\r\n                content={(props) => <CurrentPriceLabel chartProps={props} poolData={poolData} data={zoomedData} />}\r\n              />\r\n            </Bar>\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n      <ControlsWrapper>\r\n        <ActionButton disabled={false} onClick={handleZoomOut}>\r\n          -\r\n        </ActionButton>\r\n        <ActionButton disabled={atZoomMax} onClick={handleZoomIn}>\r\n          +\r\n        </ActionButton>\r\n      </ControlsWrapper>\r\n    </Wrapper>\r\n  )\r\n}\r\n","import React, { useMemo, useState, useEffect } from 'react'\r\nimport { RouteComponentProps } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { useColor } from 'hooks/useColor'\r\nimport { ThemedBackground, PageWrapper } from 'pages/styled'\r\nimport { feeTierPercent, getEtherscanLink } from 'utils'\r\nimport { AutoColumn } from 'components/Column'\r\nimport { RowBetween, RowFixed, AutoRow } from 'components/Row'\r\nimport { TYPE, StyledInternalLink } from 'theme'\r\nimport Loader, { LocalLoader } from 'components/Loader'\r\nimport { ExternalLink, Download } from 'react-feather'\r\nimport { ExternalLink as StyledExternalLink } from '../../theme/components'\r\nimport useTheme from 'hooks/useTheme'\r\nimport CurrencyLogo from 'components/CurrencyLogo'\r\nimport { formatDollarAmount, formatAmount } from 'utils/numbers'\r\nimport Percent from 'components/Percent'\r\nimport { ButtonPrimary, ButtonGray, SavedIcon } from 'components/Button'\r\nimport { DarkGreyCard, GreyCard, GreyBadge } from 'components/Card'\r\nimport { usePoolDatas, usePoolChartData, usePoolTransactions } from 'state/pools/hooks'\r\nimport LineChart from 'components/LineChart/alt'\r\nimport { unixToDate } from 'utils/date'\r\nimport { ToggleWrapper, ToggleElementFree } from 'components/Toggle/index'\r\nimport BarChart from 'components/BarChart/alt'\r\nimport DoubleCurrencyLogo from 'components/DoubleLogo'\r\nimport TransactionTable from 'components/TransactionsTable'\r\nimport { useSavedPools } from 'state/user/hooks'\r\nimport DensityChart from 'components/DensityChart'\r\nimport { MonoSpace } from 'components/shared'\r\n\r\nconst ContentLayout = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 300px 1fr;\r\n  grid-gap: 1em;\r\n\r\n  @media screen and (max-width: 800px) {\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: 1fr 1fr;\r\n  }\r\n`\r\n\r\nconst TokenButton = styled(GreyCard)`\r\n  padding: 8px 12px;\r\n  border-radius: 10px;\r\n  :hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n`\r\n\r\nconst ResponsiveRow = styled(RowBetween)`\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    row-gap: 24px;\r\n    width: 100%:\r\n  `};\r\n`\r\n\r\nenum ChartView {\r\n  TVL,\r\n  VOL,\r\n  PRICE,\r\n  DENSITY,\r\n}\r\n\r\nexport default function PoolPage({\r\n  match: {\r\n    params: { address },\r\n  },\r\n}: RouteComponentProps<{ address: string }>) {\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [])\r\n\r\n  // theming\r\n  const backgroundColor = useColor()\r\n  const theme = useTheme()\r\n\r\n  // token data\r\n  const poolData = usePoolDatas([address])[0]\r\n  const chartData = usePoolChartData(address)\r\n  const transactions = usePoolTransactions(address)\r\n\r\n  const [view, setView] = useState(ChartView.VOL)\r\n  const [latestValue, setLatestValue] = useState<number | undefined>()\r\n  const [valueLabel, setValueLabel] = useState<string | undefined>()\r\n\r\n  const formattedTvlData = useMemo(() => {\r\n    if (chartData) {\r\n      return chartData.map((day) => {\r\n        return {\r\n          time: unixToDate(day.date),\r\n          value: day.totalValueLockedUSD,\r\n        }\r\n      })\r\n    } else {\r\n      return []\r\n    }\r\n  }, [chartData])\r\n\r\n  const formattedVolumeData = useMemo(() => {\r\n    if (chartData) {\r\n      return chartData.map((day) => {\r\n        return {\r\n          time: unixToDate(day.date),\r\n          value: day.aquaPremiumUSD,\r\n        }\r\n      })\r\n    } else {\r\n      return []\r\n    }\r\n  }, [chartData])\r\n\r\n  //watchlist\r\n  const [savedPools, addSavedPool] = useSavedPools()\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <ThemedBackground backgroundColor={backgroundColor} />\r\n      {poolData ? (\r\n        <AutoColumn gap=\"32px\">\r\n          <RowBetween>\r\n            <AutoRow gap=\"4px\">\r\n              <StyledInternalLink to=\"/\">\r\n                <TYPE.main>{`Home > `}</TYPE.main>\r\n              </StyledInternalLink>\r\n              <StyledInternalLink to=\"/pools\">\r\n                <TYPE.label>{` Pools `}</TYPE.label>\r\n              </StyledInternalLink>\r\n              <TYPE.main>{` > `}</TYPE.main>\r\n              <TYPE.label>{` ${poolData.token0.symbol} / ${poolData.token1.symbol} ${feeTierPercent(\r\n                parseFloat(poolData.feeTier)\r\n              )} `}</TYPE.label>\r\n            </AutoRow>\r\n            <RowFixed gap=\"10px\" align=\"center\">\r\n              <SavedIcon fill={savedPools.includes(address)} onClick={() => addSavedPool(address)} />\r\n              <StyledExternalLink href={getEtherscanLink(1, address, 'address')}>\r\n                <ExternalLink stroke={theme.text2} size={'17px'} style={{ marginLeft: '12px' }} />\r\n              </StyledExternalLink>\r\n            </RowFixed>\r\n          </RowBetween>\r\n          <ResponsiveRow align=\"flex-end\">\r\n            <AutoColumn gap=\"lg\">\r\n              <RowFixed gap=\"4px\">\r\n                <DoubleCurrencyLogo address0={poolData.token0.id} address1={poolData.token1.id} size={24} />\r\n                <TYPE.label\r\n                  ml=\"8px\"\r\n                  mr=\"8px\"\r\n                  fontSize=\"24px\"\r\n                >{` ${poolData.token0.symbol} / ${poolData.token1.symbol} `}</TYPE.label>\r\n                <GreyBadge>{feeTierPercent(parseFloat(poolData.feeTier))}</GreyBadge>\r\n              </RowFixed>\r\n              <ResponsiveRow>\r\n                {/* <StyledInternalLink to={'/tokens/' + poolData.token0.id}> */}\r\n                <TokenButton>\r\n                  <RowFixed>\r\n                    <CurrencyLogo address={poolData.token0.id} size={'20px'} />\r\n                    <TYPE.label fontSize=\"16px\" ml=\"4px\" style={{ whiteSpace: 'nowrap' }} width={'fit-content'}>\r\n                      {`1 ${poolData.token0.symbol} =  ${formatAmount(parseFloat(poolData.token1Price), 4)} ${\r\n                        poolData.token1.symbol\r\n                      }`}\r\n                    </TYPE.label>\r\n                  </RowFixed>\r\n                </TokenButton>\r\n                {/* </StyledInternalLink> */}\r\n                {/* <StyledInternalLink to={'/tokens/' + poolData.token1.id}> */}\r\n                <TokenButton ml=\"10px\">\r\n                  <RowFixed>\r\n                    <CurrencyLogo address={poolData.token1.id} size={'20px'} />\r\n                    <TYPE.label fontSize=\"16px\" ml=\"4px\" style={{ whiteSpace: 'nowrap' }} width={'fit-content'}>\r\n                      {`1 ${poolData.token1.symbol} =  ${formatAmount(parseFloat(poolData.token0Price), 4)} ${\r\n                        poolData.token0.symbol\r\n                      }`}\r\n                    </TYPE.label>\r\n                  </RowFixed>\r\n                </TokenButton>\r\n                {/* </StyledInternalLink> */}\r\n              </ResponsiveRow>\r\n            </AutoColumn>\r\n            {/* <AutoColumn gap=\"lg\">\r\n              <RowFixed>\r\n                <StyledExternalLink\r\n                  href={`https://app.uniswap.org/#/add/${poolData.token0.id}/${poolData.token1.id}/${poolData.feeTier}`}\r\n                >\r\n                  <ButtonGray width=\"170px\" mr=\"12px\" style={{ height: '44px' }}>\r\n                    <RowBetween>\r\n                      <Download size={24} />\r\n                      <div style={{ display: 'flex', alignItems: 'center' }}>Add Liquidity</div>\r\n                    </RowBetween>\r\n                  </ButtonGray>\r\n                </StyledExternalLink>\r\n                <StyledExternalLink\r\n                  href={`https://app.uniswap.org/#/swap?inputCurrency=${poolData.token0.id}&outputCurrency=${poolData.token1.id}`}\r\n                >\r\n                  <ButtonPrimary width=\"100px\" style={{ height: '44px' }}>\r\n                    Trade\r\n                  </ButtonPrimary>\r\n                </StyledExternalLink>\r\n              </RowFixed>\r\n            </AutoColumn> */}\r\n          </ResponsiveRow>\r\n          <ContentLayout>\r\n            <DarkGreyCard>\r\n              <AutoColumn gap=\"lg\">\r\n                <GreyCard padding=\"16px\">\r\n                  <AutoColumn gap=\"md\">\r\n                    <TYPE.main>Total Value Locked</TYPE.main>\r\n                    <RowBetween>\r\n                      <RowFixed>\r\n                        <CurrencyLogo address={poolData.token0.id} size={'20px'} />\r\n                        <TYPE.label fontSize=\"14px\" ml=\"8px\">\r\n                          {poolData.token0.symbol}\r\n                        </TYPE.label>\r\n                      </RowFixed>\r\n                      <TYPE.label fontSize=\"14px\">\r\n                        {formatAmount(parseFloat(poolData.totalValueLockedToken0))}\r\n                      </TYPE.label>\r\n                    </RowBetween>\r\n                    <RowBetween>\r\n                      <RowFixed>\r\n                        <CurrencyLogo address={poolData.token1.id} size={'20px'} />\r\n                        <TYPE.label fontSize=\"14px\" ml=\"8px\">\r\n                          {poolData.token1.symbol}\r\n                        </TYPE.label>\r\n                      </RowFixed>\r\n                      <TYPE.label fontSize=\"14px\">\r\n                        {formatAmount(parseFloat(poolData.totalValueLockedToken1))}\r\n                      </TYPE.label>\r\n                    </RowBetween>\r\n                  </AutoColumn>\r\n                </GreyCard>\r\n                <AutoColumn gap=\"4px\">\r\n                  <TYPE.main fontWeight={400}>TVL</TYPE.main>\r\n                  <TYPE.label fontSize=\"24px\">{formatDollarAmount(parseFloat(poolData.totalValueLocked))}</TYPE.label>\r\n                  <Percent value={poolData.tvlUSDChange} />\r\n                </AutoColumn>\r\n                <AutoColumn gap=\"4px\">\r\n                  <TYPE.main fontWeight={400}>Aqua Premium</TYPE.main>\r\n                  <TYPE.label fontSize=\"24px\">\r\n                    {formatDollarAmount(parseFloat(poolData.aquaPremiumCollectedUSD))}\r\n                  </TYPE.label>\r\n                  <Percent value={poolData.aquaPremiumCollectedUSDChange} />\r\n                </AutoColumn>\r\n                <AutoColumn gap=\"4px\">\r\n                  <TYPE.main fontWeight={400}>Premium %</TYPE.main>\r\n                  <TYPE.label fontSize=\"24px\">{parseFloat(poolData.aquaPremium) / 100}%</TYPE.label>\r\n                </AutoColumn>\r\n              </AutoColumn>\r\n            </DarkGreyCard>\r\n            <DarkGreyCard>\r\n              <RowBetween align=\"flex-start\">\r\n                <AutoColumn>\r\n                  <TYPE.label fontSize=\"24px\" height=\"30px\">\r\n                    <MonoSpace>\r\n                      {latestValue\r\n                        ? formatDollarAmount(latestValue)\r\n                        : view === ChartView.VOL\r\n                        ? formatDollarAmount(formattedVolumeData[formattedVolumeData.length - 1]?.value)\r\n                        : view === ChartView.DENSITY\r\n                        ? ''\r\n                        : formatDollarAmount(formattedTvlData[formattedTvlData.length - 1]?.value)}{' '}\r\n                    </MonoSpace>\r\n                  </TYPE.label>\r\n                  <TYPE.main height=\"20px\" fontSize=\"12px\">\r\n                    {valueLabel ? <MonoSpace>{valueLabel}</MonoSpace> : ''}\r\n                  </TYPE.main>\r\n                </AutoColumn>\r\n                <ToggleWrapper width=\"200px\">\r\n                  <ToggleElementFree\r\n                    isActive={view === ChartView.TVL}\r\n                    fontSize=\"12px\"\r\n                    onClick={() => (view === ChartView.TVL ? setView(ChartView.DENSITY) : setView(ChartView.TVL))}\r\n                  >\r\n                    TVL\r\n                  </ToggleElementFree>\r\n                  <ToggleElementFree\r\n                    isActive={view === ChartView.VOL}\r\n                    fontSize=\"12px\"\r\n                    onClick={() => (view === ChartView.VOL ? setView(ChartView.TVL) : setView(ChartView.VOL))}\r\n                  >\r\n                    Aqua Premium\r\n                  </ToggleElementFree>\r\n                  {/* <ToggleElementFree\r\n                    isActive={view === ChartView.DENSITY}\r\n                    fontSize=\"12px\"\r\n                    onClick={() => (view === ChartView.DENSITY ? setView(ChartView.VOL) : setView(ChartView.DENSITY))}\r\n                  >\r\n                    Liquidity\r\n                  </ToggleElementFree> */}\r\n                </ToggleWrapper>\r\n              </RowBetween>\r\n              {view === ChartView.TVL ? (\r\n                <LineChart\r\n                  data={formattedTvlData}\r\n                  setLabel={setValueLabel}\r\n                  color={backgroundColor}\r\n                  minHeight={340}\r\n                  setValue={setLatestValue}\r\n                  value={latestValue}\r\n                  label={valueLabel}\r\n                />\r\n              ) : view === ChartView.VOL ? (\r\n                <BarChart\r\n                  data={formattedVolumeData}\r\n                  color={backgroundColor}\r\n                  minHeight={340}\r\n                  setValue={setLatestValue}\r\n                  setLabel={setValueLabel}\r\n                  value={latestValue}\r\n                  label={valueLabel}\r\n                />\r\n              ) : (\r\n                <DensityChart address={address} />\r\n              )}\r\n            </DarkGreyCard>\r\n          </ContentLayout>\r\n          <TYPE.main fontSize=\"24px\">Transactions</TYPE.main>\r\n          <DarkGreyCard>\r\n            {transactions ? <TransactionTable transactions={transactions} /> : <LocalLoader fill={false} />}\r\n          </DarkGreyCard>\r\n        </AutoColumn>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </PageWrapper>\r\n  )\r\n}\r\n","import React, { Suspense, useState, useEffect } from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport GoogleAnalyticsReporter from '../components/analytics/GoogleAnalyticsReporter'\r\nimport Header from '../components/Header'\r\nimport URLWarning from '../components/Header/URLWarning'\r\nimport Popups from '../components/Popups'\r\nimport DarkModeQueryParamReader from '../theme/DarkModeQueryParamReader'\r\nimport Home from './Home'\r\nimport Protocol from './Protocol'\r\nimport PoolsOverview from './Pool/PoolsOverview'\r\nimport TokensOverview from './Token/TokensOverview'\r\nimport TopBar from 'components/Header/TopBar'\r\nimport { RedirectInvalidToken } from './Token/redirects'\r\nimport { LocalLoader } from 'components/Loader'\r\nimport PoolPage from './Pool/PoolPage'\r\nimport { ExternalLink, HideMedium, TYPE } from 'theme'\r\nimport { useSubgraphStatus } from 'state/application/hooks'\r\nimport { DarkGreyCard } from 'components/Card'\r\n\r\nconst AppWrapper = styled.div`\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: flex-start;\r\n  overflow-x: hidden;\r\n  min-height: 100vh;\r\n`\r\n\r\nconst HeaderWrapper = styled.div`\r\n  ${({ theme }) => theme.flexColumnNoWrap}\r\n  width: 100%;\r\n  position: fixed;\r\n  justify-content: space-between;\r\n  z-index: 2;\r\n`\r\n\r\nconst BodyWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding-top: 40px;\r\n  margin-top: 100px;\r\n  align-items: center;\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  z-index: 10;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    padding-top: 2rem;\r\n    margin-top: 100px;\r\n  `};\r\n\r\n  z-index: 1;\r\n\r\n  > * {\r\n    max-width: 1200px;\r\n  }\r\n`\r\n\r\nconst Marginer = styled.div`\r\n  margin-top: 5rem;\r\n`\r\n\r\nexport default function App() {\r\n  // pretend load buffer\r\n  const [loading, setLoading] = useState(true)\r\n  useEffect(() => {\r\n    setTimeout(() => setLoading(false), 1300)\r\n  }, [])\r\n\r\n  // subgraph health\r\n  const [subgraphStatus] = useSubgraphStatus()\r\n\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <Route component={GoogleAnalyticsReporter} />\r\n      <Route component={DarkModeQueryParamReader} />\r\n      {loading ? (\r\n        <LocalLoader fill={true} />\r\n      ) : subgraphStatus.available === false ? (\r\n        <AppWrapper>\r\n          <BodyWrapper>\r\n            <DarkGreyCard style={{ maxWidth: '340px' }}>\r\n              <TYPE.label>\r\n                The Graph network which provides data for this site is temporarily down. Check status{' '}\r\n                <ExternalLink href=\"https://thegraph.com/explorer/subgraph/ianlapham/uniswap-v3-testing\">\r\n                  here.\r\n                </ExternalLink>\r\n              </TYPE.label>\r\n            </DarkGreyCard>\r\n          </BodyWrapper>\r\n        </AppWrapper>\r\n      ) : (\r\n        <AppWrapper>\r\n          <URLWarning />\r\n          <HeaderWrapper>\r\n            <HideMedium>\r\n              <TopBar />\r\n            </HideMedium>\r\n            <Header />\r\n          </HeaderWrapper>\r\n          <BodyWrapper>\r\n            <Popups />\r\n            <Switch>\r\n              <Route exact strict path=\"/\" component={Home} />\r\n              <Route exact strict path=\"/protocol\" component={Protocol} />\r\n              <Route exact strict path=\"/pools\" component={PoolsOverview} />\r\n              <Route exact strict path=\"/tokens\" component={TokensOverview} />\r\n              <Route exact strict path=\"/tokens/:address\" component={RedirectInvalidToken} />\r\n              <Route exact strict path=\"/pools/:address\" component={PoolPage} />\r\n            </Switch>\r\n            <Marginer />\r\n          </BodyWrapper>\r\n        </AppWrapper>\r\n      )}\r\n    </Suspense>\r\n  )\r\n}\r\n","import { createReducer, nanoid } from '@reduxjs/toolkit'\r\nimport {\r\n  addPopup,\r\n  PopupContent,\r\n  removePopup,\r\n  updateBlockNumber,\r\n  updateSubgraphStatus,\r\n  ApplicationModal,\r\n  setOpenModal,\r\n} from './actions'\r\n\r\ntype PopupList = Array<{ key: string; show: boolean; content: PopupContent; removeAfterMs: number | null }>\r\n\r\nexport interface ApplicationState {\r\n  readonly blockNumber: { readonly [chainId: number]: number }\r\n  readonly popupList: PopupList\r\n  readonly openModal: ApplicationModal | null\r\n  readonly subgraphStatus: {\r\n    available: boolean | null\r\n    syncedBlock: number | undefined\r\n  }\r\n}\r\n\r\nconst initialState: ApplicationState = {\r\n  blockNumber: {},\r\n  popupList: [],\r\n  openModal: null,\r\n  subgraphStatus: {\r\n    available: null,\r\n    syncedBlock: undefined,\r\n  },\r\n}\r\n\r\nexport default createReducer(initialState, (builder) =>\r\n  builder\r\n    .addCase(updateBlockNumber, (state, action) => {\r\n      const { chainId, blockNumber } = action.payload\r\n      if (typeof state.blockNumber[chainId] !== 'number') {\r\n        state.blockNumber[chainId] = blockNumber\r\n      } else {\r\n        state.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId])\r\n      }\r\n    })\r\n    .addCase(setOpenModal, (state, action) => {\r\n      state.openModal = action.payload\r\n    })\r\n    .addCase(addPopup, (state, { payload: { content, key, removeAfterMs = 15000 } }) => {\r\n      state.popupList = (key ? state.popupList.filter((popup) => popup.key !== key) : state.popupList).concat([\r\n        {\r\n          key: key || nanoid(),\r\n          show: true,\r\n          content,\r\n          removeAfterMs,\r\n        },\r\n      ])\r\n    })\r\n    .addCase(removePopup, (state, { payload: { key } }) => {\r\n      state.popupList.forEach((p) => {\r\n        if (p.key === key) {\r\n          p.show = false\r\n        }\r\n      })\r\n    })\r\n    .addCase(updateSubgraphStatus, (state, { payload: { available, syncedBlock } }) => {\r\n      state.subgraphStatus = {\r\n        available,\r\n        syncedBlock,\r\n      }\r\n    })\r\n)\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\n// fired once when the app reloads but before the app renders\r\n// allows any updates to be applied to store data loaded from localStorage\r\nexport const updateVersion = createAction<void>('global/updateVersion')\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { updateVersion } from '../global/actions'\r\nimport {\r\n  addSerializedPair,\r\n  addSerializedToken,\r\n  removeSerializedPair,\r\n  removeSerializedToken,\r\n  SerializedPair,\r\n  SerializedToken,\r\n  updateMatchesDarkMode,\r\n  updateUserDarkMode,\r\n  toggleURLWarning,\r\n  changeProtocol,\r\n  addSavedToken,\r\n  addSavedPool,\r\n} from './actions'\r\n\r\nconst currentTimestamp = () => new Date().getTime()\r\n\r\nexport interface UserState {\r\n  // the timestamp of the last updateVersion action\r\n  lastUpdateVersionTimestamp?: number\r\n\r\n  userDarkMode: boolean | null // the user's choice for dark mode or light mode\r\n  matchesDarkMode: boolean // whether the dark mode media query matches\r\n\r\n  tokens: {\r\n    [chainId: number]: {\r\n      [address: string]: SerializedToken\r\n    }\r\n  }\r\n\r\n  pairs: {\r\n    [chainId: number]: {\r\n      // keyed by token0Address:token1Address\r\n      [key: string]: SerializedPair\r\n    }\r\n  }\r\n\r\n  protocol: string\r\n  savedTokens: string[]\r\n  savedPools: string[]\r\n  timestamp: number\r\n  URLWarningVisible: boolean\r\n}\r\n\r\nfunction pairKey(token0Address: string, token1Address: string) {\r\n  return `${token0Address};${token1Address}`\r\n}\r\n\r\nexport const initialState: UserState = {\r\n  userDarkMode: true,\r\n  matchesDarkMode: false,\r\n  tokens: {},\r\n  pairs: {},\r\n  protocol: 'v3',\r\n  savedTokens: [],\r\n  savedPools: [],\r\n  timestamp: currentTimestamp(),\r\n  URLWarningVisible: true,\r\n}\r\n\r\nexport default createReducer(initialState, (builder) =>\r\n  builder\r\n    .addCase(updateVersion, (state) => {\r\n      state.lastUpdateVersionTimestamp = currentTimestamp()\r\n    })\r\n    .addCase(updateUserDarkMode, (state, action) => {\r\n      state.userDarkMode = action.payload.userDarkMode\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(updateMatchesDarkMode, (state, action) => {\r\n      state.matchesDarkMode = action.payload.matchesDarkMode\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(addSerializedToken, (state, { payload: { serializedToken } }) => {\r\n      state.tokens[serializedToken.chainId] = state.tokens[serializedToken.chainId] || {}\r\n      state.tokens[serializedToken.chainId][serializedToken.address] = serializedToken\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(removeSerializedToken, (state, { payload: { address, chainId } }) => {\r\n      state.tokens[chainId] = state.tokens[chainId] || {}\r\n      delete state.tokens[chainId][address]\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(addSavedToken, (state, { payload: { address } }) => {\r\n      if (!state.savedTokens || !state.savedTokens.includes(address)) {\r\n        const newTokens = state.savedTokens ?? []\r\n        newTokens.push(address)\r\n        state.savedTokens = newTokens\r\n      }\r\n      // toggle for delete\r\n      else if (state.savedTokens && state.savedTokens.includes(address)) {\r\n        const newTokens = state.savedTokens.filter((x) => x !== address)\r\n        state.savedTokens = newTokens\r\n      }\r\n    })\r\n    .addCase(changeProtocol, (state, { payload }) => {\r\n      console.log('PAYLOAD', payload)\r\n      state.protocol = payload\r\n    })\r\n    // .addCase(changeProtocol, (state, { payload: { address } }) => {\r\n\r\n    //   state.protocol = address\r\n    // })\r\n    .addCase(addSavedPool, (state, { payload: { address } }) => {\r\n      if (!state.savedPools || !state.savedPools.includes(address)) {\r\n        const newPools = state.savedPools ?? []\r\n        newPools.push(address)\r\n        state.savedPools = newPools\r\n      } else if (state.savedPools && state.savedPools.includes(address)) {\r\n        const newPools = state.savedPools.filter((x) => x !== address)\r\n        state.savedPools = newPools\r\n      }\r\n    })\r\n    .addCase(addSerializedPair, (state, { payload: { serializedPair } }) => {\r\n      if (\r\n        serializedPair.token0.chainId === serializedPair.token1.chainId &&\r\n        serializedPair.token0.address !== serializedPair.token1.address\r\n      ) {\r\n        const chainId = serializedPair.token0.chainId\r\n        state.pairs[chainId] = state.pairs[chainId] || {}\r\n        state.pairs[chainId][pairKey(serializedPair.token0.address, serializedPair.token1.address)] = serializedPair\r\n      }\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(removeSerializedPair, (state, { payload: { chainId, tokenAAddress, tokenBAddress } }) => {\r\n      if (state.pairs[chainId]) {\r\n        // just delete both keys if either exists\r\n        delete state.pairs[chainId][pairKey(tokenAAddress, tokenBAddress)]\r\n        delete state.pairs[chainId][pairKey(tokenBAddress, tokenAAddress)]\r\n      }\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(toggleURLWarning, (state) => {\r\n      state.URLWarningVisible = !state.URLWarningVisible\r\n    })\r\n)\r\n","// used to mark unsupported tokens, these are hosted lists of unsupported tokens\r\n/**\r\n * @TODO add list from blockchain association\r\n */\r\nexport const UNSUPPORTED_LIST_URLS: string[] = []\r\n\r\n// const COMPOUND_LIST = 'https://raw.githubusercontent.com/compound-finance/token-list/master/compound.tokenlist.json'\r\n// const UMA_LIST = 'https://umaproject.org/uma.tokenlist.json'\r\n// const AAVE_LIST = 'tokenlist.aave.eth'\r\n// const SYNTHETIX_LIST = 'synths.snx.eth'\r\n// const WRAPPED_LIST = 'wrapped.tokensoft.eth'\r\n// const SET_LIST = 'https://raw.githubusercontent.com/SetProtocol/uniswap-tokenlist/main/set.tokenlist.json'\r\n// const OPYN_LIST = 'https://raw.githubusercontent.com/opynfinance/opyn-tokenlist/master/opyn-v1.tokenlist.json'\r\n// const ROLL_LIST = 'https://app.tryroll.com/tokens.json'\r\n// const COINGECKO_LIST = 'https://tokens.coingecko.com/uniswap/all.json'\r\n// const CMC_ALL_LIST = 'defi.cmc.eth'\r\n// const CMC_STABLECOIN = 'stablecoin.cmc.eth'\r\n// const KLEROS_LIST = 't2crtokens.eth'\r\nconst GEMINI_LIST = 'https://www.gemini.com/uniswap/manifest.json'\r\n\r\n// lower index == higher priority for token import\r\nexport const DEFAULT_LIST_OF_LISTS: string[] = [\r\n  GEMINI_LIST,\r\n  ...UNSUPPORTED_LIST_URLS, // need to load unsupported tokens as well\r\n]\r\n\r\n// default lists to be 'active' aka searched across\r\nexport const DEFAULT_ACTIVE_LIST_URLS: string[] = [GEMINI_LIST]\r\n","import { DEFAULT_ACTIVE_LIST_URLS } from './../../constants/lists'\r\nimport { createReducer } from '@reduxjs/toolkit'\r\nimport { getVersionUpgrade, VersionUpgrade } from '@uniswap/token-lists'\r\nimport { TokenList } from '@uniswap/token-lists/dist/types'\r\nimport { DEFAULT_LIST_OF_LISTS } from '../../constants/lists'\r\nimport { updateVersion } from '../global/actions'\r\nimport { acceptListUpdate, addList, fetchTokenList, removeList, enableList, disableList } from './actions'\r\n\r\nexport interface ListsState {\r\n  readonly byUrl: {\r\n    readonly [url: string]: {\r\n      readonly current: TokenList | null\r\n      readonly pendingUpdate: TokenList | null\r\n      readonly loadingRequestId: string | null\r\n      readonly error: string | null\r\n    }\r\n  }\r\n  // this contains the default list of lists from the last time the updateVersion was called, i.e. the app was reloaded\r\n  readonly lastInitializedDefaultListOfLists?: string[]\r\n\r\n  // currently active lists\r\n  readonly activeListUrls: string[] | undefined\r\n}\r\n\r\ntype ListState = ListsState['byUrl'][string]\r\n\r\nconst NEW_LIST_STATE: ListState = {\r\n  error: null,\r\n  current: null,\r\n  loadingRequestId: null,\r\n  pendingUpdate: null,\r\n}\r\n\r\ntype Mutable<T> = { -readonly [P in keyof T]: T[P] extends ReadonlyArray<infer U> ? U[] : T[P] }\r\n\r\nconst initialState: ListsState = {\r\n  lastInitializedDefaultListOfLists: DEFAULT_LIST_OF_LISTS,\r\n  byUrl: {\r\n    ...DEFAULT_LIST_OF_LISTS.reduce<Mutable<ListsState['byUrl']>>((memo, listUrl) => {\r\n      memo[listUrl] = NEW_LIST_STATE\r\n      return memo\r\n    }, {}),\r\n  },\r\n  activeListUrls: DEFAULT_ACTIVE_LIST_URLS,\r\n}\r\n\r\nexport default createReducer(initialState, (builder) =>\r\n  builder\r\n    .addCase(fetchTokenList.pending, (state, { payload: { requestId, url } }) => {\r\n      state.byUrl[url] = {\r\n        current: null,\r\n        pendingUpdate: null,\r\n        ...state.byUrl[url],\r\n        loadingRequestId: requestId,\r\n        error: null,\r\n      }\r\n    })\r\n    .addCase(fetchTokenList.fulfilled, (state, { payload: { requestId, tokenList, url } }) => {\r\n      const current = state.byUrl[url]?.current\r\n      const loadingRequestId = state.byUrl[url]?.loadingRequestId\r\n\r\n      // no-op if update does nothing\r\n      if (current) {\r\n        const upgradeType = getVersionUpgrade(current.version, tokenList.version)\r\n\r\n        if (upgradeType === VersionUpgrade.NONE) return\r\n        if (loadingRequestId === null || loadingRequestId === requestId) {\r\n          state.byUrl[url] = {\r\n            ...state.byUrl[url],\r\n            loadingRequestId: null,\r\n            error: null,\r\n            current: current,\r\n            pendingUpdate: tokenList,\r\n          }\r\n        }\r\n      } else {\r\n        // activate if on default active\r\n        if (DEFAULT_ACTIVE_LIST_URLS.includes(url)) {\r\n          state.activeListUrls?.push(url)\r\n        }\r\n\r\n        state.byUrl[url] = {\r\n          ...state.byUrl[url],\r\n          loadingRequestId: null,\r\n          error: null,\r\n          current: tokenList,\r\n          pendingUpdate: null,\r\n        }\r\n      }\r\n    })\r\n    .addCase(fetchTokenList.rejected, (state, { payload: { url, requestId, errorMessage } }) => {\r\n      if (state.byUrl[url]?.loadingRequestId !== requestId) {\r\n        // no-op since it's not the latest request\r\n        return\r\n      }\r\n\r\n      state.byUrl[url] = {\r\n        ...state.byUrl[url],\r\n        loadingRequestId: null,\r\n        error: errorMessage,\r\n        current: null,\r\n        pendingUpdate: null,\r\n      }\r\n    })\r\n    .addCase(addList, (state, { payload: url }) => {\r\n      if (!state.byUrl[url]) {\r\n        state.byUrl[url] = NEW_LIST_STATE\r\n      }\r\n    })\r\n    .addCase(removeList, (state, { payload: url }) => {\r\n      if (state.byUrl[url]) {\r\n        delete state.byUrl[url]\r\n      }\r\n      // remove list from active urls if needed\r\n      if (state.activeListUrls && state.activeListUrls.includes(url)) {\r\n        state.activeListUrls = state.activeListUrls.filter((u) => u !== url)\r\n      }\r\n    })\r\n    .addCase(enableList, (state, { payload: url }) => {\r\n      if (!state.byUrl[url]) {\r\n        state.byUrl[url] = NEW_LIST_STATE\r\n      }\r\n\r\n      if (state.activeListUrls && !state.activeListUrls.includes(url)) {\r\n        state.activeListUrls.push(url)\r\n      }\r\n\r\n      if (!state.activeListUrls) {\r\n        state.activeListUrls = [url]\r\n      }\r\n    })\r\n    .addCase(disableList, (state, { payload: url }) => {\r\n      if (state.activeListUrls && state.activeListUrls.includes(url)) {\r\n        state.activeListUrls = state.activeListUrls.filter((u) => u !== url)\r\n      }\r\n    })\r\n    .addCase(acceptListUpdate, (state, { payload: url }) => {\r\n      if (!state.byUrl[url]?.pendingUpdate) {\r\n        throw new Error('accept list update called without pending update')\r\n      }\r\n      state.byUrl[url] = {\r\n        ...state.byUrl[url],\r\n        pendingUpdate: null,\r\n        current: state.byUrl[url].pendingUpdate,\r\n      }\r\n    })\r\n    .addCase(updateVersion, (state) => {\r\n      // state loaded from localStorage, but new lists have never been initialized\r\n      if (!state.lastInitializedDefaultListOfLists) {\r\n        state.byUrl = initialState.byUrl\r\n        state.activeListUrls = initialState.activeListUrls\r\n      } else if (state.lastInitializedDefaultListOfLists) {\r\n        const lastInitializedSet = state.lastInitializedDefaultListOfLists.reduce<Set<string>>(\r\n          (s, l) => s.add(l),\r\n          new Set()\r\n        )\r\n        const newListOfListsSet = DEFAULT_LIST_OF_LISTS.reduce<Set<string>>((s, l) => s.add(l), new Set())\r\n\r\n        DEFAULT_LIST_OF_LISTS.forEach((listUrl) => {\r\n          if (!lastInitializedSet.has(listUrl)) {\r\n            state.byUrl[listUrl] = NEW_LIST_STATE\r\n          }\r\n        })\r\n\r\n        state.lastInitializedDefaultListOfLists.forEach((listUrl) => {\r\n          if (!newListOfListsSet.has(listUrl)) {\r\n            delete state.byUrl[listUrl]\r\n          }\r\n        })\r\n      }\r\n\r\n      state.lastInitializedDefaultListOfLists = DEFAULT_LIST_OF_LISTS\r\n\r\n      // if no active lists, activate defaults\r\n      if (!state.activeListUrls) {\r\n        state.activeListUrls = DEFAULT_ACTIVE_LIST_URLS\r\n\r\n        // for each list on default list, initialize if needed\r\n        DEFAULT_ACTIVE_LIST_URLS.map((listUrl: string) => {\r\n          if (!state.byUrl[listUrl]) {\r\n            state.byUrl[listUrl] = NEW_LIST_STATE\r\n          }\r\n          return true\r\n        })\r\n      }\r\n    })\r\n)\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport interface Call {\r\n  address: string\r\n  callData: string\r\n}\r\n\r\nconst ADDRESS_REGEX = /^0x[a-fA-F0-9]{40}$/\r\nconst LOWER_HEX_REGEX = /^0x[a-f0-9]*$/\r\nexport function toCallKey(call: Call): string {\r\n  if (!ADDRESS_REGEX.test(call.address)) {\r\n    throw new Error(`Invalid address: ${call.address}`)\r\n  }\r\n  if (!LOWER_HEX_REGEX.test(call.callData)) {\r\n    throw new Error(`Invalid hex: ${call.callData}`)\r\n  }\r\n  return `${call.address}-${call.callData}`\r\n}\r\n\r\nexport function parseCallKey(callKey: string): Call {\r\n  const pcs = callKey.split('-')\r\n  if (pcs.length !== 2) {\r\n    throw new Error(`Invalid call key: ${callKey}`)\r\n  }\r\n  return {\r\n    address: pcs[0],\r\n    callData: pcs[1],\r\n  }\r\n}\r\n\r\nexport interface ListenerOptions {\r\n  // how often this data should be fetched, by default 1\r\n  readonly blocksPerFetch?: number\r\n}\r\n\r\nexport const addMulticallListeners = createAction<{ chainId: number; calls: Call[]; options?: ListenerOptions }>(\r\n  'multicall/addMulticallListeners'\r\n)\r\nexport const removeMulticallListeners = createAction<{ chainId: number; calls: Call[]; options?: ListenerOptions }>(\r\n  'multicall/removeMulticallListeners'\r\n)\r\nexport const fetchingMulticallResults = createAction<{ chainId: number; calls: Call[]; fetchingBlockNumber: number }>(\r\n  'multicall/fetchingMulticallResults'\r\n)\r\nexport const errorFetchingMulticallResults = createAction<{\r\n  chainId: number\r\n  calls: Call[]\r\n  fetchingBlockNumber: number\r\n}>('multicall/errorFetchingMulticallResults')\r\nexport const updateMulticallResults = createAction<{\r\n  chainId: number\r\n  blockNumber: number\r\n  results: {\r\n    [callKey: string]: string | null\r\n  }\r\n}>('multicall/updateMulticallResults')\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport {\r\n  addMulticallListeners,\r\n  errorFetchingMulticallResults,\r\n  fetchingMulticallResults,\r\n  removeMulticallListeners,\r\n  toCallKey,\r\n  updateMulticallResults,\r\n} from './actions'\r\n\r\nexport interface MulticallState {\r\n  callListeners?: {\r\n    // on a per-chain basis\r\n    [chainId: number]: {\r\n      // stores for each call key the listeners' preferences\r\n      [callKey: string]: {\r\n        // stores how many listeners there are per each blocks per fetch preference\r\n        [blocksPerFetch: number]: number\r\n      }\r\n    }\r\n  }\r\n\r\n  callResults: {\r\n    [chainId: number]: {\r\n      [callKey: string]: {\r\n        data?: string | null\r\n        blockNumber?: number\r\n        fetchingBlockNumber?: number\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst initialState: MulticallState = {\r\n  callResults: {},\r\n}\r\n\r\nexport default createReducer(initialState, (builder) =>\r\n  builder\r\n    .addCase(addMulticallListeners, (state, { payload: { calls, chainId, options: { blocksPerFetch = 1 } = {} } }) => {\r\n      const listeners: MulticallState['callListeners'] = state.callListeners\r\n        ? state.callListeners\r\n        : (state.callListeners = {})\r\n      listeners[chainId] = listeners[chainId] ?? {}\r\n      calls.forEach((call) => {\r\n        const callKey = toCallKey(call)\r\n        listeners[chainId][callKey] = listeners[chainId][callKey] ?? {}\r\n        listeners[chainId][callKey][blocksPerFetch] = (listeners[chainId][callKey][blocksPerFetch] ?? 0) + 1\r\n      })\r\n    })\r\n    .addCase(\r\n      removeMulticallListeners,\r\n      (state, { payload: { chainId, calls, options: { blocksPerFetch = 1 } = {} } }) => {\r\n        const listeners: MulticallState['callListeners'] = state.callListeners\r\n          ? state.callListeners\r\n          : (state.callListeners = {})\r\n\r\n        if (!listeners[chainId]) return\r\n        calls.forEach((call) => {\r\n          const callKey = toCallKey(call)\r\n          if (!listeners[chainId][callKey]) return\r\n          if (!listeners[chainId][callKey][blocksPerFetch]) return\r\n\r\n          if (listeners[chainId][callKey][blocksPerFetch] === 1) {\r\n            delete listeners[chainId][callKey][blocksPerFetch]\r\n          } else {\r\n            listeners[chainId][callKey][blocksPerFetch]--\r\n          }\r\n        })\r\n      }\r\n    )\r\n    .addCase(fetchingMulticallResults, (state, { payload: { chainId, fetchingBlockNumber, calls } }) => {\r\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\r\n      calls.forEach((call) => {\r\n        const callKey = toCallKey(call)\r\n        const current = state.callResults[chainId][callKey]\r\n        if (!current) {\r\n          state.callResults[chainId][callKey] = {\r\n            fetchingBlockNumber,\r\n          }\r\n        } else {\r\n          if ((current.fetchingBlockNumber ?? 0) >= fetchingBlockNumber) return\r\n          state.callResults[chainId][callKey].fetchingBlockNumber = fetchingBlockNumber\r\n        }\r\n      })\r\n    })\r\n    .addCase(errorFetchingMulticallResults, (state, { payload: { fetchingBlockNumber, chainId, calls } }) => {\r\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\r\n      calls.forEach((call) => {\r\n        const callKey = toCallKey(call)\r\n        const current = state.callResults[chainId][callKey]\r\n        if (!current) return // only should be dispatched if we are already fetching\r\n        if (current.fetchingBlockNumber === fetchingBlockNumber) {\r\n          delete current.fetchingBlockNumber\r\n          current.data = null\r\n          current.blockNumber = fetchingBlockNumber\r\n        }\r\n      })\r\n    })\r\n    .addCase(updateMulticallResults, (state, { payload: { chainId, results, blockNumber } }) => {\r\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\r\n      Object.keys(results).forEach((callKey) => {\r\n        const current = state.callResults[chainId][callKey]\r\n        if ((current?.blockNumber ?? 0) > blockNumber) return\r\n        state.callResults[chainId][callKey] = {\r\n          data: results[callKey],\r\n          blockNumber,\r\n        }\r\n      })\r\n    })\r\n)\r\n","import { currentTimestamp } from './../../utils/index'\r\nimport { updateProtocolData, updateChartData, updateTransactions } from './actions'\r\nimport { createReducer } from '@reduxjs/toolkit'\r\nimport { ChartDayData, Transaction } from 'types'\r\n\r\nexport interface ProtocolData {\r\n  // id: string\r\n  // aquaPremium: string\r\n  tvlUSD: number\r\n  activeTvlUSD: number\r\n  aquaPremiumUSD: number\r\n  tvlUSDChange: number\r\n  aquaPremiumChange: number\r\n  activeTvlUSDChange: number\r\n\r\n  // stakeCount: string\r\n  // activeStakeCount: string\r\n  // unstakeCount: string\r\n}\r\n\r\nexport interface ProtocolState {\r\n  // timestamp for last updated fetch\r\n  readonly lastUpdated: number | undefined\r\n\r\n  // overview data\r\n  readonly data: ProtocolData | undefined\r\n\r\n  readonly chartData: ChartDayData[] | undefined\r\n\r\n  readonly transactions: Transaction[] | undefined\r\n}\r\n\r\nexport const initialState: ProtocolState = {\r\n  data: undefined,\r\n  chartData: undefined,\r\n  transactions: undefined,\r\n  lastUpdated: undefined,\r\n}\r\n\r\nexport default createReducer(initialState, (builder) =>\r\n  builder\r\n    .addCase(updateProtocolData, (state, { payload: { protocolData } }) => {\r\n      state.data = protocolData\r\n      // mark when last updated\r\n      state.lastUpdated = currentTimestamp()\r\n    })\r\n    .addCase(updateChartData, (state, { payload: { chartData } }) => {\r\n      state.chartData = chartData\r\n    })\r\n    .addCase(updateTransactions, (state, { payload: { transactions } }) => {\r\n      state.transactions = transactions\r\n    })\r\n)\r\n","import { currentTimestamp } from './../../utils/index'\r\nimport {\r\n  updateTokenData,\r\n  addTokenKeys,\r\n  addPoolAddresses,\r\n  updateChartData,\r\n  updatePriceData,\r\n  updateTransactions,\r\n} from './actions'\r\nimport { createReducer } from '@reduxjs/toolkit'\r\nimport { PriceChartEntry, Transaction } from 'types'\r\n\r\nexport type TokenData = {\r\n  // token is in some pool on uniswap\r\n  exists: boolean\r\n\r\n  // basic token info\r\n  name: string\r\n  symbol: string\r\n  address: string\r\n\r\n  // volume\r\n  volumeUSD: number\r\n  volumeUSDChange: number\r\n  volumeUSDWeek: number\r\n  txCount: number\r\n\r\n  //fees\r\n  feesUSD: number\r\n\r\n  // tvl\r\n  tvlToken: number\r\n  tvlUSD: number\r\n  tvlUSDChange: number\r\n\r\n  priceUSD: number\r\n  priceUSDChange: number\r\n  priceUSDChangeWeek: number\r\n}\r\n\r\nexport interface TokenChartEntry {\r\n  date: number\r\n  volumeUSD: number\r\n  totalValueLockedUSD: number\r\n}\r\n\r\nexport interface TokensState {\r\n  // analytics data from\r\n  byAddress: {\r\n    [address: string]: {\r\n      data: TokenData | undefined\r\n      poolAddresses: string[] | undefined\r\n      chartData: TokenChartEntry[] | undefined\r\n      priceData: {\r\n        oldestFetchedTimestamp?: number | undefined\r\n        [secondsInterval: number]: PriceChartEntry[] | undefined\r\n      }\r\n      transactions: Transaction[] | undefined\r\n      lastUpdated: number | undefined\r\n    }\r\n  }\r\n}\r\n\r\nexport const initialState: TokensState = { byAddress: {} }\r\n\r\nexport default createReducer(initialState, (builder) =>\r\n  builder\r\n    .addCase(updateTokenData, (state, { payload: { tokens } }) => {\r\n      tokens.map(\r\n        (tokenData) =>\r\n          (state.byAddress[tokenData.address] = {\r\n            ...state.byAddress[tokenData.address],\r\n            data: tokenData,\r\n            lastUpdated: currentTimestamp(),\r\n          })\r\n      )\r\n    }) // add address to byAddress keys if not included yet\r\n    .addCase(addTokenKeys, (state, { payload: { tokenAddresses } }) => {\r\n      tokenAddresses.map((address) => {\r\n        if (!state.byAddress[address]) {\r\n          state.byAddress[address] = {\r\n            poolAddresses: undefined,\r\n            data: undefined,\r\n            chartData: undefined,\r\n            priceData: {},\r\n            transactions: undefined,\r\n            lastUpdated: undefined,\r\n          }\r\n        }\r\n      })\r\n    })\r\n    // add list of pools the token is included in\r\n    .addCase(addPoolAddresses, (state, { payload: { tokenAddress, poolAddresses } }) => {\r\n      state.byAddress[tokenAddress] = { ...state.byAddress[tokenAddress], poolAddresses }\r\n    })\r\n    // add list of pools the token is included in\r\n    .addCase(updateChartData, (state, { payload: { tokenAddress, chartData } }) => {\r\n      state.byAddress[tokenAddress] = { ...state.byAddress[tokenAddress], chartData }\r\n    })\r\n    // add list of pools the token is included in\r\n    .addCase(updateTransactions, (state, { payload: { tokenAddress, transactions } }) => {\r\n      state.byAddress[tokenAddress] = { ...state.byAddress[tokenAddress], transactions }\r\n    })\r\n    // update historical price volume based on interval size\r\n    .addCase(\r\n      updatePriceData,\r\n      (state, { payload: { tokenAddress, secondsInterval, priceData, oldestFetchedTimestamp } }) => {\r\n        state.byAddress[tokenAddress] = {\r\n          ...state.byAddress[tokenAddress],\r\n          priceData: {\r\n            ...state.byAddress[tokenAddress].priceData,\r\n            [secondsInterval]: priceData,\r\n            oldestFetchedTimestamp,\r\n          },\r\n        }\r\n      }\r\n    )\r\n)\r\n","import { currentTimestamp } from './../../utils/index'\r\nimport { updatePoolData, addPoolKeys, updatePoolChartData, updatePoolTransactions, updateTickData } from './actions'\r\nimport { createReducer } from '@reduxjs/toolkit'\r\nimport { SerializedToken } from 'state/user/actions'\r\nimport { Transaction } from 'types'\r\nimport { PoolTickData } from 'data/pools/tickData'\r\n\r\nexport interface Pool {\r\n  address: string\r\n  token0: SerializedToken\r\n  token1: SerializedToken\r\n}\r\n\r\n// export interface PoolData2 {\r\n//   // basic token info\r\n//   feeTier: number\r\n//   token0: {\r\n//     symbol: string\r\n//   }\r\n//   token1: {\r\n//     symbol: string\r\n//   }\r\n//   totalValueLocked: number\r\n//   aquaPremium: number\r\n//   aquaPremiumCollectedUSD: number\r\n// }\r\nexport interface PoolData {\r\n  id: string\r\n  createdAtTimestamp: string\r\n\r\n  token0: {\r\n    id: string\r\n    symbol: string\r\n    name: string\r\n    decimals: string\r\n  }\r\n  token1: {\r\n    id: string\r\n    symbol: string\r\n    name: string\r\n    decimals: string\r\n  }\r\n  feeTier: string\r\n  token0Price: string\r\n  token1Price: string\r\n  aquaPremium: string\r\n\r\n  totalValueLockedToken0: string\r\n  totalValueLockedToken1: string\r\n  totalValueLocked: string\r\n  aquaPremiumCollected: string\r\n  aquaPremiumCollectedUSD: string\r\n  stakeCount: string\r\n  unstakeCount: string\r\n  // tvlUSD: number\r\n  aquaPremiumCollectedUSDChange: number\r\n  tvlUSDChange: number\r\n}\r\n\r\nexport type PoolChartEntry = {\r\n  date: number\r\n  aquaPremiumUSD: number\r\n  totalValueLockedUSD: number\r\n}\r\n\r\nexport interface PoolsState {\r\n  // analytics data from\r\n  byAddress: {\r\n    [address: string]: {\r\n      data: PoolData | undefined\r\n      chartData: PoolChartEntry[] | undefined\r\n      transactions: Transaction[] | undefined\r\n      lastUpdated: number | undefined\r\n      tickData: PoolTickData | undefined\r\n    }\r\n  }\r\n}\r\n\r\nexport const initialState: PoolsState = { byAddress: {} }\r\n\r\nexport default createReducer(initialState, (builder) =>\r\n  builder\r\n    .addCase(updatePoolData, (state, { payload: { pools } }) => {\r\n      pools.map(\r\n        (poolData) =>\r\n          (state.byAddress[poolData.id] = {\r\n            ...state.byAddress[poolData.id],\r\n            data: poolData,\r\n            lastUpdated: currentTimestamp(),\r\n          })\r\n      )\r\n    })\r\n    // add address to byAddress keys if not included yet\r\n    .addCase(addPoolKeys, (state, { payload: { poolAddresses } }) => {\r\n      poolAddresses.map((address) => {\r\n        if (!state.byAddress[address]) {\r\n          state.byAddress[address] = {\r\n            data: undefined,\r\n            chartData: undefined,\r\n            transactions: undefined,\r\n            lastUpdated: undefined,\r\n            tickData: undefined,\r\n          }\r\n        }\r\n      })\r\n    })\r\n    .addCase(updatePoolChartData, (state, { payload: { poolAddress, chartData } }) => {\r\n      state.byAddress[poolAddress] = { ...state.byAddress[poolAddress], chartData: chartData }\r\n    })\r\n    .addCase(updatePoolTransactions, (state, { payload: { poolAddress, transactions } }) => {\r\n      state.byAddress[poolAddress] = { ...state.byAddress[poolAddress], transactions }\r\n    })\r\n    .addCase(updateTickData, (state, { payload: { poolAddress, tickData } }) => {\r\n      state.byAddress[poolAddress] = { ...state.byAddress[poolAddress], tickData }\r\n    })\r\n)\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit'\r\nimport { save, load } from 'redux-localstorage-simple'\r\n\r\nimport application from './application/reducer'\r\nimport { updateVersion } from './global/actions'\r\nimport user from './user/reducer'\r\nimport lists from './lists/reducer'\r\nimport multicall from './multicall/reducer'\r\nimport protocol from './protocol/reducer'\r\nimport tokens from './tokens/reducer'\r\nimport pools from './pools/reducer'\r\n\r\nconst PERSISTED_KEYS: string[] = ['user', 'lists']\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    application,\r\n    user,\r\n    multicall,\r\n    lists,\r\n    protocol,\r\n    tokens,\r\n    pools,\r\n  },\r\n  middleware: [...getDefaultMiddleware({ thunk: false, immutableCheck: false }), save({ states: PERSISTED_KEYS })],\r\n  preloadedState: load({ states: PERSISTED_KEYS }),\r\n})\r\n\r\nstore.dispatch(updateVersion())\r\n\r\nexport default store\r\n\r\nexport type AppState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\n","import { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { AppDispatch } from '../index'\r\nimport { updateMatchesDarkMode, changeProtocol } from './actions'\r\n\r\nexport default function Updater(): null {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  // keep dark mode in sync with the system\r\n  useEffect(() => {\r\n    dispatch(changeProtocol('v2'))\r\n\r\n    const darkHandler = (match: MediaQueryListEvent) => {\r\n      dispatch(updateMatchesDarkMode({ matchesDarkMode: match.matches }))\r\n    }\r\n\r\n    const match = window?.matchMedia('(prefers-color-scheme: dark)')\r\n    dispatch(updateMatchesDarkMode({ matchesDarkMode: match.matches }))\r\n\r\n    if (match?.addListener) {\r\n      match?.addListener(darkHandler)\r\n    } else if (match?.addEventListener) {\r\n      match?.addEventListener('change', darkHandler)\r\n    }\r\n\r\n    return () => {\r\n      if (match?.removeListener) {\r\n        match?.removeListener(darkHandler)\r\n      } else if (match?.removeEventListener) {\r\n        match?.removeEventListener('change', darkHandler)\r\n      }\r\n    }\r\n  }, [dispatch])\r\n\r\n  return null\r\n}\r\n","import { getPercentChange } from '../../utils/data'\r\nimport { ProtocolData } from '../../state/protocol/reducer'\r\nimport gql from 'graphql-tag'\r\nimport { useQuery } from '@apollo/client'\r\nimport { useDeltaTimestamps } from 'utils/queries'\r\nimport { useBlocksFromTimestamps } from 'hooks/useBlocksFromTimestamps'\r\nimport { useMemo } from 'react'\r\n\r\nexport const GLOBAL_DATA = (block?: string) => {\r\n  const queryString = ` query uniswapFactories {\r\n    aquaPrimaries(\r\n       ${block ? `block: { number: ${block}}` : ``}\r\n       first: 1) {\r\n        id\r\n        tvlUSD\r\n        aquaPremium\r\n  activeTvlUSD\r\n  aquaPremiumUSD\r\n  stakeCount\r\n  activeStakeCount\r\n  unstakeCount\r\n      }\r\n    }`\r\n  return gql(queryString)\r\n}\r\n\r\ninterface GlobalResponse {\r\n  aquaPrimaries: {\r\n    // id: string\r\n    // aquaPremium: string\r\n    tvlUSD: number\r\n    activeTvlUSD: number\r\n    aquaPremiumUSD: number\r\n    tvlUSDChange: string\r\n    aquaPremiumChange: string\r\n    activeTvlUSDChange: string\r\n    // stakeCount: string\r\n    // activeStakeCount: string\r\n    // unstakeCount: string\r\n  }[]\r\n}\r\n\r\n// mocked\r\nexport function useFetchProtocolData(): {\r\n  loading: boolean\r\n  error: boolean\r\n  data: ProtocolData | undefined\r\n} {\r\n  // get blocks from historic timestamps\r\n  const [t24, t48] = useDeltaTimestamps()\r\n  const { blocks, error: blockError } = useBlocksFromTimestamps([t24, t48])\r\n  const [block24, block48] = blocks ?? []\r\n\r\n  // fetch all data\r\n  const { loading, error, data } = useQuery<GlobalResponse>(GLOBAL_DATA())\r\n  // console.log('OVERVIEW DATA', data, error)\r\n  const { loading: loading24, error: error24, data: data24 } = useQuery<GlobalResponse>(\r\n    GLOBAL_DATA(block24?.number ?? undefined)\r\n  )\r\n  const { loading: loading48, error: error48, data: data48 } = useQuery<GlobalResponse>(\r\n    GLOBAL_DATA(block48?.number ?? undefined)\r\n  )\r\n\r\n  const anyError = Boolean(error || error24 || error48 || blockError)\r\n  const anyLoading = Boolean(loading || loading24 || loading48)\r\n\r\n  const parsed = data?.aquaPrimaries?.[0]\r\n  const parsed24 = data24?.aquaPrimaries?.[0]\r\n  const parsed48 = data48?.aquaPrimaries?.[0]\r\n  console.log('parsed DATA', parsed, parsed24)\r\n\r\n  const formattedData: ProtocolData | undefined = useMemo(() => {\r\n    if (anyError || anyLoading || !parsed || !blocks) {\r\n      return undefined\r\n    }\r\n\r\n    const tvlUSD = parsed && parsed24 ? parsed.tvlUSD - parsed24.tvlUSD : parsed.tvlUSD\r\n\r\n    const aquaPremiumUSD = parsed && parsed24 ? parsed.aquaPremiumUSD - parsed24.aquaPremiumUSD : parsed.aquaPremiumUSD\r\n\r\n    const activeTvlUSD = parsed && parsed24 ? parsed.activeTvlUSD - parsed24.activeTvlUSD : parsed.activeTvlUSD\r\n    console.log('TYE OF PARSED', typeof parsed.tvlUSD)\r\n\r\n    // volume data\r\n    // const volumeUSD =\r\n    //   parsed && parsed24 ? parseFloat(parsed.tvlUSD) - parseFloat(parsed24.tvlUSD) : parseFloat(parsed.tvlUSD)\r\n\r\n    // const volumeOneWindowAgo =\r\n    //   parsed24 && parsed48 ? parseFloat(parsed24.tvlUSD) - parseFloat(parsed48.tvlUSD) : undefined\r\n\r\n    // const volumeUSDChange =\r\n    //   volumeUSD && volumeOneWindowAgo ? ((volumeUSD - volumeOneWindowAgo) / volumeOneWindowAgo) * 100 : 0\r\n\r\n    // // total value locked\r\n    const tvlUSDChange = getPercentChange(parsed?.tvlUSD.toString(), parsed24?.tvlUSD.toString())\r\n    const aquaPremiumChange = getPercentChange(parsed?.aquaPremiumUSD.toString(), parsed24?.aquaPremiumUSD.toString())\r\n    const activeTvlUSDChange = getPercentChange(parsed?.activeTvlUSD.toString(), parsed24?.activeTvlUSD.toString())\r\n    console.log('CHANGE===', tvlUSDChange, aquaPremiumChange, tvlUSD)\r\n    // // 24H transactions\r\n    // const txCount =\r\n    //   parsed && parsed24\r\n    //     ? parseFloat(parsed.stakeCount) - parseFloat(parsed24.stakeCount)\r\n    //     : parseFloat(parsed.stakeCount)\r\n\r\n    // const txCountOneWindowAgo =\r\n    //   parsed24 && parsed48 ? parseFloat(parsed24.stakeCount) - parseFloat(parsed48.stakeCount) : undefined\r\n\r\n    // const txCountChange =\r\n    //   txCount && txCountOneWindowAgo ? getPercentChange(txCount.toString(), txCountOneWindowAgo.toString()) : 0\r\n\r\n    // const feesOneWindowAgo =\r\n    //   parsed24 && parsed48 ? parseFloat(parsed24.totalFeesUSD) - parseFloat(parsed48.totalFeesUSD) : undefined\r\n\r\n    // const feesUSD =\r\n    //   parsed && parsed24\r\n    //     ? parseFloat(parsed.totalFeesUSD) - parseFloat(parsed24.totalFeesUSD)\r\n    //     : parseFloat(parsed.totalFeesUSD)\r\n\r\n    // const feeChange =\r\n    //   feesUSD && feesOneWindowAgo ? getPercentChange(feesUSD.toString(), feesOneWindowAgo.toString()) : 0\r\n\r\n    return { aquaPremiumUSD, tvlUSD, activeTvlUSD, tvlUSDChange, aquaPremiumChange, activeTvlUSDChange }\r\n    // volumeUSD,\r\n    // volumeUSDChange: typeof volumeUSDChange === 'string' ? volumeUSDChange : 0,\r\n    // tvlUSD: parseFloat(parsed.tvlUSD),\r\n    // tvlUSDChange,\r\n    // // feesUSD,\r\n    // // feeChange,\r\n    // txCount,\r\n    // txCountChange,\r\n  }, [anyError, anyLoading, blocks, parsed, parsed24, parsed48])\r\n\r\n  return {\r\n    loading: anyLoading,\r\n    error: anyError,\r\n    data: formattedData,\r\n  }\r\n}\r\n","import { ChartDayData } from '../../types/index'\r\nimport { useState, useEffect } from 'react'\r\nimport dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc'\r\nimport weekOfYear from 'dayjs/plugin/weekOfYear'\r\nimport gql from 'graphql-tag'\r\nimport { client } from 'apollo/client'\r\n\r\n// format dayjs with the libraries that we need\r\ndayjs.extend(utc)\r\ndayjs.extend(weekOfYear)\r\nconst ONE_DAY_UNIX = 24 * 60 * 60\r\n\r\nconst GLOBAL_CHART = gql`\r\n  query uniswapDayDatas($startTime: Int!, $skip: Int!) {\r\n    aquaUniswapV3DayDatas(\r\n      first: 1000\r\n      skip: $skip\r\n      where: { date_gt: $startTime }\r\n      orderBy: date\r\n      orderDirection: asc\r\n    ) {\r\n      id\r\n      date\r\n      aquaPremiumUSD\r\n      tvlUSD\r\n    }\r\n  }\r\n`\r\n\r\ninterface ChartResults {\r\n  aquaUniswapV3DayDatas: {\r\n    date: number\r\n    aquaPremiumUSD: number\r\n    tvlUSD: number\r\n  }[]\r\n}\r\n\r\nasync function fetchChartData() {\r\n  let data: {\r\n    date: number\r\n    aquaPremiumUSD: number\r\n    tvlUSD: number\r\n  }[] = []\r\n  const startTimestamp = 1619170975\r\n  const endTimestamp = dayjs.utc().unix()\r\n\r\n  let error = false\r\n  let skip = 0\r\n  let allFound = false\r\n\r\n  try {\r\n    while (!allFound) {\r\n      const { data: chartResData, error, loading } = await client.query<ChartResults>({\r\n        query: GLOBAL_CHART,\r\n        variables: {\r\n          startTime: startTimestamp,\r\n          skip,\r\n        },\r\n        fetchPolicy: 'cache-first',\r\n      })\r\n      if (!loading) {\r\n        skip += 1000\r\n        if (chartResData.aquaUniswapV3DayDatas.length < 1000 || error) {\r\n          allFound = true\r\n        }\r\n        if (chartResData) {\r\n          data = data.concat(chartResData.aquaUniswapV3DayDatas)\r\n        }\r\n      }\r\n    }\r\n  } catch {\r\n    error = true\r\n  }\r\n\r\n  if (data) {\r\n    const formattedExisting = data.reduce((accum: { [date: number]: ChartDayData }, dayData) => {\r\n      const roundedDate = parseInt((dayData.date / ONE_DAY_UNIX).toFixed(0))\r\n      accum[roundedDate] = {\r\n        date: dayData.date,\r\n        aquaPremiumUSD: dayData.aquaPremiumUSD,\r\n        tvlUSD: dayData.tvlUSD,\r\n      }\r\n      return accum\r\n    }, {})\r\n\r\n    const firstEntry = formattedExisting[parseInt(Object.keys(formattedExisting)[0])]\r\n\r\n    // fill in empty days ( there will be no day datas if no trades made that day )\r\n    let timestamp = firstEntry?.date ?? startTimestamp\r\n    let latestTvl = firstEntry?.tvlUSD ?? 0\r\n    while (timestamp < endTimestamp - ONE_DAY_UNIX) {\r\n      const nextDay = timestamp + ONE_DAY_UNIX\r\n      const currentDayIndex = parseInt((nextDay / ONE_DAY_UNIX).toFixed(0))\r\n      if (!Object.keys(formattedExisting).includes(currentDayIndex.toString())) {\r\n        formattedExisting[currentDayIndex] = {\r\n          date: nextDay,\r\n          aquaPremiumUSD: 0,\r\n          tvlUSD: latestTvl,\r\n        }\r\n      } else {\r\n        latestTvl = formattedExisting[currentDayIndex].tvlUSD\r\n      }\r\n      timestamp = nextDay\r\n    }\r\n\r\n    const dateMap = Object.keys(formattedExisting).map((key) => {\r\n      return formattedExisting[parseInt(key)]\r\n    })\r\n\r\n    return {\r\n      data: dateMap,\r\n      error: false,\r\n    }\r\n  } else {\r\n    return {\r\n      data: undefined,\r\n      error,\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Fetch historic chart data\r\n */\r\nexport function useFetchGlobalChartData(): {\r\n  error: boolean\r\n  data: ChartDayData[] | undefined\r\n} {\r\n  const [data, setData] = useState<ChartDayData[] | undefined>()\r\n  const [error, setError] = useState(false)\r\n\r\n  useEffect(() => {\r\n    async function fetch() {\r\n      const { data, error } = await fetchChartData()\r\n      if (data && !error) {\r\n        setData(data)\r\n      } else if (error) {\r\n        setError(true)\r\n      }\r\n    }\r\n    if (!data && !error) {\r\n      fetch()\r\n    }\r\n  }, [data, error])\r\n\r\n  return {\r\n    error,\r\n    data,\r\n  }\r\n}\r\n","import { client } from 'apollo/client'\r\nimport gql from 'graphql-tag'\r\nimport { Transaction, TransactionType } from 'types'\r\nimport { formatTokenSymbol } from 'utils/tokens'\r\n\r\nconst GLOBAL_TRANSACTIONS = gql`\r\n  query transactions {\r\n    transactions {\r\n      stakes {\r\n        id\r\n        pool {\r\n          feeTier\r\n          token0 {\r\n            symbol\r\n          }\r\n          token1 {\r\n            symbol\r\n          }\r\n        }\r\n        tokenId\r\n        totalValueLocked\r\n        staker\r\n        stakeTime\r\n      }\r\n      unstakes {\r\n        id\r\n        pool {\r\n          feeTier\r\n          token0 {\r\n            symbol\r\n          }\r\n          token1 {\r\n            symbol\r\n          }\r\n        }\r\n        tokenId\r\n        totalValueLocked\r\n        staker\r\n\r\n        unstakeTime\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\ntype TransactionEntry = {\r\n  timestamp: string\r\n  id: string\r\n  stakes: {\r\n    id: string\r\n    pool: {\r\n      feeTier: string\r\n      token0: {\r\n        id: string\r\n        symbol: string\r\n      }\r\n      token1: {\r\n        id: string\r\n        symbol: string\r\n      }\r\n    }\r\n    tokenId: string\r\n    totalValueLocked: string\r\n    staker: string\r\n    stakeTime: string\r\n    // pool: {\r\n    //   token0: {\r\n    //     id: string\r\n    //     symbol: string\r\n    //   }\r\n    //   token1: {\r\n    //     id: string\r\n    //     symbol: string\r\n    //   }\r\n    // }\r\n    // origin: string\r\n    // amount0: string\r\n    // amount1: string\r\n    // amountUSD: string\r\n  }[]\r\n  unstakes: {\r\n    id: string\r\n\r\n    pool: {\r\n      feeTier: string\r\n      token0: {\r\n        id: string\r\n        symbol: string\r\n      }\r\n      token1: {\r\n        id: string\r\n        symbol: string\r\n      }\r\n    }\r\n\r\n    tokenId: string\r\n    totalValueLocked: string\r\n    staker: string\r\n    unstakeTime: string\r\n  }[]\r\n  // burns: {\r\n  //   pool: {\r\n  //     token0: {\r\n  //       id: string\r\n  //       symbol: string\r\n  //     }\r\n  //     token1: {\r\n  //       id: string\r\n  //       symbol: string\r\n  //     }\r\n  //   }\r\n  //   owner: string\r\n  //   origin: string\r\n  //   amount0: string\r\n  //   amount1: string\r\n  //   amountUSD: string\r\n  //   }[]\r\n}\r\n\r\ninterface TransactionResults {\r\n  transactions: TransactionEntry[]\r\n}\r\n\r\nexport async function fetchTopTransactions(): Promise<Transaction[] | undefined> {\r\n  try {\r\n    const { data, error, loading } = await client.query<TransactionResults>({\r\n      query: GLOBAL_TRANSACTIONS,\r\n      fetchPolicy: 'network-only',\r\n    })\r\n\r\n    if (error || loading || !data) {\r\n      return undefined\r\n    }\r\n    console.log('PT TXN DATA=====', data)\r\n\r\n    const formatted = data.transactions.reduce((accum: Transaction[], t: TransactionEntry) => {\r\n      console.log('FORMATTED DATA IN fffffffffffffffffTXN ====')\r\n\r\n      const mintEntries = t.stakes.map((m) => {\r\n        return {\r\n          type: TransactionType.MINT,\r\n          hash: t.id,\r\n          timestamp: m.stakeTime,\r\n\r\n          pool: {\r\n            feeTier: m.pool.feeTier,\r\n            token0: {\r\n              id: m.pool.token0.id,\r\n\r\n              symbol: m.pool.token0.symbol,\r\n            },\r\n            token1: {\r\n              id: m.pool.token1.id,\r\n\r\n              symbol: m.pool.token1.symbol,\r\n            },\r\n          },\r\n          tokenId: m.tokenId,\r\n          totalValueLocked: m.totalValueLocked,\r\n          staker: m.staker,\r\n          stakeTime: m.stakeTime,\r\n        }\r\n      })\r\n      const burnEntries = t.unstakes.map((m) => {\r\n        return {\r\n          type: TransactionType.BURN,\r\n          hash: t.id,\r\n\r\n          timestamp: m.unstakeTime,\r\n\r\n          pool: {\r\n            feeTier: m.pool.feeTier,\r\n            token0: {\r\n              id: m.pool.token0.id,\r\n\r\n              symbol: m.pool.token0.symbol,\r\n            },\r\n            token1: {\r\n              id: m.pool.token1.id,\r\n              staker: m.staker,\r\n\r\n              symbol: m.pool.token1.symbol,\r\n            },\r\n          },\r\n          tokenId: m.tokenId,\r\n          totalValueLocked: m.totalValueLocked,\r\n          staker: m.staker,\r\n\r\n          stakeTime: m.unstakeTime,\r\n        }\r\n      })\r\n\r\n      // const swapEntries = t.swaps.map((m) => {\r\n      //   return {\r\n      //     hash: t.id,\r\n      //     type: TransactionType.SWAP,\r\n      //     timestamp: t.timestamp,\r\n      //     sender: m.origin,\r\n      //     token0Symbol: formatTokenSymbol(m.pool.token0.id, m.pool.token0.symbol),\r\n      //     token1Symbol: formatTokenSymbol(m.pool.token1.id, m.pool.token1.symbol),\r\n      //     token0Address: m.pool.token0.id,\r\n      //     token1Address: m.pool.token1.id,\r\n      //     amountUSD: parseFloat(m.amountUSD),\r\n      //     amountToken0: parseFloat(m.amount0),\r\n      //     amountToken1: parseFloat(m.amount1),\r\n      //   }\r\n      // })\r\n      accum = [...accum, ...mintEntries, ...burnEntries]\r\n      return accum\r\n    }, [])\r\n    console.log('FORMATTED DATA IN TXN ====', formatted)\r\n    return formatted\r\n  } catch {\r\n    return undefined\r\n  }\r\n}\r\n","import { useProtocolData, useProtocolChartData, useProtocolTransactions } from './hooks'\r\nimport { useEffect } from 'react'\r\nimport { useFetchProtocolData } from 'data/protocol/overview'\r\nimport { useFetchGlobalChartData } from 'data/protocol/chart'\r\nimport { fetchTopTransactions } from 'data/protocol/transactions'\r\n\r\nexport default function Updater(): null {\r\n  const [protocolData, updateProtocolData] = useProtocolData()\r\n  const { data: fetchedProtocolData, error, loading } = useFetchProtocolData()\r\n\r\n  const [chartData, updateChartData] = useProtocolChartData()\r\n  const { data: fetchedChartData, error: chartError } = useFetchGlobalChartData()\r\n\r\n  const [transactions, updateTransactions] = useProtocolTransactions()\r\n\r\n  // update overview data if available and not set\r\n  useEffect(() => {\r\n    if (protocolData === undefined && fetchedProtocolData && !loading && !error) {\r\n      updateProtocolData(fetchedProtocolData)\r\n    }\r\n  }, [error, fetchedProtocolData, loading, protocolData, updateProtocolData])\r\n\r\n  // update global chart data if available and not set\r\n  useEffect(() => {\r\n    if (chartData === undefined && fetchedChartData && !chartError) {\r\n      updateChartData(fetchedChartData)\r\n    }\r\n  }, [chartData, chartError, fetchedChartData, updateChartData])\r\n\r\n  useEffect(() => {\r\n    async function fetch() {\r\n      const data = await fetchTopTransactions()\r\n      if (data) {\r\n        updateTransactions(data)\r\n      }\r\n    }\r\n    if (!transactions) {\r\n      fetch()\r\n    }\r\n  }, [transactions, updateTransactions])\r\n\r\n  return null\r\n}\r\n","import { useMemo } from 'react'\r\nimport { useQuery } from '@apollo/client'\r\nimport gql from 'graphql-tag'\r\n\r\nexport const TOP_TOKENS = gql`\r\n  query topPools {\r\n    tokens(first: 50, orderBy: totalValueLockedUSD, orderDirection: desc) {\r\n      id\r\n    }\r\n  }\r\n`\r\n\r\ninterface TopTokensResponse {\r\n  tokens: {\r\n    id: string\r\n  }[]\r\n}\r\n\r\n/**\r\n * Fetch top addresses by volume\r\n */\r\nexport function useTopTokenAddresses(): {\r\n  loading: boolean\r\n  error: boolean\r\n  addresses: string[] | undefined\r\n} {\r\n  const { loading, error, data } = useQuery<TopTokensResponse>(TOP_TOKENS)\r\n\r\n  const formattedData = useMemo(() => {\r\n    if (data) {\r\n      return data.tokens.map((t) => t.id)\r\n    } else {\r\n      return undefined\r\n    }\r\n  }, [data])\r\n\r\n  return {\r\n    loading: loading,\r\n    error: Boolean(error),\r\n    addresses: formattedData,\r\n  }\r\n}\r\n","import { useAllTokenData, useUpdateTokenData, useAddTokenKeys } from './hooks'\r\nimport { useEffect, useMemo } from 'react'\r\nimport { useTopTokenAddresses } from '../../data/tokens/topTokens'\r\nimport { useFetchedTokenDatas } from 'data/tokens/tokenData'\r\n\r\nexport default function Updater(): null {\r\n  // updaters\r\n  const updateTokenDatas = useUpdateTokenData()\r\n  const addTokenKeys = useAddTokenKeys()\r\n\r\n  // intitial data\r\n  const allTokenData = useAllTokenData()\r\n  const { loading, error, addresses } = useTopTokenAddresses()\r\n\r\n  // add top pools on first load\r\n  useEffect(() => {\r\n    if (addresses && !error && !loading) {\r\n      addTokenKeys(addresses)\r\n    }\r\n  }, [addTokenKeys, addresses, error, loading])\r\n\r\n  // detect for which addresses we havent loaded token data yet\r\n  const unfetchedTokenAddresses = useMemo(() => {\r\n    return Object.keys(allTokenData).reduce((accum: string[], key) => {\r\n      const tokenData = allTokenData[key]\r\n      if (!tokenData.data || !tokenData.lastUpdated) {\r\n        accum.push(key)\r\n      }\r\n      return accum\r\n    }, [])\r\n  }, [allTokenData])\r\n\r\n  // update unloaded pool entries with fetched data\r\n  const { error: tokenDataError, loading: tokenDataLoading, data: tokenDatas } = useFetchedTokenDatas(\r\n    unfetchedTokenAddresses\r\n  )\r\n  useEffect(() => {\r\n    if (tokenDatas && !tokenDataError && !tokenDataLoading) {\r\n      updateTokenDatas(Object.values(tokenDatas))\r\n    }\r\n  }, [tokenDataError, tokenDataLoading, tokenDatas, updateTokenDatas])\r\n\r\n  return null\r\n}\r\n","import { useMemo } from 'react'\r\n\r\nimport { useQuery } from '@apollo/client'\r\nimport gql from 'graphql-tag'\r\n\r\nexport const TOP_POOLS = gql`\r\n  query topPools {\r\n    whitelistedPools(orderBy: totalValueLocked, orderDirection: desc) {\r\n      id\r\n    }\r\n  }\r\n`\r\n\r\ninterface TopPoolsResponse {\r\n  whitelistedPools: {\r\n    id: string\r\n  }[]\r\n}\r\n\r\n/**\r\n * Fetch top addresses by volume\r\n */\r\nexport function useTopPoolAddresses(): {\r\n  loading: boolean\r\n  error: boolean\r\n  addresses: string[] | undefined\r\n} {\r\n  const { loading, error, data } = useQuery<TopPoolsResponse>(TOP_POOLS, {\r\n    // client: aquaV3Client,\r\n    fetchPolicy: 'network-only',\r\n  })\r\n  // console.log('data=========', data)\r\n  const formattedData = useMemo(() => {\r\n    if (data) {\r\n      return data.whitelistedPools.map((p) => p.id)\r\n    } else {\r\n      return undefined\r\n    }\r\n  }, [data])\r\n\r\n  return {\r\n    loading: loading,\r\n    error: Boolean(error),\r\n    addresses: formattedData,\r\n  }\r\n}\r\n","import { useQuery } from '@apollo/client'\r\nimport gql from 'graphql-tag'\r\nimport { useDeltaTimestamps } from 'utils/queries'\r\nimport { useBlocksFromTimestamps } from 'hooks/useBlocksFromTimestamps'\r\nimport { PoolData } from 'state/pools/reducer'\r\nimport { get2DayChange } from 'utils/data'\r\nimport { formatTokenName, formatTokenSymbol } from 'utils/tokens'\r\nimport { useEffect } from 'react'\r\n\r\nexport const POOLS_BULK = (block: number | undefined, pools: string[]) => {\r\n  let poolString = `[`\r\n  pools.map((address) => {\r\n    return (poolString += `\"${address}\",`)\r\n  })\r\n  poolString += ']'\r\n  const queryString =\r\n    `\r\n    query pools {\r\n      whitelistedPools(where: {id_in: ${poolString}},` +\r\n    (block ? `block: {number: ${block}} ,` : ``) +\r\n    ` orderBy: totalValueLocked, orderDirection: desc) {\r\n      id\r\n    createdAtTimestamp\r\n    createdAtBlockNumber\r\n      token0 {\r\n        id\r\n        name\r\n        decimals\r\n        symbol\r\n      }\r\n      token1 {\r\n        id\r\n        name\r\n        decimals\r\n        symbol\r\n      }\r\n      feeTier\r\n    aquaPremium\r\n    token0Price\r\n    token1Price\r\n      totalValueLockedToken0\r\n    totalValueLockedToken1\r\n      totalValueLocked\r\n    aquaPremiumCollected\r\n      aquaPremiumCollectedUSD\r\n    stakeCount\r\n    unstakeCount\r\n    }\r\n    }\r\n    `\r\n  return gql(queryString)\r\n}\r\n\r\ninterface PoolFields {\r\n  id: string\r\n  createdAtTimestamp: string\r\n\r\n  token0: {\r\n    id: string\r\n    symbol: string\r\n    name: string\r\n    decimals: string\r\n  }\r\n  token1: {\r\n    id: string\r\n    symbol: string\r\n    name: string\r\n    decimals: string\r\n  }\r\n  feeTier: string\r\n  token0Price: string\r\n  token1Price: string\r\n  aquaPremium: string\r\n\r\n  totalValueLockedToken0: string\r\n  totalValueLockedToken1: string\r\n  totalValueLocked: string\r\n  aquaPremiumCollected: string\r\n  aquaPremiumCollectedUSD: string\r\n  stakeCount: string\r\n  unstakeCount: string\r\n  // tvlUSD: number\r\n  aquaPremiumCollectedUSDChange: number\r\n  tvlUSDChange: number\r\n}\r\n\r\ninterface PoolDataResponse {\r\n  whitelistedPools: PoolFields[]\r\n}\r\n\r\n/**\r\n * Fetch top addresses by volume\r\n */\r\nexport function usePoolDatas(\r\n  poolAddresses: string[]\r\n): {\r\n  loading: boolean\r\n  error: boolean\r\n  data:\r\n    | {\r\n        [address: string]: PoolData\r\n      }\r\n    | undefined\r\n} {\r\n  // get blocks from historic timestamps\r\n  const [t24, t48, tWeek] = useDeltaTimestamps()\r\n  const { blocks, error: blockError } = useBlocksFromTimestamps([t24, t48, tWeek])\r\n  const [block24, block48, blockWeek] = blocks ?? []\r\n\r\n  const { loading, error, data } = useQuery<PoolDataResponse>(POOLS_BULK(undefined, poolAddresses))\r\n\r\n  const { loading: loading24, error: error24, data: data24 } = useQuery<PoolDataResponse>(\r\n    POOLS_BULK(block24?.number, poolAddresses)\r\n  )\r\n\r\n  useEffect(() => {\r\n    // console.log('data24=======', data24, error24)\r\n  }, [data24, error24])\r\n\r\n  const { loading: loading48, error: error48, data: data48 } = useQuery<PoolDataResponse>(\r\n    POOLS_BULK(block48?.number, poolAddresses)\r\n  )\r\n  const { loading: loadingWeek, error: errorWeek, data: dataWeek } = useQuery<PoolDataResponse>(\r\n    POOLS_BULK(blockWeek?.number, poolAddresses)\r\n  )\r\n\r\n  const anyError = Boolean(error || error24 || error48 || blockError || errorWeek)\r\n  const anyLoading = Boolean(loading || loading24 || loading48 || loadingWeek)\r\n\r\n  // return early if not all data yet\r\n  if (anyError || anyLoading) {\r\n    return {\r\n      loading: anyLoading,\r\n      error: anyError,\r\n      data: undefined,\r\n    }\r\n  }\r\n\r\n  const parsed = data?.whitelistedPools\r\n    ? data.whitelistedPools.reduce((accum: { [address: string]: PoolFields }, poolData) => {\r\n        accum[poolData.id] = poolData\r\n        return accum\r\n      }, {})\r\n    : {}\r\n  const parsed24 = data24?.whitelistedPools\r\n    ? data24.whitelistedPools.reduce((accum: { [address: string]: PoolFields }, poolData) => {\r\n        accum[poolData.id] = poolData\r\n        return accum\r\n      }, {})\r\n    : {}\r\n  const parsed48 = data48?.whitelistedPools\r\n    ? data48.whitelistedPools.reduce((accum: { [address: string]: PoolFields }, poolData) => {\r\n        accum[poolData.id] = poolData\r\n        return accum\r\n      }, {})\r\n    : {}\r\n  const parsedWeek = dataWeek?.whitelistedPools\r\n    ? dataWeek.whitelistedPools.reduce((accum: { [address: string]: PoolFields }, poolData) => {\r\n        accum[poolData.id] = poolData\r\n        return accum\r\n      }, {})\r\n    : {}\r\n\r\n  // format data and calculate daily changes\r\n  const formatted = poolAddresses.reduce((accum: { [address: string]: PoolData }, address) => {\r\n    const current: PoolFields | undefined = parsed[address]\r\n    const oneDay: PoolFields | undefined = parsed24[address]\r\n    const twoDay: PoolFields | undefined = parsed48[address]\r\n    const week: PoolFields | undefined = parsedWeek[address]\r\n\r\n    // const [volumeUSD, volumeUSDChange] =\r\n    //   current && oneDay && twoDay\r\n    //     ? get2DayChange(current.totalValueLocked, oneDay.totalValueLocked, twoDay.totalValueLocked)\r\n    //     : current\r\n    //     ? [parseFloat(current.totalValueLocked), 0]\r\n    //     : [0, 0]\r\n\r\n    // const volumeUSDWeek =\r\n    //   current && week\r\n    //     ? parseFloat(current.totalValueLocked) - parseFloat(week.totalValueLocked)\r\n    //     : current\r\n    //     ? parseFloat(current.totalValueLocked)\r\n    //     : 0\r\n\r\n    const aquaPremiumCollectedUSDChange: number =\r\n      current && oneDay\r\n        ? ((parseFloat(current.aquaPremiumCollectedUSD) - parseFloat(oneDay.aquaPremiumCollectedUSD)) /\r\n            parseFloat(oneDay.aquaPremiumCollectedUSD)) *\r\n          100\r\n        : 0\r\n    // const tvlUSD = current ? parseFloat(current.totalValueLocked) : 0\r\n\r\n    const tvlUSDChange: number =\r\n      current && oneDay\r\n        ? ((parseFloat(current.totalValueLocked) - parseFloat(oneDay.totalValueLocked)) /\r\n            parseFloat(oneDay.totalValueLocked)) *\r\n          100\r\n        : 0\r\n\r\n    // const tvlToken0 = current ? parseFloat(current.totalValueLockedToken0) : 0\r\n    // const tvlToken1 = current ? parseFloat(current.totalValueLockedToken1) : 0\r\n\r\n    const feeTier = current ? current.feeTier : '0'\r\n\r\n    if (current) {\r\n      accum[address] = {\r\n        id: address,\r\n        createdAtTimestamp: current.createdAtTimestamp,\r\n\r\n        feeTier,\r\n        token0: {\r\n          id: current.token0.id,\r\n          name: formatTokenName(current.token0.id, current.token0.name),\r\n          symbol: formatTokenSymbol(current.token0.id, current.token0.symbol),\r\n          decimals: current.token0.decimals,\r\n        },\r\n        token1: {\r\n          id: current.token1.id,\r\n          name: formatTokenName(current.token1.id, current.token1.name),\r\n          symbol: formatTokenSymbol(current.token1.id, current.token1.symbol),\r\n          decimals: current.token1.decimals,\r\n        },\r\n        token0Price: current.token0Price,\r\n        token1Price: current.token1Price,\r\n\r\n        aquaPremium: current.aquaPremium,\r\n\r\n        totalValueLockedToken0: current.totalValueLockedToken0,\r\n        totalValueLockedToken1: current.totalValueLockedToken1,\r\n        totalValueLocked: current.totalValueLocked,\r\n        aquaPremiumCollected: current.aquaPremiumCollected,\r\n        aquaPremiumCollectedUSD: current.aquaPremiumCollectedUSD,\r\n        stakeCount: current.stakeCount,\r\n        unstakeCount: current.unstakeCount,\r\n        // tvlUSD,\r\n        aquaPremiumCollectedUSDChange,\r\n        tvlUSDChange,\r\n        // tvlToken0,\r\n        // tvlToken1,\r\n      }\r\n    }\r\n\r\n    return accum\r\n  }, {})\r\n\r\n  return {\r\n    loading: anyLoading,\r\n    error: anyError,\r\n    data: formatted,\r\n  }\r\n}\r\n","import { useUpdatePoolData, useAllPoolData, useAddPoolKeys } from './hooks'\r\nimport { useEffect, useMemo } from 'react'\r\nimport { useTopPoolAddresses } from 'data/pools/topPools'\r\nimport { usePoolDatas } from 'data/pools/poolData'\r\n\r\nexport default function Updater(): null {\r\n  // updaters\r\n  const updatePoolData = useUpdatePoolData()\r\n  const addPoolKeys = useAddPoolKeys()\r\n\r\n  // data\r\n  const allPoolData = useAllPoolData()\r\n  const { loading, error, addresses } = useTopPoolAddresses()\r\n\r\n  // add top pools on first load\r\n  useEffect(() => {\r\n    if (addresses && !error && !loading) {\r\n      addPoolKeys(addresses)\r\n    }\r\n  }, [addPoolKeys, addresses, error, loading])\r\n\r\n  // detect for which addresses we havent loaded pool data yet\r\n  const unfetchedPoolAddresses = useMemo(() => {\r\n    return Object.keys(allPoolData).reduce((accum: string[], key) => {\r\n      const poolData = allPoolData[key]\r\n      if (!poolData.data || !poolData.lastUpdated) {\r\n        accum.push(key)\r\n      }\r\n      return accum\r\n    }, [])\r\n  }, [allPoolData])\r\n\r\n  // update unloaded pool entries with fetched data\r\n  const { error: poolDataError, loading: poolDataLoading, data: poolDatas } = usePoolDatas(unfetchedPoolAddresses)\r\n  useEffect(() => {\r\n    if (poolDatas && !poolDataError && !poolDataLoading) {\r\n      updatePoolData(Object.values(poolDatas))\r\n    }\r\n  }, [poolDataError, poolDataLoading, poolDatas, updatePoolData])\r\n\r\n  return null\r\n}\r\n","import { healthClient } from './../../apollo/client'\r\nimport { useQuery } from '@apollo/client'\r\nimport gql from 'graphql-tag'\r\n\r\nexport const SUBGRAPH_HEALTH = gql`\r\n  query health {\r\n    indexingStatusForCurrentVersion(subgraphName: \"uniswap/uniswap-v2\") {\r\n      synced\r\n      health\r\n      chains {\r\n        chainHeadBlock {\r\n          number\r\n        }\r\n        latestBlock {\r\n          number\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\ninterface HealthResponse {\r\n  indexingStatusForCurrentVersion: {\r\n    chains: {\r\n      chainHeadBlock: {\r\n        number: string\r\n      }\r\n      latestBlock: {\r\n        number: string\r\n      }\r\n    }[]\r\n    synced: boolean\r\n  }\r\n}\r\n\r\n/**\r\n * Fetch top addresses by volume\r\n */\r\nexport function useFetchedSubgraphStatus(): {\r\n  available: boolean | null\r\n  syncedBlock: number | undefined\r\n  headBlock: number | undefined\r\n} {\r\n  const { loading, error, data } = useQuery<HealthResponse>(SUBGRAPH_HEALTH, {\r\n    client: healthClient,\r\n    fetchPolicy: 'network-only',\r\n  })\r\n\r\n  const parsed = data?.indexingStatusForCurrentVersion\r\n\r\n  if (loading) {\r\n    return {\r\n      available: null,\r\n      syncedBlock: undefined,\r\n      headBlock: undefined,\r\n    }\r\n  }\r\n\r\n  if ((!loading && !parsed) || error) {\r\n    return {\r\n      available: false,\r\n      syncedBlock: undefined,\r\n      headBlock: undefined,\r\n    }\r\n  }\r\n\r\n  const syncedBlock = parsed?.chains[0].latestBlock.number\r\n  const headBlock = parsed?.chains[0].chainHeadBlock.number\r\n\r\n  return {\r\n    available: true,\r\n    syncedBlock: syncedBlock ? parseFloat(syncedBlock) : undefined,\r\n    headBlock: headBlock ? parseFloat(headBlock) : undefined,\r\n  }\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useSubgraphStatus } from './hooks'\r\nimport { useFetchedSubgraphStatus } from '../../data/application'\r\n\r\nexport default function Updater(): null {\r\n  // subgraph status\r\n  const [status, updateStatus] = useSubgraphStatus()\r\n  const { available, syncedBlock: newSyncedBlock } = useFetchedSubgraphStatus()\r\n\r\n  const syncedBlock = status.syncedBlock\r\n\r\n  useEffect(() => {\r\n    if (status.available === null && available !== null) {\r\n      updateStatus(available, syncedBlock)\r\n    }\r\n    if (!status.syncedBlock || (status.syncedBlock !== newSyncedBlock && syncedBlock)) {\r\n      updateStatus(status.available, newSyncedBlock)\r\n    }\r\n  }, [available, newSyncedBlock, status.available, status.syncedBlock, syncedBlock, updateStatus])\r\n\r\n  return null\r\n}\r\n","import 'inter-ui'\r\nimport React, { StrictMode } from 'react'\r\nimport { isMobile } from 'react-device-detect'\r\nimport ReactDOM from 'react-dom'\r\nimport ReactGA from 'react-ga'\r\nimport { Provider } from 'react-redux'\r\nimport { HashRouter } from 'react-router-dom'\r\nimport './i18n'\r\nimport App from './pages/App'\r\nimport store from './state'\r\nimport UserUpdater from './state/user/updater'\r\nimport ProtocolUpdater from './state/protocol/updater'\r\nimport TokenUpdater from './state/tokens/updater'\r\nimport PoolUpdater from './state/pools/updater'\r\nimport ApplicationUpdater from './state/application/updater'\r\nimport ThemeProvider, { FixedGlobalStyle, ThemedGlobalStyle } from './theme'\r\nimport { ApolloProvider } from '@apollo/client/react'\r\nimport { client } from 'apollo/client'\r\n\r\nconst GOOGLE_ANALYTICS_ID: string | undefined = process.env.REACT_APP_GOOGLE_ANALYTICS_ID\r\nif (typeof GOOGLE_ANALYTICS_ID === 'string') {\r\n  ReactGA.initialize(GOOGLE_ANALYTICS_ID)\r\n  ReactGA.set({\r\n    customBrowserType: !isMobile\r\n      ? 'desktop'\r\n      : 'web3' in window || 'ethereum' in window\r\n      ? 'mobileWeb3'\r\n      : 'mobileRegular',\r\n  })\r\n} else {\r\n  ReactGA.initialize('test', { testMode: true, debug: true })\r\n}\r\n\r\nwindow.addEventListener('error', (error) => {\r\n  ReactGA.exception({\r\n    description: `${error.message} @ ${error.filename}:${error.lineno}:${error.colno}`,\r\n    fatal: true,\r\n  })\r\n})\r\n\r\nfunction Updaters() {\r\n  return (\r\n    <>\r\n      <UserUpdater />\r\n      <ProtocolUpdater />\r\n      <TokenUpdater />\r\n      <PoolUpdater />\r\n      <ApplicationUpdater />\r\n    </>\r\n  )\r\n}\r\n\r\nReactDOM.render(\r\n  <StrictMode>\r\n    <FixedGlobalStyle />\r\n    <ApolloProvider client={client}>\r\n      <Provider store={store}>\r\n        <Updaters />\r\n        <ThemeProvider>\r\n          <ThemedGlobalStyle />\r\n          <HashRouter>\r\n            <App />\r\n          </HashRouter>\r\n        </ThemeProvider>\r\n      </Provider>\r\n    </ApolloProvider>\r\n  </StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}